<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:view="com.efi.view.*" xmlns:vo="com.efi.vo.*"
width="100%" height="100%" title="Customer Editor"
creationComplete="init()" label="Customer Editor" name="Customer Editor">
                             
<mx:RemoteObject id="saveService" destination="accountService"
result="handleSaveResult(event)" fault="handleFault(event)"
showBusyCursor="true" />

<mx:RemoteObject id="loaderService" destination="accountService"
result="handleLoadResult(event)"  fault="handleFault(event)"
showBusyCursor="true" />
                             
<mx:RemoteObject id="deleteService" destination="accountService"
result="handleDeleteResult(event)" fault="handleFault(event)" showBusyCursor="true" />

<mx:Producer id="producer" destination="accounts"/>
<mx:Consumer id="consumer" destination="accounts" message="messageHandler(event.message)"/>
<mx:Consumer id="notification_consumer" destination="notifications" message="messageHandler(event.message)"/>


<mx:Script>                                   
<![CDATA[
	import com.efi.vo.Contact;
	import com.efi.vo.Address;
                                         
	import com.efi.vo.Account;                                         
	import mx.controls.Alert;                                         
	import mx.managers.PopUpManager;                                         
	import mx.containers.TitleWindow;                                         
	import mx.collections.ArrayCollection;                                         
	import mx.rpc.events.ResultEvent;                                         
	import mx.rpc.events.FaultEvent;                                         
	import mx.messaging.messages.AsyncMessage;
	import mx.messaging.messages.IMessage;
                   
    private var enableSave:Boolean = true;
                         
	[Bindable]                                         
	private var account:Account;
                                                                                  	
	public function init():void {
		consumer.subscribe();
		notification_consumer.subscribe();     
	    var titleWindow:AccountPicker = AccountPicker(PopUpManager.createPopUp(this, AccountPicker, true));
	    titleWindow.setStyle("borderAlpha", 0.9);
	    titleWindow.formIsEmpty = true;
	    account = new Account();
	    /* Note - the following constructors NEED to live in the .vo object constructor for the respective objects... */
	    account.shipToAddress = new Address();
	    account.billToAddress = new Address();
	    account.billToContact = new Contact();
	    account.contact = new Contact();
	    account.contact.address = new Address();
	    account.billToContact.address = new Address();
	}      
	                                                   	
	public function loadAccounts():void {   
	    loaderService.getAccounts(); 
	}

	private function send():void
	{
		var message:IMessage = new AsyncMessage();
		message.body.accounts = "*";
		//producer.send(message);
	}
					
	private function messageHandler(message:IMessage):void
	{
   		loadAccounts();
	}
                                  
	private function deleteAccount():void {              
	                                         
	}
	
	private function createAccount():void {
	//     var titleWindow:UserForm = UserForm(PopUpManager.createPopUp(this, UserForm, true));
	//     titleWindow.setStyle("borderAlpha", 0.9);
	//     titleWindow.formIsEmpty = true;
	}
	                                                         
	private function updateUser():void {
	//     var titleWindow:UserForm = UserForm(PopUpManager.createPopUp(this, UserForm, true));
	//     titleWindow.setStyle("borderAlpha", 0.9);
	//     titleWindow.user = dataGrid.selectedItem as User;
	//     titleWindow.formIsEmpty = false;
	}
	
	private function mapAccountData():void {
		account.title = name_edit.text;
		account.externalAcctId = external_ref_edit.text;
		account.externalAcctId = external_acct_id_edit.text;
		
		account.shipToAddress.name = ship_company_edit.text;
		account.shipToAddress.street1 = ship_street1_edit.text;
		account.shipToAddress.street2 = ship_street2_edit.text;
		account.shipToAddress.city = ship_city_edit.text;
		account.shipToAddress.zip = ship_zip_edit.text;
		account.shipToAddress.country = ship_country_edit.text;
		account.shipToAddress.state = ship_state_edit.text;
		
		account.billToAddress.name = bill_company_edit.text;
		account.billToAddress.street1 =	bill_street1_edit.text;		
		account.billToAddress.street2 =	bill_street2_edit.text;		
		account.billToAddress.city = bill_city_edit.text;
		account.billToAddress.zip =	bill_zip_edit.text;		     
		account.billToAddress.country =	bill_country_edit.text;
		account.billToAddress.state	= bill_state_edit.text;

		account.contact.address.firstName = ship_contact_first_name_edit.text;
		account.contact.address.lastName = ship_contact_last_name_edit.text;		
		account.contact.address.prefix = ship_contact_prefix_edit.text;			
		account.contact.address.suffix = ship_contact_suffix_edit.text;			
		account.contact.address.jobTitle = ship_contact_job_title_edit.text;		
		account.contact.address.salutation = ship_contact_salutation_edit.text;

		account.billToContact.address.firstName = bill_contact_first_name_edit.text;
		account.billToContact.address.lastName = bill_contact_last_name_edit.text;
		account.billToContact.address.prefix = bill_contact_prefix_edit.text;	
		account.billToContact.address.suffix = bill_contact_suffix_edit.text;
		account.billToContact.address.jobTitle = bill_contact_job_title_edit.text;
		account.billToContact.address.salutation = bill_contact_salutation_edit.text;
	}
	
	private function doSave():void {
		mapAccountData();
		saveService.addUpdateAccount(account);                                        		
	}                  
	
	private function handleSaveResult(ev:ResultEvent):void {
	}

	private function handleLoadResult(ev:ResultEvent):void {
	}
	                                 
	private function handleDeleteResult(ev:ResultEvent):void {
	     loadAccounts();
	     send();
	}
	      
	private function handleFault(ev:FaultEvent):void {  
		var message:String;
		              
		message = "Error: "                          
		+ ev.fault.faultCode + " - "                                  
		+ ev.fault.faultDetail + " - "                                  
		+ ev.fault.faultString;
		Alert.show(message, "Error", 0, null, null, null,null);                                 
	}
                                   
]]>
                             
</mx:Script>

<mx:VBox width="100%" height="100%">
	<mx:Canvas width="851" height="704">
		<mx:TabNavigator x="0" y="70" width="681" height="635">
			<mx:Canvas label="Address" width="100%" height="100%">
				<mx:TextInput x="282" y="10" id="name_edit" width="387" text="{account.title}"/>
				<mx:Text x="10" y="12" text="Acct #:&#xd;" width="46"/>
				<mx:Text x="55" y="12" width="76" id="acct_text" text="{account.id}"/>
				<mx:Label x="232" y="12" text="Name:" textAlign="right"/>
				<mx:TextInput x="282" y="38" id="external_ref_edit"  text="{account.externalAcctId}"/>
				<mx:TextInput x="282" y="66" id="external_acct_id_edit" text="{account.externalAcctId}"/>
				<mx:Label x="139" y="68" text="External Accounting ID:" textAlign="right"/>
				<mx:Label x="184" y="40" text="External Ref #:" textAlign="right"/>
				<mx:Panel x="10" y="94" width="325" height="182" layout="absolute" title="Invoice Address">
					<mx:TextInput x="85" y="10" width="210" id="ship_company_edit" text="{account.shipToAddress.name}"/>
					<mx:Label x="10" y="10" text="Company:" width="67" textAlign="right"/>
					<mx:TextInput x="85" y="36" width="210" id="ship_street1_edit" text="{account.shipToAddress.street1}"/>
					<mx:TextInput x="85" y="62" width="210" id="ship_street2_edit" text="{account.shipToAddress.street2}"/>
					<mx:Label x="10" y="36" text="Street:" width="67" textAlign="right"/>
					<mx:TextInput x="85" y="88" width="123" id="ship_city_edit" text="{account.shipToAddress.city}"/>
					<mx:TextInput x="263" y="88" width="32" id="ship_state_edit" text="{account.shipToAddress.state}"/>
					<mx:TextInput x="85" y="114" width="75" id="ship_zip_edit" text="{account.shipToAddress.zip}"/>
					<mx:Label x="10" y="114" text="Zip:" width="67" textAlign="right"/>
					<mx:TextInput x="233" y="114" width="62" id="ship_country_edit" text="{account.shipToAddress.country}"/>
					<mx:Label x="168" y="114" text="Country:" width="57" textAlign="right"/>
					<mx:Label x="216" y="88" text="State:" width="39" textAlign="right"/>
					<mx:Label x="10" y="88" text="City:" width="67" textAlign="right"/>
				</mx:Panel>
				<mx:Panel x="344" y="94" width="325" height="182" layout="absolute" title="Statement Address">
					<mx:TextInput x="85" y="10" width="210" id="bill_company_edit" text="{account.billToAddress.name}"/>
					<mx:Label x="10" y="10" text="Company:" width="67" textAlign="right"/>
					<mx:TextInput x="85" y="36" width="210" id="bill_street1_edit" text="{account.billToAddress.street1}"/>
					<mx:TextInput x="85" y="62" width="210" id="bill_street2_edit" text="{account.billToAddress.street2}"/>
					<mx:Label x="10" y="36" text="Street:" width="67" textAlign="right"/>
					<mx:TextInput x="85" y="88" width="123" id="bill_city_edit" text="{account.billToAddress.city}"/>
					<mx:TextInput x="263" y="88" width="32" id="bill_state_edit" text="{account.billToAddress.state}"/>
					<mx:TextInput x="85" y="114" width="75" id="bill_zip_edit" text="{account.billToAddress.zip}"/>
					<mx:Label x="10" y="114" text="Zip:" width="67" textAlign="right"/>
					<mx:TextInput x="233" y="114" width="62" id="bill_country_edit" text="{account.billToAddress.country}"/>
					<mx:Label x="168" y="114" text="Country:" width="57" textAlign="right"/>
					<mx:Label x="216" y="88" text="State:" width="39" textAlign="right"/>
					<mx:Label x="10" y="88" text="City:" width="67" textAlign="right"/>
				</mx:Panel>
				<mx:Panel x="10" y="284" width="325" height="282" layout="absolute" title="Invoice Contact">
					<mx:TextInput x="101" y="10" width="194" id="ship_contact_first_name_edit" text="{account.contact.address.firstName}"/>
					<mx:Label x="10" y="12" text="First Name:" width="83" textAlign="right"/>
					<mx:TextInput x="101" y="38" width="194" id="ship_contact_last_name_edit" text="{account.contact.address.lastName}"/>
					<mx:TextInput x="101" y="66" width="46" id="ship_contact_prefix_edit" text="{account.contact.address.prefix}"/>
					<mx:Label x="10" y="40" text="Last Name:" width="83" textAlign="right"/>
					<mx:Label x="26" y="68" text="Prefix:" width="67" textAlign="right"/>
					<mx:Label x="26" y="96" text="Job Title:" width="67" textAlign="right"/>
					<mx:TextInput x="249" y="68" width="46" id="ship_contact_suffix_edit" text="{account.contact.address.suffix}"/>
					<mx:Label x="193" y="70" text="Suffix:" width="48" textAlign="right"/>
					<mx:TextInput x="101" y="94" width="194" id="ship_contact_job_title_edit" text="{account.contact.address.jobTitle}"/>
					<mx:Label x="26" y="124" text="Salutation:" width="67" textAlign="right"/>
					<mx:TextInput x="101" y="122" width="194" id="ship_contact_salutation_edit" text="{account.contact.address.salutation}"/>
					<mx:TextInput x="172" y="150" width="123" id="ship_contact_comlink1_edit"/>
					<mx:TextInput x="172" y="180" width="123" id="ship_contact_comlink2_edit"/>
					<mx:TextInput x="172" y="210" width="123" id="ship_contact_comlink3_edit"/>
					<mx:ComboBox x="10" y="180" width="137" id="ship_contact_comlink2_combo"></mx:ComboBox>
					<mx:ComboBox x="10" y="150" width="137" id="ship_contact_comlink1_combo"></mx:ComboBox>
					<mx:ComboBox x="10" y="210" width="137" id="ship_contact_comlink3_combo"></mx:ComboBox>
				</mx:Panel>
				<mx:Panel x="344" y="284" width="325" height="282" layout="absolute" title="Statement Contact">
					<mx:TextInput x="101" y="10" width="194" id="bill_contact_first_name_edit" text="{account.billToContact.address.firstName}"/>
					<mx:Label x="10" y="12" text="First Name:" width="83" textAlign="right"/>
					<mx:TextInput x="101" y="38" width="194" id="bill_contact_last_name_edit" text="{account.billToContact.address.lastName}"/>
					<mx:TextInput x="101" y="66" width="46" id="bill_contact_prefix_edit" text="{account.billToContact.address.prefix}"/>
					<mx:Label x="10" y="40" text="Last Name:" width="83" textAlign="right"/>
					<mx:Label x="26" y="68" text="Prefix:" width="67" textAlign="right"/>
					<mx:Label x="26" y="96" text="Job Title:" width="67" textAlign="right"/>
					<mx:TextInput x="249" y="68" width="46" id="bill_contact_suffix_edit" text="{account.billToContact.address.suffix}"/>
					<mx:Label x="193" y="70" text="Suffix:" width="48" textAlign="right"/>
					<mx:TextInput x="101" y="94" width="194" id="bill_contact_job_title_edit" text="{account.billToContact.address.jobTitle}"/>
					<mx:Label x="26" y="124" text="Salutation:" width="67" textAlign="right"/>
					<mx:TextInput x="101" y="122" width="194" id="bill_contact_salutation_edit" text="{account.billToContact.address.salutation}"/>
					<mx:TextInput x="172" y="150" width="123" id="bill_contact_comlink1_edit"/>
					<mx:TextInput x="172" y="180" width="123" id="bill_contact_comlink2_edit"/>
					<mx:TextInput x="172" y="210" width="123" id="bill_contact_comlink3_edit"/>
					<mx:ComboBox x="10" y="180" width="137" id="bill_contact_comlink2_combo"></mx:ComboBox>
					<mx:ComboBox x="10" y="150" width="137" id="bill_contact_comlink1_combo"></mx:ComboBox>
					<mx:ComboBox x="10" y="210" width="137" id="bill_contact_comlink3_combo"></mx:ComboBox>
				</mx:Panel>
			</mx:Canvas>
			<mx:Canvas label="Credit Control" width="100%" height="100%">
				<mx:TextInput x="181" y="10" id="name_edit0" width="160"/>
				<mx:Label x="99" y="12" text="Credit Limit:" textAlign="right"/>
				<mx:TextInput x="181" y="38" id="external_ref_edit0"/>
				<mx:TextInput x="181" y="66" id="name_edit2"/>
				<mx:Label x="10" y="68" text="Monthly Finance Charge Pct:" textAlign="right"/>
				<mx:Label x="45" y="94" text="Finance Charges YTD:" textAlign="right"/>
				<mx:Label x="45" y="120" text="Current Balance:" textAlign="right" width="128"/>
				<mx:Label x="181" y="120" text="0.00" textAlign="right" width="160"/>
				<mx:Label x="181" y="94" text="0.00" textAlign="right" width="160"/>
				<mx:Label x="36" y="40" text="Due days from posting:" textAlign="right"/>
				<mx:Text x="349" y="12" text="(Using system limit of 2,500.00)&#xd;" width="348" fontWeight="bold"/>
				<mx:Text x="349" y="40" text="Avg. Days to Pay&#xd;" width="348" fontWeight="bold"/>
				<mx:Text x="349" y="68" text="(Using standard rate of 1.5%)&#xd;" width="348" fontWeight="bold"/>
				<mx:CheckBox x="384" y="92" label="Never calculate finance charges"/>
				<mx:Panel x="10" y="146" width="402" height="118" layout="absolute" title="Automatic Discount">
					<mx:TextInput x="85" y="10" width="132" id="street_edit10"/>
					<mx:TextInput x="85" y="40" width="132" id="street_edit11"/>
					<mx:RadioButton x="10" y="10" label="Percent:"/>
					<mx:RadioButton x="10" y="40" label="Dollars:"/>
					<mx:CheckBox x="225" y="40" label="One-time discount"/>
				</mx:Panel>
				<mx:Panel x="10" y="272" width="402" height="115" layout="absolute" title="Account Status">
					<mx:RadioButton x="10" y="10" label="New"/>
					<mx:RadioButton x="138" y="10" label="Current"/>
					<mx:RadioButton x="138" y="40" label="Delinquent"/>
					<mx:RadioButton x="303" y="10" label="Inactive"/>
					<mx:RadioButton x="303" y="40" label="Frozen"/>
					<mx:RadioButton x="10" y="40" label="Past Due"/>
				</mx:Panel>
				<mx:Panel x="420" y="146" width="208" height="241" layout="absolute" title="Type">
					<mx:RadioButton x="10" y="10" label="Full Deposit"/>
					<mx:RadioButton x="10" y="40" label="Cash only"/>
					<mx:RadioButton x="10" y="70" label="Cash/Check/Credit Card"/>
					<mx:RadioButton x="10" y="100" label="Charge Account"/>
					<mx:RadioButton x="10" y="130" label="Credit Card on File"/>
				</mx:Panel>
			</mx:Canvas>
			<mx:Canvas label="Settings" width="100%" height="100%">
				<mx:Label x="10" y="10" text="Master Account:" textAlign="right"/>
				<mx:Label x="10" y="36" text="Sales Rep:" textAlign="right" width="93"/>
				<mx:Label x="10" y="62" text="Business Type:" textAlign="right" width="93"/>
				<mx:Label x="10" y="116" text="PO Number:" textAlign="right" width="93"/>
				<mx:Label x="305" y="234" text="Security level:" textAlign="right" width="93"/>
				<mx:Text x="111" y="116" width="160"/>
				<mx:Text x="111" y="10" width="464"/>
				<mx:Text x="406" y="234" width="109"/>
				<mx:Button x="583" y="8" label="Select..."/>
				<mx:ComboBox x="111" y="34" width="160"></mx:ComboBox>
				<mx:ComboBox x="111" y="60" width="160" editable="true"></mx:ComboBox>
				<mx:Label x="10" y="90" text="Ship Via:" textAlign="right" width="93"/>
				<mx:ComboBox x="111" y="88" width="160"></mx:ComboBox>
				<mx:Label x="10" y="264" text="Default Invoice:" textAlign="right" width="102"/>
				<mx:ComboBox x="120" y="262" width="160"></mx:ComboBox>
				<mx:Label x="10" y="292" text="Default Estimate:" textAlign="right" width="102"/>
				<mx:ComboBox x="120" y="290" width="160"></mx:ComboBox>
				<mx:CheckBox x="10" y="142" label="PO Required on invoices" width="236"/>
				<mx:CheckBox x="10" y="172" label="Do not generate statements" width="236"/>
				<mx:CheckBox x="10" y="202" label="Account is commissioned" width="236"/>
				<mx:CheckBox x="10" y="232" label="Always file originals" width="236"/>
				<mx:Panel x="305" y="38" width="351" height="186" layout="absolute" title="Tax Setup">
					<mx:Label x="0" y="12" text="Tax Table:" textAlign="right" width="93"/>
					<mx:ComboBox x="101" y="10" width="160"></mx:ComboBox>
					<mx:Label x="0" y="38" text="PO Number:" textAlign="right" width="93"/>
					<mx:Text x="101" y="38" width="160"/>
					<mx:Label x="10" y="64" text="Resale #:" textAlign="right" width="83"/>
					<mx:Text x="101" y="64" width="160"/>
					<mx:Label x="10" y="90" text="Cert Expires:" textAlign="right" width="83"/>
					<mx:Text x="101" y="90" width="160"/>
					<mx:CheckBox x="101" y="116" label="Tax Exempt" width="160"/>
				</mx:Panel>
				<mx:Panel x="10" y="318" width="350" height="103" layout="absolute" title="Charges Setup">
					<mx:Label x="10" y="10" text="Invoice &amp; Estimate Charges:"/>
					<mx:Label x="94" y="36" text="Job Charges:"/>
					<mx:Button x="181" y="8" label="Edit..."/>
					<mx:Button x="181" y="34" label="Edit..."/>
				</mx:Panel>
			</mx:Canvas>
			<mx:Canvas label="Sales Info" width="100%" height="100%">
				<mx:Panel x="10" y="10" width="377" height="163" layout="absolute" title="Balance">
					<mx:Label x="22" y="10" text="Current:"/>
					<mx:Label x="18" y="36" text="30 Days:"/>
					<mx:Text x="81" y="10" width="64"/>
					<mx:Label x="181" y="10" text="Acct Status:"/>
					<mx:Label x="168" y="36" text="POS Charges:"/>
					<mx:Text x="259" y="36" text="&#xd;&#xd;" width="88" textAlign="right" height="18"/>
					<mx:Label x="153" y="64" text="Current Balance:"/>
					<mx:Text x="259" y="10" text="&#xd;&#xd;" width="88" textAlign="right" height="18"/>
					<mx:Text x="259" y="64" text="&#xd;&#xd;" width="88" textAlign="right" height="18"/>
					<mx:Text x="81" y="36" width="64"/>
					<mx:Label x="18" y="62" text="60 Days:"/>
					<mx:Text x="81" y="62" width="64"/>
					<mx:Label x="10" y="88" text="90+ Days:"/>
					<mx:Text x="81" y="88" width="64"/>
					<mx:Button x="259" y="86" label="Age Now"/>
				</mx:Panel>
				<mx:ColumnChart x="395" y="10" id="balance_chart" width="274" height="163">
					<mx:series>
						<mx:ColumnSeries displayName="0" yField=""/>
						<mx:ColumnSeries displayName="30" yField=""/>
						<mx:ColumnSeries displayName="60" yField=""/>
						<mx:ColumnSeries displayName="90" yField=""/>
					</mx:series>
				</mx:ColumnChart>
				<mx:Label x="39" y="181" text="Sales Ranking:"/>
				<mx:Label x="63" y="207" text="Sales Rep:"/>
				<mx:Text x="137" y="207" width="64"/>
				<mx:Text x="137" y="181" width="64"/>
				<mx:Panel x="10" y="233" width="377" height="191" layout="absolute" title="Sales History">
					<mx:Label x="56" y="29" text="Sales"/>
					<mx:Label x="37" y="55" text="# Orders"/>
					<mx:Text x="99" y="29" width="64"/>
					<mx:Text x="99" y="55" width="64"/>
					<mx:Label x="31" y="81" text="Avg Order"/>
					<mx:Text x="99" y="81" width="64"/>
					<mx:Label x="10" y="107" text="Quote:Orders"/>
					<mx:Text x="99" y="107" width="64"/>
					<mx:Text x="171" y="29" width="64"/>
					<mx:Text x="171" y="55" width="64"/>
					<mx:Text x="171" y="81" width="64"/>
					<mx:Text x="171" y="107" width="64"/>
					<mx:Text x="243" y="29" width="64"/>
					<mx:Text x="243" y="55" width="64"/>
					<mx:Text x="243" y="81" width="64"/>
					<mx:Text x="243" y="107" width="64"/>
					<mx:Label x="99" y="10" text="Month" width="64" textAlign="center" fontWeight="bold"/>
					<mx:Label x="171" y="10" text="Cur Year" width="64" textAlign="center" fontWeight="bold"/>
					<mx:Label x="243" y="10" text="Last Year" width="64" textAlign="center" fontWeight="bold"/>
				</mx:Panel>
				<mx:Label x="458" y="181" text="Created:"/>
				<mx:Label x="433" y="207" text="Total Orders:"/>
				<mx:Text x="520" y="181" width="149"/>
				<mx:Text x="520" y="207" width="149"/>
				<mx:Label x="445" y="233" text="Last Billed:"/>
				<mx:Text x="520" y="233" width="149"/>
				<mx:Label x="426" y="259" text="Last Payment:"/>
				<mx:Text x="520" y="259" width="149"/>
				<mx:Label x="447" y="285" text="Last Aged:"/>
				<mx:Text x="520" y="285" width="149"/>
				<mx:Label x="435" y="311" text="Last Invoice:"/>
				<mx:Text x="520" y="311" width="149"/>
				<mx:Label x="427" y="337" text="Last Estimate:"/>
				<mx:Text x="520" y="337" width="149"/>
				<mx:Label x="435" y="363" text="First Invoice:"/>
				<mx:Label x="427" y="389" text="First Estimate:"/>
				<mx:Label x="429" y="415" text="Est Won/Lost:"/>
				<mx:Text x="520" y="363" width="149"/>
				<mx:Text x="520" y="389" width="149"/>
				<mx:Text x="520" y="415" width="149"/>
			</mx:Canvas>
			<mx:Canvas label="Log" width="100%" height="100%">
				<mx:DataGrid x="10" y="10" width="659" height="226">
					<mx:columns>
						<mx:DataGridColumn headerText="Column 1" dataField="col1"/>
						<mx:DataGridColumn headerText="Column 2" dataField="col2"/>
						<mx:DataGridColumn headerText="Column 3" dataField="col3"/>
					</mx:columns>
				</mx:DataGrid>
				<mx:TextArea x="134" y="244" width="535" height="103"/>
				<mx:Label x="10" y="245" text="Selected Comment:"/>
				<mx:Button x="589" y="355" label="Delete" width="80"/>
				<mx:Button x="501" y="355" label="Add..." width="80"/>
				<mx:Button x="337" y="355" label="Print Log" width="80"/>
			</mx:Canvas>
			<mx:Canvas label="Notes" width="100%" height="100%">
				<mx:TextArea x="10" y="36" editable="true" width="659" height="80"/>
				<mx:Label x="10" y="10" text="Account Selection Note:"/>
				<mx:TextArea x="10" y="150" editable="true" width="659" height="80"/>
				<mx:TextArea x="10" y="264" editable="true" width="659" height="80"/>
				<mx:Label x="10" y="238" text="Statement Note:"/>
				<mx:Label x="10" y="124" text="Job Note:"/>
			</mx:Canvas>
			<mx:Canvas label="Marketing" width="100%" height="100%">
				<mx:RadioButtonGroup id="cust_prospect_radio_group"/>
				<mx:RadioButton x="10" y="10" label="Customer" groupName="cust_prospect_radio_group"/>
				<mx:RadioButton x="10" y="36" label="Prospect" groupName="cust_prospect_radio_group"/>
				<mx:CheckBox x="123" y="10" label="Personal account"/>
				<mx:CheckBox x="123" y="36" label="Do not mail"/>
				<mx:Panel x="10" y="66" width="301" height="134" layout="absolute" title="Company Info">
					<mx:Label x="12" y="10" text="Num Employees:"/>
					<mx:Label x="10" y="38" text="Annual Revenue:"/>
					<mx:TextInput x="119" y="38" width="152"/>
					<mx:Label x="21" y="66" text="Business Type:"/>
					<mx:TextInput x="119" y="10" width="152"/>
					<mx:ComboBox x="119" y="64" width="152"></mx:ComboBox>
				</mx:Panel>
				<mx:Panel x="319" y="10" width="350" height="190" layout="absolute" title="Marketing Dates">
					<mx:Label x="12" y="10" text="Follow Up:"/>
					<mx:Label x="10" y="38" text="Birthdate:"/>
					<mx:TextInput x="119" y="38" width="152"/>
					<mx:TextInput x="119" y="64" width="152"/>
					<mx:Label x="21" y="66" text="User 3:"/>
					<mx:TextInput x="119" y="92" width="152"/>
					<mx:Label x="21" y="94" text="User 4:"/>
					<mx:TextInput x="119" y="120" width="152"/>
					<mx:Label x="21" y="122" text="User 5:"/>
					<mx:TextInput x="119" y="10" width="152"/>
				</mx:Panel>
				<mx:Panel x="10" y="208" width="659" height="195" layout="absolute" title="Marketing Tags">
					<mx:Label x="28" y="10" text="Lead Source:"/>
					<mx:Label x="-3" y="38" text="Common Interest:"/>
					<mx:TextInput x="114" y="36" width="175"/>
					<mx:TextInput x="114" y="64" width="175"/>
					<mx:Label x="60" y="66" text="User 3:"/>
					<mx:TextInput x="114" y="92" width="175"/>
					<mx:Label x="60" y="94" text="User 4:"/>
					<mx:TextInput x="114" y="118" width="175"/>
					<mx:Label x="21" y="122" text="Type of Work:"/>
					<mx:TextInput x="114" y="8" width="175"/>
					<mx:TextInput x="454" y="38" width="175"/>
					<mx:TextInput x="454" y="66" width="175"/>
					<mx:TextInput x="454" y="94" width="175"/>
					<mx:TextInput x="454" y="120" width="175"/>
					<mx:TextInput x="454" y="10" width="175"/>
					<mx:Label x="368" y="12" text="Lead Source:"/>
					<mx:Label x="337" y="40" text="Sport Interest:"/>
					<mx:Label x="400" y="68" text="User 8:"/>
					<mx:Label x="400" y="96" text="User 9:"/>
					<mx:Label x="361" y="124" text="Mailer Type:"/>
				</mx:Panel>
			</mx:Canvas>
			<mx:Canvas label="Templates" width="100%" height="100%">
			</mx:Canvas>
			<mx:Canvas label="Web" width="100%" height="100%">
			</mx:Canvas>
		</mx:TabNavigator>
		<mx:Button x="10" y="10" width="38" height="38">
			<mx:icon>@Embed(source='../../../assets/previous_page.png')</mx:icon>
		</mx:Button>
		<mx:Button x="56" y="10" width="38" height="38">
			<mx:icon>@Embed(source='../../../assets/next_page.png')</mx:icon>
		</mx:Button>
		<mx:Label x="10" y="46" text="Prev" width="38" textAlign="center"/>
		<mx:Label x="56" y="46" text="Next" width="38" textAlign="center"/>
		<mx:Button x="171" y="10" width="38" height="38" click="doSave();" enabled="{enableSave}">
			<mx:icon>@Embed(source='../../../assets/file.png')</mx:icon>
		</mx:Button>
		<mx:Label x="171" y="46" text="Save" width="38" textAlign="center"/>
		<mx:Button x="217" y="10" width="38" height="38">
			<mx:icon>@Embed(source='../../../assets/get.png')</mx:icon>
		</mx:Button>
		<mx:Label x="217" y="46" text="Get" width="38" textAlign="center"/>
		<mx:Button x="263" y="10" width="38" height="38">
			<mx:icon>@Embed(source='../../../assets/new.png')</mx:icon>
		</mx:Button>
		<mx:Button x="370" y="10" width="38" height="38">
			<mx:icon>@Embed(source='../../../assets/new.png')</mx:icon>
		</mx:Button>
		<mx:Label x="360" y="46" text="Delete" width="58" textAlign="center"/>
		<mx:Button x="493" y="10" width="38" height="38">
			<mx:icon>@Embed(source='../../../assets/cancel.png')</mx:icon>
		</mx:Button>
		<mx:Label x="483" y="46" text="Revert" width="58" textAlign="center"/>
		<mx:Label x="263" y="46" text="New" width="38" textAlign="center"/>
	</mx:Canvas>
</mx:VBox>
</mx:Panel>