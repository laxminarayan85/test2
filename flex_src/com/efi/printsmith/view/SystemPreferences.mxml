<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="absolute" creationPolicy="all" creationComplete="init();" 
	xmlns:fc="http://www.adobe.com/2006/fc" 
	xmlns:vo="com.efi.printsmith.vo.*"
	xmlns:cmp="com.efi.printsmith.components.*"
	width="100%" height="100%" 
	title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Preferences')}"
	label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Preferences')}" 
	name="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Preferences')}" 
	xmlns:ns1="com.efi.printsmith.components.*">
 	<mx:states>
 	 	<mx:State name="CreditCardProcessorSetup">
 	 	 	<mx:RemoveChild target="{CreditCardGrid}"/>
 	 	 	<mx:RemoveChild target="{button1}"/>
 	 	 	<mx:RemoveChild target="{button2}"/>
 	 	 	<mx:AddChild relativeTo="{creditcards_canvas}" position="lastChild">
 	 	 	 	<mx:Canvas x="38" y="185" width="440" height="365" id="canvas1">
 	 	 	 	 	<mx:Button x="49" y="333" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kSupportCenterCommand.Close')}" click="doProcessorSetup(null);"/>
 	 	 	 	 	<mx:Label x="49" y="103" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.InternetURL')}" id="label1"/>
 	 	 	 	 	<mx:CheckBox x="49" y="257" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Useaddressvalidation')}" id="chkCreditCardUseAddressValidation"/>
 	 	 	 	 	<mx:CheckBox x="49" y="278" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Promptuserforvalidat')}" id="chkCreditCardPromptUserForValidationInformation"/>
 	 	 	 	 	<mx:TextArea x="49" y="119" width="344" id="textarea1"/>
 	 	 	 	 	<mx:RadioButtonGroup id="SkipJackType"/>
 	 	 	 	</mx:Canvas>
 	 	 	</mx:AddChild>
 	 	</mx:State>
 	 	<mx:State name="DropFolderSetup" basedOn="CreditCardProcessorSetup">
 	 	 	<mx:RemoveChild target="{textarea1}"/>
 	 	 	<mx:RemoveChild target="{label1}"/>
 	 	 	<mx:RemoveChild target="{chkCreditCardUseAddressValidation}"/>
 	 	 	<mx:RemoveChild target="{chkCreditCardPromptUserForValidationInformation}"/>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:TextInput x="133" y="49" width="266" id="txtCreditCardDropFolder"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:Label x="10" y="51" text="Drop Folder Location:"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:SetProperty target="{rdoSkipJack}" name="label" value="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.UseSkipjackprocessor')}"/>
 	 	</mx:State>
 	 	<mx:State name="SkipJackSetup" basedOn="CreditCardProcessorSetup">
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:RadioButton x="49" y="21" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.NormalMode')}" groupName="SkipJackType"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:RadioButton x="49" y="47" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.AdvancedMode')}" groupName="SkipJackType"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:RadioButton x="49" y="73" label="Development" groupName="SkipJackType"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:Label x="95" y="173" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.Serial')}"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:Label x="56" y="199" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.Development')}"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:Label x="108" y="225" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.Port')}"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:TextInput x="151" y="171" id="txtSkipJackSerial"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:TextInput x="151" y="197" id="txtSkipJackDev"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:TextInput x="151" y="223" id="txtSkipJackPort"/>
 	 	 	</mx:AddChild>
 	 	</mx:State>
 	 	<mx:State name="EfsSetup" basedOn="CreditCardProcessorSetup">
 	 	 	<mx:SetProperty target="{label1}" name="y" value="20"/>
 	 	 	<mx:SetProperty target="{textarea1}" name="y" value="36"/>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:TextInput x="189" y="88" id="txtMerchantId"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:TextInput x="189" y="116" id="txtMerchantKey"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:Label x="73" y="90" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.MerchantIdM_ID')}"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:AddChild relativeTo="{canvas1}" position="lastChild">
 	 	 	 	<mx:Label x="58" y="118" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kCCprocessorSetupCmd.MerchantKeyM_KEY')}"/>
 	 	 	</mx:AddChild>
 	 	 	<mx:SetProperty target="{chkCreditCardUseAddressValidation}" name="y" value="148"/>
 	 	 	<mx:SetProperty target="{chkCreditCardPromptUserForValidationInformation}" name="y" value="169"/>
 	 	</mx:State>
 	</mx:states>

 	<mx:RemoteObject id="dataServiceSystem" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadSystemResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveSystemResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServicePOS" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadPOSResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSavePOSResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceEstimator" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadEstimatorResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveEstimatorResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceAccounting" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadAccountingResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveAccountingResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceCountry" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadCountryResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveCountryResult(event)"/>
	</mx:RemoteObject>
	 	<mx:RemoteObject id="dataServiceCashRegister" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadCashRegisterResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveCashRegisterResult(event)"/>
		<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteCashRegisterResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceCreditCard" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadCreditCardResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveCreditCardResult(event)"/>
		<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteCreditCardResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceMarkups" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadMarkupsResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveMarkupsResult(event)"/>
		<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteMarkupsResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceMarkupsMerchandise" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadMarkupsMerchandiseResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveMarkupsMerchandiseResult(event)"/>
		<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteMarkupsMerchandiseResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServicePendingList" destination="dataService">
		<mx:method name="getAllOrdeBy" fault="handleFault(event)" result="handleLoadPendingListResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSavePendingListResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServicePricingMethod" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadPricingMethodResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSavePricingMethodResult(event)"/>
		<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeletePricingMethodResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceQuantityBreaks" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadQuantityBreaksResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveQuantityBreaksResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceSalesCategory" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadSalesCategoryResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveSalesCategoryResult(event)"/>
		<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteSalesCategoryResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceStockDefinition" destination="dataService">
		<mx:method name="getAllOrdeBy" fault="handleFault(event)" result="handleLoadStockDefinitionResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveStockDefinitionResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceStocks" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadStocksResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveStocksResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceColumnNames" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadColumnNamesResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveColumnNamesResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceSizeTable" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadSizeTableResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveSizeTableResult(event)"/>
	</mx:RemoteObject>
 	<mx:RemoteObject id="dataServiceCategory" destination="dataService">
		<mx:method name="getAll" fault="handleFault(event)" result="handleLoadCategoryResult(event)"/>
		<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveCategoryResult(event)"/>
	</mx:RemoteObject>

    <mx:PhoneNumberValidator id="pnVPhone" 
        source="{this.txtPhone}" property="text"
        trigger="{this.btnSave}" 
        triggerEvent="click"/>
    <mx:PhoneNumberValidator id="pnVFax"
        source="{this.txtFax}" property="text"
        trigger="{this.btnSave}" 
        triggerEvent="click"/>
    <mx:EmailValidator id="emV" 
        source="{this.txtEmail}" property="text"
        trigger="{this.btnSave}" 
        triggerEvent="click"/>

	<mx:Producer id="producer" destination="systempreferences"/>
	<mx:Consumer id="consumer" destination="systempreferences" message="messageHandler(event.message)"/>
	<mx:Consumer id="notification_consumer" destination="notifications" message="messageHandler(event.message)"/>
<mx:Script>                                   
<![CDATA[
	import mx.formatters.NumberFormatter;
	import mx.formatters.CurrencyFormatter;
	import mx.formatters.NumberBase;
	import mx.formatters.Formatter;
	import com.efi.printsmith.data.Merchandise;
	import com.efi.printsmith.data.OutsideService;
	import com.efi.printsmith.data.TaxTable;
	import com.efi.printsmith.data.TaxCodes;
	import mx.controls.Text;
	import com.efi.printsmith.itemRenderers.JobMethodEditor;
	import com.efi.printsmith.itemRenderers.EstimatorTypesEditor;
	import com.efi.printsmith.itemRenderers.SalesCategoryEditor;
	import com.efi.printsmith.itemRenderers.TaxCodeEditor;
	import com.efi.printsmith.itemRenderers.TaxTableEditor;
			
	import com.efi.printsmith.data.PreferencesAccounting;
	import com.efi.printsmith.data.PreferencesEstimating;
	import com.efi.printsmith.data.PreferencesPOS;
	import com.efi.printsmith.data.PreferencesSystem;
	import com.efi.printsmith.data.PreferencesCashRegister;
	
	import com.efi.printsmith.data.PreferencesCreditCard;
	import com.efi.printsmith.data.PreferencesMarkups;
	import com.efi.printsmith.data.PreferencesPendingList;
	import com.efi.printsmith.data.PreferencesPricingMethod;
	import com.efi.printsmith.data.PreferencesQuantityBreaks;
	import com.efi.printsmith.data.PreferencesSalesCategory;
	import com.efi.printsmith.data.PreferencesStockDefinition;
	import com.efi.printsmith.data.PreferencesStocks;
	
	
	import com.efi.printsmith.data.Country;
	import com.efi.printsmith.data.ColumnNames;
	import com.efi.printsmith.data.SizeTable;
	import com.efi.printsmith.data.SalesCategory;
	
	import mx.events.AdvancedDataGridEvent
	import mx.events.AdvancedDataGridEventReason
	
    import mx.events.DataGridEvent;
    import mx.events.DataGridEventReason;
	import mx.controls.Alert;                                         
	import mx.managers.PopUpManager;                                         
	import mx.containers.TitleWindow;                                         
	import mx.collections.ArrayCollection;                                         
	import mx.rpc.events.ResultEvent;                                         
	import mx.rpc.events.FaultEvent;                                         
	import mx.messaging.messages.AsyncMessage;
	import mx.messaging.messages.IMessage;
	import mx.collections.XMLListCollection;
	import mx.rpc.Responder;
	
   	import com.efi.printsmith.events.commandEvents.SystemPreferences.*;

	[Bindable]
	private var enableSave:Boolean = true;

	private var dollar:String = "$"; 
	private var yen:String = "¥";
	private var euro:String = "€";

	[Bindable]
	private var currentnumberstext:TextInput = null;

//Data field arrays
	[Bindable]
	private var PreferencesSystemArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesPOSArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesEstimatingArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesAccountingArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesCashRegisterArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesCreditCardArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesMarkupsArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesMarkupsMerchandiseArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesPendingListArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesPricingMethodArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesQuantityBreaksArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesSalesCategoryArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesStockDefinitionArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesStocksArray:ArrayCollection = new ArrayCollection();

	[Bindable]
	private var PreferencesCashRegisterDeleteArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesMarkupsDeleteArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesMarkupsMerchandiseDeleteArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesPricingMethodDeleteArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesSalesCategoryDeleteArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesCreditCardDeleteArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var PreferencesQuantityBreaksDeleteArray:ArrayCollection = new ArrayCollection();

//AutoComplete arrays
	[Bindable]
	private var CountryArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var ColumnNamesArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var SizeTableArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var CategoryArray:ArrayCollection = new ArrayCollection();

//Combo box arrays
	[Bindable]
	private var DaysArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var MonthsArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var ReceiptPrinterArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var BaudRateArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var StopBitsArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var ParityArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var DataSizeArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var DefaultInvoiceArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var DefaultEstimateArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var RunToFinishGrainArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var JobTicketStylesArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var AccountingPackagesArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var JournalDocumentPreferenceArray:ArrayCollection = new ArrayCollection();

//Radio Buttons
	[Bindable]
	private var opgFirstDayOfWorkWeekValue:int = 1;
	[Bindable]
	private var optPaymentDueDaysValue:String = "1";
	[Bindable]
	private var opgChargeDescriptionValue:String = "1";
//Data view variables
	[Bindable]
	private var preferencesSystem:PreferencesSystem;

	[Bindable]                                         
	private var preferencesPOS:PreferencesPOS;

	[Bindable]                                         
	private var preferencesEstimating:PreferencesEstimating;

	[Bindable]                                         
	private var preferencesAccounting:PreferencesAccounting;

	[Bindable]
	private var preferencesStocks:PreferencesStocks;
	
	[Bindable]
	private var preferencesCashRegister:PreferencesCashRegister;
		
	[Bindable]
	private var country:Country;

//Tree view XML table
	[Bindable]
	private var treeData:XML =
    	<root>
			<node label="genericPrefCmd.System" command="CMD_Preferences_System">
				<node label="genericPrefCmd.Behavior" isBranch="false" tag="0" command="CMD_Preferences_Behavior"/>
				<node label="genericPrefCmd.Company" isBranch="false" tag="1" command="CMD_Preferences_Company"/>
				<node label="genericPrefCmd.BusinessCalendar" isBranch="false" tag="2" command="CMD_Preferences_BusinessCalendar"/>
				<node label="genericPrefCmd.Numbers" isBranch="false" tag="3" command="CMD_Preferences_Numbers"/>
				<node label="genericPrefCmd.AlternateCurrency" isBranch="false" tag="4" command="CMD_Preferences_AlternateCurrency"/>
				<node label="genericPrefCmd.International" isBranch="false" tag="5" command="CMD_Preferences_International"/>
				<node label="genericPrefCmd.AddressFormatting" isBranch="false" tag="6" command="CMD_Preferences_AddressFormatting"/>
			</node>
			<node label="genericPrefCmd.POS" command="CMD_Preferences_POS">
				<node label="genericPrefCmd.Receipt" isBranch="false" tag="7" command="CMD_Preferences_Receipt"/>
				<node label="genericPrefCmd.CashDrawer" isBranch="false" tag="8" command="CMD_Preferences_CashDrawer"/>
				<node label="genericPrefCmd.CashRegister" isBranch="false" tag="9" command="CMD_Preferences_CashRegister"/>
				<node label="genericPrefCmd.PendingList" isBranch="false" tag="10" command="CMD_Preferences_PendingList"/>
			</node>
			<node label="genericPrefCmd.Estimator" command="CMD_Preferences_Estimator">
				<node label="genericPrefCmd.EstimatorBehavior" isBranch="false" tag="11" command="CMD_Preferences_EstimatorBehavior"/>
				<node label="genericPrefCmd.EstimatorPrinting" isBranch="false" tag="12" command="CMD_Preferences_EstimatorPrinting"/>
				<node label="genericPrefCmd.PaperCalculator" isBranch="false" tag="13" command="CMD_Preferences_PaperCalculator"/>
				<node label="genericPrefCmd.JobTicket" isBranch="false" tag="14" command="CMD_Preferences_JobTicket"/>
				<node label="genericPrefCmd.QuantityBreaks" isBranch="false" tag="15" command="CMD_Preferences_QuantityBreaks"/>
				<node label="genericPrefCmd.Markups" isBranch="false" tag="16" command="CMD_Preferences_Markups"/>
				<node label="genericPrefCmd.StocksandSizes" isBranch="false" tag="17" command="CMD_Preferences_StocksandSizes"/>
				<node label="genericPrefCmd.StockDefinitions" isBranch="false" tag="18" command="CMD_Preferences_StockDefinitions"/>
				<node label="genericPrefCmd.PricingMethod" isBranch="false" tag="19" command="CMD_Preferences_PricingMethod"/>
			</node>			
			<node label="genericPrefCmd.Accounting" command="CMD_Preferences_Accounting">
				<node label="genericPrefCmd.CreditDefaults" isBranch="false" tag="20" command="CMD_Preferences_CreditDefaults"/>
				<node label="genericPrefCmd.AgingPeriods" isBranch="false" tag="21" command="CMD_Preferences_AgingPeriods"/>
				<node label="genericPrefCmd.SalesCategories" isBranch="false" tag="22" command="CMD_Preferences_SalesCategories"/>
				<node label="genericPrefCmd.GLProfiles" isBranch="false" tag="23" command="CMD_Preferences_GLProfiles"/>
				<node label="genericPrefCmd.CreditCardInfo" isBranch="false" tag="24" command="CMD_Preferences_CreditCardInfo"/>
				<node label="genericPrefCmd.OrderNumberFormat" isBranch="false" tag="25" command=""/>
				<node label="genericPrefCmd.JournalEntries" isBranch="false" tag="26" command="CMD_Preferences_JournalEntries"/>
			</node>
		</root>;
	
	private function fillDaysArray(fillArray:ArrayCollection):void {
		var day:Object=new Object();
		day.name="Sunday";
		fillArray.addItem(day);
		day=new Object();
		day.name="Monday";
		fillArray.addItem(day);
		day=new Object();
		day.name="Tuesday";
		fillArray.addItem(day);
		day=new Object();
		day.name="Wednesday";
		fillArray.addItem(day);
		day=new Object();
		day.name="Thursday";
		fillArray.addItem(day);
		day=new Object();
		day.name="Friday";
		fillArray.addItem(day);
		day=new Object();
		day.name="Saturday";
		fillArray.addItem(day);
		
	}

	private function fillMonthsArray(fillArray:ArrayCollection):void{
		var month:Object=new Object();
		month.name="January";
		fillArray.addItem(month);
		month=new Object();
		month.name="February";
		fillArray.addItem(month);
		month=new Object();
		month.name="March";
		fillArray.addItem(month);
		month=new Object();
		month.name="April";
		fillArray.addItem(month);
		month=new Object();
		month.name="May";
		fillArray.addItem(month);
		month=new Object();
		month.name="June";
		fillArray.addItem(month);
		month=new Object();
		month.name="July";
		fillArray.addItem(month);
		month=new Object();
		month.name="August";
		fillArray.addItem(month);
		month=new Object();
		month.name="September";
		fillArray.addItem(month);
		month=new Object();
		month.name="October";
		fillArray.addItem(month);
		month=new Object();
		month.name="November";
		fillArray.addItem(month);
		month=new Object();
		month.name="December";
		fillArray.addItem(month);
	}
	
	private function fillReceiptPrinterArray(fillArray:ArrayCollection):void{
		var printer:Object=new Object();
		printer.name="Off";
		fillArray.addItem(printer);
		printer=new Object();
		printer.name="Modem Port";
		fillArray.addItem(printer);
		printer=new Object();
		printer.name="Printer Port";
		fillArray.addItem(printer);
		printer=new Object();
		printer.name="USB Serial Port";
		fillArray.addItem(printer);
		printer=new Object();
		printer.name="Named Graphics Printer";
		fillArray.addItem(printer);
		printer=new Object();
		printer.name="Names Serial Port";
		fillArray.addItem(printer);

	}
	private function fillModemArray():void{
		var setting:Object = new Object();
		setting.name="300";
		BaudRateArray.addItem(setting);

		setting=new Object();
		setting.name="1 bit";
		StopBitsArray.addItem(setting);

		setting=new Object();
		setting.name="None";
		ParityArray.addItem(setting);

		setting=new Object();
		setting.name="5 Bits";
		DataSizeArray.addItem(setting);

	}
	
	private function fillDefaultDocumentsArray(fillArray:ArrayCollection):void{
		var setting:Object = new Object();
		setting.name="No default specified";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Alternate Currency";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Credit Memo";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Estimate - Long Form";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Estimate - Short Form";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Fax Form";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Invoice - Long Form";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Invoice - Short Form";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Quote Form";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Quote Letter";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Standard";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Thank You Letter";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Unit Price / each";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Unit Price / thousand";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="[en]!TaxName !Remarks";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="[en]!TaxName +Remarks";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="[en]+TaxName !Remarks";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="[en]+TaxName +Remarks";
		fillArray.addItem(setting);
	}

	private function fillRunToFinishGrainArray(fillArray:ArrayCollection):void{
		var setting:Object = new Object();
		setting.name="Neither";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Match Grain";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Swing / Combination";
		fillArray.addItem(setting);
	}
	
	private function fillJobTicketStylesArray(fillArray:ArrayCollection):void{
		
	}
	private function fillAccountingPackagesArray(fillArray:ArrayCollection):void{
		var setting:Object = new Object();
		setting.name="MYOB";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Peachtree Accounting";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Quickbooks";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="MultiLedger";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="SAGE Accounting";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Simply Accounting";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="BusinessWorks";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Great Plains Import Manager";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="SAGE Line 50";
		fillArray.addItem(setting);
		setting = new Object();
		setting.name="Peachtree CSV";
		fillArray.addItem(setting);
	}
		
	public function init():void {
		consumer.subscribe();
		notification_consumer.subscribe();

		this.currentState="";

		fillStaticData();
		
		getPreferencesData();

		openTree();
		setup();
		
		var eventbehavior:SystemPreferencesBehaviorPanelEvent = new SystemPreferencesBehaviorPanelEvent(behavior_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventbehavior.dispatch();
		var eventcompany:SystemPreferencesCompanyPanelEvent = new SystemPreferencesCompanyPanelEvent(company_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventcompany.dispatch();
		var eventcalendar:SystemPreferencesBusinessCalendarPanelEvent = new SystemPreferencesBusinessCalendarPanelEvent(calendar_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventcalendar.dispatch();
		var eventnumbers:SystemPreferencesNumbersPanelEvent = new SystemPreferencesNumbersPanelEvent(numbers_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventnumbers.dispatch();
		var eventalternatecurrency:SystemPreferencesAlternateCurrencyPanelEvent = new SystemPreferencesAlternateCurrencyPanelEvent(alternatecurrency_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventalternatecurrency.dispatch();
		var eventinternational:SystemPreferencesInternationalPanelEvent = new SystemPreferencesInternationalPanelEvent(international_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventinternational.dispatch();
		var eventaddressformatting:SystemPreferencesAddressFormattingPanelEvent = new SystemPreferencesAddressFormattingPanelEvent(addressformatting_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventaddressformatting.dispatch();
		var eventreceipt:SystemPreferencesReceiptPanelEvent = new SystemPreferencesReceiptPanelEvent(receipt_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventreceipt.dispatch();
		var eventcashdrawer:SystemPreferencesCashDrawerPanelEvent = new SystemPreferencesCashDrawerPanelEvent(cashdrawer_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventcashdrawer.dispatch();
		var eventcashregister:SystemPreferencesCashRegisterPanelEvent = new SystemPreferencesCashRegisterPanelEvent(cashregister_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventcashregister.dispatch();
		var eventpendinglist:SystemPreferencesPendingListPanelEvent = new SystemPreferencesPendingListPanelEvent(pendinglist_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventpendinglist.dispatch();
		var eventestimatorbehavior:SystemPreferencesEstimatorBehaviorPanelEvent = new SystemPreferencesEstimatorBehaviorPanelEvent(estimatorbehavior_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventestimatorbehavior.dispatch();
		var eventestimatorprinting:SystemPreferencesEstimatorPrintingPanelEvent = new SystemPreferencesEstimatorPrintingPanelEvent(estimatorprinting_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventestimatorprinting.dispatch();
		var eventpapercalculator:SystemPreferencesPaperCalculatorPanelEvent = new SystemPreferencesPaperCalculatorPanelEvent(papercalculator_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventpapercalculator.dispatch();
		var eventjobticket:SystemPreferencesJobTicketPanelEvent = new SystemPreferencesJobTicketPanelEvent(jobticket_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventjobticket.dispatch();
		var eventquantitybreaks:SystemPreferencesQuantityBreaksPanelEvent = new SystemPreferencesQuantityBreaksPanelEvent(quantitybreaks_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventquantitybreaks.dispatch();
		var eventmarkups:SystemPreferencesMarkupsPanelEvent = new SystemPreferencesMarkupsPanelEvent(markups_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventmarkups.dispatch();
		var eventstocksizes:SystemPreferencesStocksandSizesPanelEvent = new SystemPreferencesStocksandSizesPanelEvent(stocksizes_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventstocksizes.dispatch();
		var eventstockdefinitions:SystemPreferencesStockDefinitionsPanelEvent = new SystemPreferencesStockDefinitionsPanelEvent(stockdefinitions_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventstockdefinitions.dispatch();
		var eventpricingmethod:SystemPreferencesPricingMethodPanelEvent = new SystemPreferencesPricingMethodPanelEvent(pricingmethod_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventpricingmethod.dispatch();
		var eventcreditdefaults:SystemPreferencesCreditDefaultsPanelEvent = new SystemPreferencesCreditDefaultsPanelEvent(creditdefaults_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventcreditdefaults.dispatch();
		var eventagingperiods:SystemPreferencesAgingPeriodsPanelEvent = new SystemPreferencesAgingPeriodsPanelEvent(agingperiods_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventagingperiods.dispatch();
		var eventsalescategories:SystemPreferencesSalesCategoriesPanelEvent = new SystemPreferencesSalesCategoriesPanelEvent(salescategories_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventsalescategories.dispatch();
		var eventglprofiles:SystemPreferencesGLProfilesPanelEvent = new SystemPreferencesGLProfilesPanelEvent(glprofiles_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventglprofiles.dispatch();
		var eventcreditcards:SystemPreferencesCreditCardInfoPanelEvent = new SystemPreferencesCreditCardInfoPanelEvent(creditcards_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventcreditcards.dispatch();
		var eventjournalentries:SystemPreferencesJournalEntriesPanelEvent = new SystemPreferencesJournalEntriesPanelEvent(journalentries_canvas, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventjournalentries.dispatch();
		    
	}      

	public function handleUIPanelEvent(evt:ResultEvent):void {
		evt.result.panel.enabled = evt.result.enabled;
	}		
	private function handleUIPanelFault(ev:FaultEvent):void {  
	}	
	private function setup():void{
		
		for each(var element:Object in CategoryArray) {
//			CashRegisterGridSalesCategoryArray.addItem(element)
		}
	}
	
	private function fillStaticData():void{
		fillDaysArray(DaysArray);
		fillMonthsArray(MonthsArray);
		fillReceiptPrinterArray(ReceiptPrinterArray);	

		dataServiceCountry.getAll("Country");
		dataServiceColumnNames.getAll("ColumnNames");
		dataServiceSizeTable.getAll("SizeTable");
		dataServiceCategory.getAll("SalesCategory");

		fillModemArray();
		fillDefaultDocumentsArray(DefaultInvoiceArray);
		fillDefaultDocumentsArray(DefaultEstimateArray);
		fillDefaultDocumentsArray(JournalDocumentPreferenceArray)
		fillRunToFinishGrainArray(RunToFinishGrainArray);
		fillJobTicketStylesArray(JobTicketStylesArray);
		fillAccountingPackagesArray(AccountingPackagesArray);
	}
	
	private function getPreferencesData():void{
		dataServiceSystem.getAll("PreferencesSystem");
		dataServicePOS.getAll("PreferencesPOS");
		dataServiceEstimator.getAll("PreferencesEstimating");
		dataServiceAccounting.getAll("PreferencesAccounting");
		dataServiceCashRegister.getAll("PreferencesCashRegister");
		dataServiceCashRegister.getAll("PreferencesCashRegister");
		dataServiceCreditCard.getAll("PreferencesCreditCard");
		dataServiceMarkups.getAll("OutsideServices");
		dataServiceMarkupsMerchandise.getAll("Merchandise")
		dataServicePendingList.getAllOrdeBy("PreferencesPendingList","columnOrder");
		dataServicePricingMethod.getAll("PreferencesPricingMethod");
		dataServiceQuantityBreaks.getAll("PreferencesQuantityBreaks");
		dataServiceSalesCategory.getAll("PreferencesSalesCategory");
		dataServiceStockDefinition.getAllOrdeBy("PreferencesStockDefinition","columnOrder");
		dataServiceStocks.getAll("PreferencesStocks");

	}

	private function updatePreferencesData():void{
		dataServiceSystem.addUpdate(preferencesSystem);
		dataServicePOS.addUpdate(preferencesPOS);
		dataServiceEstimator.addUpdate(preferencesEstimating);
		dataServiceAccounting.addUpdate(preferencesAccounting);
		dataServiceStocks.addUpdate(preferencesStocks);
		
		//remove and or delete items from table
		for each(var deleteitem1:PreferencesCashRegister in PreferencesCashRegisterDeleteArray) {
			dataServiceCashRegister.deleteItem(deleteitem1, deleteitem1.id);
		}
		PreferencesCashRegisterDeleteArray.removeAll();
		for each(var deleteitem2:OutsideService in PreferencesMarkupsDeleteArray) {
			dataServiceMarkups.deleteItem(deleteitem2, deleteitem2.id);
		}
		PreferencesMarkupsDeleteArray.removeAll()
		for each(var deleteitem3:Merchandise in PreferencesMarkupsMerchandiseDeleteArray) {
			dataServiceMarkupsMerchandise.deleteItem(deleteitem3, deleteitem3.id);
		}
		PreferencesMarkupsMerchandiseDeleteArray.removeAll()
		for each(var deleteitem4:PreferencesPricingMethod in PreferencesPricingMethodDeleteArray) {
			dataServicePricingMethod.deleteItem(deleteitem4, deleteitem4.id);
		}
		PreferencesPricingMethodDeleteArray.removeAll()
		for each(var deleteitem5:PreferencesSalesCategory in PreferencesSalesCategoryDeleteArray) {
			dataServiceSalesCategory.deleteItem(deleteitem5, deleteitem5.id);
		}
		PreferencesSalesCategoryDeleteArray.removeAll()
		for each(var deleteitem6:PreferencesCreditCard in PreferencesCreditCardDeleteArray) {
			dataServiceCreditCard.deleteItem(deleteitem6, deleteitem6.id);
		}
		PreferencesCreditCardDeleteArray.removeAll()
		for each(var deleteitem7:PreferencesQuantityBreaks in PreferencesQuantityBreaksDeleteArray) {
			dataServiceCreditCard.deleteItem(deleteitem7, deleteitem7.id);
		}
		PreferencesQuantityBreaksDeleteArray.removeAll();

		// commit changes add or updates to table
		var counter:int = 1;

		for each(var item1:PreferencesCashRegister in PreferencesCashRegisterArray) {
			dataServiceCashRegister.addUpdate(item1);
		}
		counter = 1;
		for each(var item2:PreferencesPendingList in PreferencesPendingListArray) {
			if (item2.columnOrder != counter){
				item2.columnOrder = counter;
			}
			dataServicePendingList.addUpdate(item2);
			counter = counter + 1;
		}
		for each(var item3:OutsideService in PreferencesMarkupsArray) {
			dataServiceMarkups.addUpdate(item3);
		}
		for each(var item4:Merchandise in PreferencesMarkupsMerchandiseArray) {
			dataServiceMarkupsMerchandise.addUpdate(item4);
		}
		counter = 1;
		for each(var item5:PreferencesStockDefinition in PreferencesStockDefinitionArray) {
			if (item5.columnOrder != counter){
				item5.columnOrder = counter;
			}
			dataServiceStockDefinition.addUpdate(item5);
			counter = counter + 1;
		}
		for each(var item6:PreferencesPricingMethod in PreferencesPricingMethodArray) {
			dataServicePricingMethod.addUpdate(item6);
		}
		for each(var item7:PreferencesSalesCategory in PreferencesSalesCategoryArray) {
			dataServiceSalesCategory.addUpdate(item7);
		}
		for each(var item8:PreferencesCreditCard in PreferencesCreditCardArray) {
			dataServiceCreditCard.addUpdate(item8);
		}
		for each(var item9:PreferencesQuantityBreaks in PreferencesQuantityBreaksArray) {
			dataServiceQuantityBreaks.addUpdate(item9);
		}

	}

	private function mapFromPreferencesSystemData():void {
		//check boxes
		this.chkActivateUserEventLogging.selected = preferencesSystem.activateUserEventLogging
		this.chkAlwaysRoundDown.selected = preferencesSystem.alwaysRoundDown
		this.chkAlwaysRoundDownAlternateCurrency.selected = preferencesSystem.alternateAlwaysRoundDown
		this.chkDisableNonTaxableOptions.selected = preferencesSystem.disableNonTaxableOptions
		this.chkDisableTextStyles.selected = preferencesSystem.disableTextStyles
		this.chkEliminateSomeWarningMessages.selected = preferencesSystem.eliminateWarningMessages
		this.chkEnableAutomaticLogOut.selected = preferencesSystem.enableAutoLogOut
		this.chkEnableAutomaticQuit.selected = preferencesSystem.automaticQuit
		this.chkEnableLineItemTaxes.selected = preferencesSystem.lineItemTaxes
		this.chkEnablePricingSystem.selected = preferencesSystem.enablePricingSystem
		this.chkFutureDateExcludeClosed.selected = preferencesSystem.futureDatesExcludeClosed
		this.chkOnlyPostInvoicesMarkedReady.selected = preferencesSystem.onlyPostMarkedReadyInvoices
		this.chkSecondsOfInactivity.selected = preferencesSystem.secondsOfInactivity
		this.chkShowInvoices.selected = preferencesSystem.showInvoicesWithToday
		this.chkTaxRoundUp.selected = preferencesSystem.roundTaxUp
		this.chkTriggerAfterPosting.selected = preferencesSystem.triggerAfterPosting
		this.chkUseAlternateCurrency.selected = preferencesSystem.useAlternateCurrency
		this.chkUseAustralianInvoiceRounding.selected = preferencesSystem.austrailianInvoiceRounding
		
		//comboboxs
		if (preferencesSystem.fiscalYearStartMonth != "")
		{
			cboFiscalYearStartMonth.selectedIndex = findItem(preferencesSystem.fiscalYearStartMonth, MonthsArray);
		}
		if (preferencesSystem.defaultCountry >-1)
		{
			cboDefaultCountry.selectedIndex = preferencesSystem.defaultCountry
		}

		//radio buttons
		if (preferencesSystem.workFirstDayOfWeek > -1)
			this.opgFirstDayOfWorkWeek.selectedValue = preferencesSystem.workFirstDayOfWeek.toString();

		//DOW Buttons toggles
		this.btnWorkDaySunday.selected = preferencesSystem.workSunday;
		this.btnWorkDayMonday.selected = preferencesSystem.workMonday;
		this.btnWorkDayTuesday.selected = preferencesSystem.workTuesday;
		this.btnWorkDayWednesday.selected = preferencesSystem.workWednesday;
		this.btnWorkDayThursday.selected = preferencesSystem.workThursday;
		this.btnWorkDayFriday.selected = preferencesSystem.workFriday;
		this.btnWorkDaySaturday.selected = preferencesSystem.workSaturday;

		//address editor
		address_editor.setAddress(preferencesSystem.companyAddress);

		this.txtInactivitySeconds.text = preferencesSystem.autoLogOutSeconds.toString();
		if (preferencesSystem.quitTime != null && preferencesSystem.quitTime.length > 0 && preferencesSystem.quitTime.length < 7){
			this.txtTimeOfDayQuit.hour = parseInt(preferencesSystem.quitTime.substr(0,2),0);
			this.txtTimeOfDayQuit.minute = parseInt(preferencesSystem.quitTime.substr(2,2),0)
			this.txtTimeOfDayQuit.am_pm = preferencesSystem.quitTime.substr(4,2)
		}else {
			this.txtTimeOfDayQuit.hour = 12;
			this.txtTimeOfDayQuit.minute = 00;
			this.txtTimeOfDayQuit.am_pm = "am"
		}
		//this.txtTimeOfDayQuit = preferencesSystem.quitTime;
		this.txtShutdownNotificationMessage.text = preferencesSystem.shutdownMessage;
		this.txtPhone.text = preferencesSystem.companyPhone
		this.txtFax.text = preferencesSystem.companyFax;
		this.txtEmail.text = preferencesSystem.companyEmail; 
		this.txtOther1.text = preferencesSystem.companyOther1;
		this.txtOther2.text = preferencesSystem.companyOther2;
		this.txtCompanyIdLabel.text = preferencesSystem.companyIdLabel; 
		this.txtCompanyId.text = preferencesSystem.companyId;
		this.txtStoreNumber.text = preferencesSystem.companyStoreNumber; 
		this.txtLocationReference.text = preferencesSystem.companyStoreLocationRef;
		
		if (preferencesSystem.numbersIntegers.length == 0){
			preferencesSystem.numbersIntegers = "###,###,###,###";
		}
		this.txtIntegers.text = preferencesSystem.numbersIntegers;
		
		if (preferencesSystem.numbersPercentages.length == 0){
			preferencesSystem.numbersPercentages = "###,##0.###%;-###,##0.###%;0%";
		}
		this.txtPercentages.text = preferencesSystem.numbersPercentages;
		
		if (preferencesSystem.numbersAmount.length == 0) {
			preferencesSystem.numbersAmount = "###,###,###,##0.00";
		}
		this.txtAmount.text = preferencesSystem.numbersAmount;
		
		if (preferencesSystem.numbersTaxRate.length == 0) {
			preferencesSystem.numbersTaxRate = "###,###,###%;-###,###,###%;0%";
		}
		this.txtTaxRate.text = preferencesSystem.numbersTaxRate;
		
		if (preferencesSystem.numbersRate.length == 0) {
			preferencesSystem.numbersRate = "###,###,###,##0.00##";
		}
		this.txtRate.text = preferencesSystem.numbersRate;
		
		if (preferencesSystem.numbersFactor.length == 0) {
			preferencesSystem.numbersFactor = "###,###,###,##0.####;-###,###,###,##.####;0"
		}
		this.txtFactor.text = preferencesSystem.numbersFactor;
		
		if (preferencesSystem.numbersInvoice.length == 0) {
			preferencesSystem.numbersInvoice = "###,###,###,##0.00";
		}
		this.txtInvoice.text = preferencesSystem.numbersInvoice;
		
		if (preferencesSystem.numbersShortPercent.length == 0) {
			preferencesSystem.numbersShortPercent = "#####0%";
		}
		this.txtShortPercent.text = preferencesSystem.numbersShortPercent;

		this.txtRoundTo.text = preferencesSystem.numbersRoundto.toString();
		
		if (preferencesSystem.displayFormat.length == 0){
			preferencesSystem.displayFormat = "'e'###,###,###,##0.00";
		}
		this.txtFormat.text = preferencesSystem.displayFormat;
		
		if (preferencesSystem.conversionFactor < 0){
			preferencesSystem.conversionFactor = 1.18;
		}	
		this.txtConversionFactor.text = preferencesSystem.conversionFactor.toString();
		
		if (preferencesSystem.alternateRoundto < 0){
			preferencesSystem.alternateRoundto = 2;
		}	
		this.txtRoundToAlternateCurrency.text = preferencesSystem.alternateRoundto.toString();
		
		this.txtInkWeightSingular.text = preferencesSystem.inkWeightSingular;
		this.txtInkWeightPlural.text = preferencesSystem.inkWeightPlural;

		this.txtAuthorizeDecrypTo.text = preferencesSystem.authorizeDecrypt;

//set controls for System items
		checkAlternateCurrency()
		setDisplayText(txtIntegers);
		setAlternateCurrencyText(txtFormat);
		setCurrentRange();
		setCurrentCountry();
		
	}
	private function mapFromPreferencesAccountingData():void {
		this.chkActivateCCAprovalProcess.selected = preferencesAccounting.activateCreditCardApproval 
		this.chkAllowEstimatePrefixModification.selected = preferencesAccounting.estimateAllowPrefixMod
		this.chkAllowEstimateSuffixModification.selected = preferencesAccounting.estimateAllowSuffixMod
		this.chkAllowInvoicePrefixModification.selected = preferencesAccounting.invoiceAllowPrefixMod
		this.chkAllowInvoiceSuffixModification.selected = preferencesAccounting.invoiceAllowSuffixMod
		this.chkPrintDocument.selected = preferencesAccounting.printDocument
		this.chkRemoveDraftFromDeposit.selected = preferencesAccounting.removeDraftsFromDeposit

		if (preferencesAccounting.journalDocumentPreference != "")
			cboJournalDocumentPreference.selectedIndex = findItem(preferencesAccounting.journalDocumentPreference, JournalDocumentPreferenceArray);
		
		if (preferencesAccounting.accountingLinkTo != "")
			cboAccountingPackages.selectedIndex = findItem(preferencesAccounting.accountingLinkTo, AccountingPackagesArray);

		this.txtCreditLimit.text = preferencesAccounting.creditLimit.toString();
		this.txtFinanceCharge.text = preferencesAccounting.financeChange.toString();
		this.txtInactivePeriod.text = preferencesAccounting.inactivePeriod.toString();
		this.txtDefaultSalesRep.text = preferencesAccounting.defaultSalesRep;
		this.txtDefaultShippingAddress.text = preferencesAccounting.defaultShipping;

		this.txtPastDue.text = preferencesAccounting.pastDue.toString();
		this.txtDelinquent.text = preferencesAccounting.delinquent.toString();
		this.txtFrozen.text = preferencesAccounting.frozen.toString();
		this.txtPastDueArea.text = preferencesAccounting.pastDueNote;
		this.txtDelinquentArea.text = preferencesAccounting.delinquentNote;
		this.txtFrozenArea.text = preferencesAccounting.frozenNote;

		this.txtShippingCollected.text = preferencesAccounting.shippingCollected;
		this.txtActualBankDeposit.text = preferencesAccounting.actualBankDeposit;
		this.txtUndepositedReceipts.text = preferencesAccounting.undepositedReceipts;
		this.txtDiscounts.text = preferencesAccounting.discounts;
		this.txtSalesTax.text = preferencesAccounting.salesTax;
		this.txtTotalARReceipts.text = preferencesAccounting.totalARReceipts;
		this.txtDepositsOnInvoices.text = preferencesAccounting.depositsOnInvoices;
		this.txtNewChargesToAR.text = preferencesAccounting.newChargesToAR;
		this.txtCashOverShort.text = preferencesAccounting.cashOverShort;
		this.txtPaidOut.text = preferencesAccounting.paidOut;
		this.txtRefundChecks.text = preferencesAccounting.refundChecks;

		this.txtInvoicePrefix.text = preferencesAccounting.invoicePrefix;
		this.txtInvoiceDocument.text = preferencesAccounting.invoiceDocument;
		this.txtInvoiceSuffix.text = preferencesAccounting.invoiceSuffix;
		this.txtEstimatePrefix.text = preferencesAccounting.estimatePrefix;
		this.txtEstimateDocument.text = preferencesAccounting.estimateDocument;
		this.txtEstimateSuffix.text = preferencesAccounting.estimateSuffix;

		if (preferencesAccounting.useSkipJackProcessor==true){
			CreditCardProcessor.selectedValue = "Use SkipJack Processor";
			this.currentState="SkipJackSetup"
			if (preferencesAccounting.skipJackMode==0){
				SkipJackType.selectedValue = "Normal"; 
			}
			if (preferencesAccounting.skipJackMode==1){
				SkipJackType.selectedValue = "Advanced"; 
			}
			if (preferencesAccounting.skipJackMode==2){
				SkipJackType.selectedValue = "Development"; 
			}

			this.txtSkipJackSerial.text = preferencesAccounting.serialNumber;
			this.txtSkipJackPort.text = preferencesAccounting.portNumber;
			this.txtSkipJackDev.text = preferencesAccounting.developmentNumber;
			
			this.chkCreditCardUseAddressValidation.selected = preferencesAccounting.useAddressValidation; 
			this.chkCreditCardPromptUserForValidationInformation.selected = preferencesAccounting.promptUserForValidationInfo;
			this.currentState="";
		} 
		if (preferencesAccounting.useEfsProcessor==true){
			CreditCardProcessor.selectedValue = "Use EFS Processor";
			this.currentState="EfsSetup";
			this.txtMerchantId.text = preferencesAccounting.merchantID;
			this.txtMerchantKey.text = preferencesAccounting.merchantKey;

			this.chkCreditCardUseAddressValidation.selected = preferencesAccounting.useAddressValidation; 
			this.chkCreditCardPromptUserForValidationInformation.selected = preferencesAccounting.promptUserForValidationInfo;
			this.currentState="";
		} 
		if (preferencesAccounting.useObsoleteDropFolder==true){
			CreditCardProcessor.selectedValue = "Use Obsolete Drop Folder";
			this.currentState="DropFolderSetup";
			this.txtCreditCardDropFolder.text = preferencesAccounting.creditCardDropFolder;
			this.currentState="";
		} 
	}
	private function mapFromPreferencesEstimatingData():void {
		this.chkAddFixedWasteForEachColor.selected = preferencesEstimating.addFixedWasteForEachColor
		this.chkAddFixedWasteForEachPass.selected = preferencesEstimating.addFixedWasteForEachPass
		this.chkAlwaysUseStockParentSize.selected = preferencesEstimating.useStockParentSize
		this.chkAttachToJobTicket.selected = preferencesEstimating.attachToJobTicket
		this.chkAutoShowCharges.selected = preferencesEstimating.autoShowCharges
		this.chkAutoShowPaperCalculator.selected = preferencesEstimating.showPaperCalculator
		this.chkBackTrimParent.selected = preferencesEstimating.backTrimParent
		this.chkBleed.selected = preferencesEstimating.useBleed
		this.chkCalculateInkByImpressions.selected = preferencesEstimating.calculateInkbyImpressions
		this.chkCalculateReOrderDate.selected = preferencesEstimating.calculateReOrderDate
		this.chkCanChangeAddress.selected = preferencesEstimating.canChangeAddress
		this.chkCloseInvoiceAfterPrinting.selected = preferencesEstimating.closeInvoiceAfterPrintingTicket
		this.chkCloseInvoiceAndEstimatesAfterPrinting.selected = preferencesEstimating.closeInvoicesAndEstimateAfterPrinting
		this.chkCloseSourceAfterCopying.selected = preferencesEstimating.closeAfterCopy
		this.chkColorBar.selected = preferencesEstimating.useColorBar
		this.chkDoNotCostDuringPost.selected = preferencesEstimating.doNotCostDuringPost
		this.chkEnterStockCost.selected = preferencesEstimating.stockCostInEstimator
		this.chkFolioEdge.selected = preferencesEstimating.useFolioEdge
		this.chkGripEdge.selected = preferencesEstimating.useGripEdgeGap
		this.chkGutter.selected = preferencesEstimating.useGutter
		this.chkLeaveFoldedSizeEmpty.selected = preferencesEstimating.leaveFoldedSizeEmpty
		this.chkNeverUsePresetPress.selected = preferencesEstimating.neverUsePresetPressOnStockChanges
		this.chkPrintParentToFinish.selected = preferencesEstimating.printParentToFinishSection
		this.chkPrintParentToRun.selected = preferencesEstimating.printParentToRunSection
		this.chkPrintRunToFinish.selected = preferencesEstimating.printRunToFinishSection
		this.chkTrimFourSides.selected = preferencesEstimating.trimFourSides
		this.chkUseHistoryTitle.selected = preferencesEstimating.useHistoryTitleforNewTitle
		this.chkValidateSalesRep.selected = preferencesEstimating.validateSalesRep
		this.chkWhiteSpace.selected = preferencesEstimating.useWhiteSpace
		this.chkWorkAndTumble.selected = preferencesEstimating.workandTumble
//		Following code doesn't compile...		
//		if (preferencesEstimating.defaultEstimate != null)
//			cboDefaultEstimate.selectedIndex = findItem(preferencesEstimating.defaultEstimate, DefaultEstimateArray);
//
//		if (preferencesEstimating.defaultInvoice != null)
//			cboDefaultInvoice.selectedIndex = findItem(preferencesEstimating.defaultInvoice, DefaultInvoiceArray);
//
		if (preferencesEstimating.dueFrom != 0)
		{
			optPaymentDueDays.selectedValue = preferencesEstimating.dueFrom.toString();
		}else
		{
			optPaymentDueDays.selectedValue="1"
		}
		

		if (preferencesEstimating.runToFinishGrain != "")
			cboRunToFinishGrain.selectedIndex = findItem(preferencesEstimating.runToFinishGrain, RunToFinishGrainArray);

		if (preferencesEstimating.customJobTicket != "")
			cboCustomStyle.selectedIndex = findItem(preferencesEstimating.customJobTicket, JobTicketStylesArray);
			
		opgChargeDescriptionValue = preferencesEstimating.chargeDescription;

		this.txtNumberOfDaysBeforeDue.text = preferencesEstimating.numberOfDaysBeforeDue.toString();
		this.txtGripEdge.text = preferencesEstimating.gripEdgeGap.toString();
		this.txtFolioEdge.text = preferencesEstimating.folioEdge.toString();
		this.txtColorBar.text = preferencesEstimating.colorBar.toString();
		this.txtWhiteSpace.text = preferencesEstimating.whiteSpace.toString();
		this.txtWhiteSpaceRight.text = preferencesEstimating.whiteSpaceRight.toString();
		this.txtGutter.text = preferencesEstimating.gutter.toString();
		this.txtBleed.text = preferencesEstimating.bleed.toString();
		this.txtBleedRight.text = preferencesEstimating.bleedRight.toString();
		this.txtWhiteSpaceTop.text = preferencesEstimating.whiteSpaceTop.toString();
		this.txtWhiteSpaceBottom.text = preferencesEstimating.whiteSpaceBottom.toString();
		this.txtGutterHorizontal.text = preferencesEstimating.gutterHorizontal.toString();
		this.txtBleedTop.text = preferencesEstimating.bleedTop.toString();
		this.txtBleedBottom.text = preferencesEstimating.bleedBottom.toString();
		this.txtDefaultPressCutoff.text = preferencesEstimating.defaultPressCuttOff.toString();

	}
	private function mapFromPreferencesPOSData():void {
		this.chkEnableCashDrawer.selected = preferencesPOS.enableCashDrawer
		this.chkHideTaxLineItems.selected = preferencesPOS.hideTaxLines
		this.chkKeepSettingsLocal.selected = preferencesPOS.keepLocalSettings
		this.chkLockSettings.selected = preferencesPOS.lockSettings
		this.chkPrint2forCash.selected = preferencesPOS.print2forCash
		this.chkPrint2forCredit.selected = preferencesPOS.print2forCreditCards
		this.chkPrintInvoices.selected = preferencesPOS.printInvoices
		this.chkPrintReceipts.selected = preferencesPOS.printReceipts
		this.chkSerialNumberReceiptsStart.selected = preferencesPOS.receiptStartNumber
		this.chkUseMasterDrawer.selected = preferencesPOS.useMasterDrawer

		if (preferencesPOS.receiptPrinterStatus != "")
			cboReceiptPrinter.selectedIndex = findItem(preferencesPOS.receiptPrinterStatus, ReceiptPrinterArray);

		if (preferencesPOS.baudRate != "")
			cboBaudRate.selectedIndex = findItem(preferencesPOS.baudRate, BaudRateArray);
		if (preferencesPOS.stopBits != "")
			cboStopBits.selectedIndex = findItem(preferencesPOS.stopBits, StopBitsArray);
		if (preferencesPOS.parity != "")
			cboParity.selectedIndex = findItem(preferencesPOS.parity, ParityArray);
		if (preferencesPOS.dataSize != "")
			cboDataSize.selectedIndex = findItem(preferencesPOS.dataSize, DataSizeArray);
			
		this.txtReceiptHeader.text = preferencesPOS.receiptHeader;
		this.txtReceiptFooter.text = preferencesPOS.receiptFooter;
		this.txtSerialNumber.text = preferencesPOS.startingNumber.toString();

		this.txtSelectedPrinter.text = preferencesPOS.defaultPrinter;
		this.txtAsciiCodeOpenDrawer.text = preferencesPOS.asciiCodeOpenDrawer.toString();
		this.txtBlankBeforeReceipt.text = preferencesPOS.blankLinesBeforeReceipt.toString();
		this.txtBlankAfterReceipt.text = preferencesPOS.blankLinesAfterReceipt.toString();
		this.txtReceiptStartCode.text = preferencesPOS.receiptStartCode;
		this.txtReceiptEndCode.text = preferencesPOS.receiptEndCode;

	}

	private function mapFromPreferencesStocksData():void {
		this.chkMarkupOnly.selected = preferencesStocks.markupOnly;

		this.txtstdqty1.text = preferencesStocks.stdQty1.toString();
		this.txtstdqty2.text = preferencesStocks.stdQty2.toString();
		this.txtstdqty3.text = preferencesStocks.stdQty3.toString();
		this.txtstdqty4.text = preferencesStocks.stdQty4.toString();
		this.txtstdqty5.text = preferencesStocks.stdQty5.toString();
		this.txtstdqty6.text = preferencesStocks.stdQty6.toString();

		this.txtstdmarkup1.text = preferencesStocks.stdMarkup1.toString();
		this.txtstdmarkup2.text = preferencesStocks.stdMarkup2.toString();
		this.txtstdmarkup3.text = preferencesStocks.stdMarkup3.toString();
		this.txtstdmarkup4.text = preferencesStocks.stdMarkup4.toString();
		this.txtstdmarkup5.text = preferencesStocks.stdMarkup5.toString();
		this.txtstdmarkup6.text = preferencesStocks.stdMarkup6.toString();
	
		this.txtStockWeight.text = preferencesStocks.weight;
		this.txtstockPoints.text = preferencesStocks.points;
		this.txtStockMicrons.text = preferencesStocks.microns;
		this.txtStockPlies.text = preferencesStocks.plies;
		this.txtStockMillimeters.text = preferencesStocks.millimeters;
					
		this.txtblankqty1.text = preferencesStocks.blankQty1.toString();
		this.txtblankqty2.text = preferencesStocks.blankQty2.toString();
		this.txtblankqty3.text = preferencesStocks.blankQty3.toString();
		this.txtblankqty4.text = preferencesStocks.blankQty4.toString();
		this.txtblankqty5.text = preferencesStocks.blankQty5.toString();
		this.txtblankqty6.text = preferencesStocks.blankQty6.toString();
		
		this.txtblankmarkup1.text = preferencesStocks.blankMarkup1.toString();
		this.txtblankmarkup2.text = preferencesStocks.blankMarkup2.toString();
		this.txtblankmarkup3.text = preferencesStocks.blankMarkup3.toString();
		this.txtblankmarkup4.text = preferencesStocks.blankMarkup4.toString();
		this.txtblankmarkup5.text = preferencesStocks.blankMarkup5.toString();
		this.txtblankmarkup6.text = preferencesStocks.blankMarkup6.toString();

		this.txtcustomercost.text = preferencesStocks.customerCost.toString();
		this.txtcustomerquantity.text = preferencesStocks.customerQuantity.toString();
		this.txtcustomermarkup.text = preferencesStocks.customerMarkup.toString();

	}

	private function mapFromPreferencesAllData():void {
		mapFromPreferencesAccountingData();
		mapFromPreferencesEstimatingData();
		mapFromPreferencesPOSData();
		mapFromPreferencesSystemData();
		mapFromPreferencesStocksData();
//		this.chkAlwaysIncludePastDue.selected 
//		this.chkColorPastDueEntries.selected 
//		this.chkShowDocumentType.selected
	}

	private function mapToPreferencesAllData():void {
		mapToPreferencesAccountingData();
		mapToPreferencesEstimatingData();
		mapToPreferencesPOSData();
		mapToPreferencesSystem();
		mapToPreferencesStocksData();
//		this.chkAlwaysIncludePastDue.selected 
//		this.chkColorPastDueEntries.selected 
//		this.chkShowDocumentType.selected
		//fix data incorrectly defined as int not bool
		
	}

	private function mapToPreferencesSystem():void {
		
		preferencesSystem.companyAddress = address_editor.getAddress();

		preferencesSystem.activateUserEventLogging = this.chkActivateUserEventLogging.selected
		preferencesSystem.alwaysRoundDown = this.chkAlwaysRoundDown.selected
		preferencesSystem.alternateAlwaysRoundDown = this.chkAlwaysRoundDownAlternateCurrency.selected
		preferencesSystem.disableNonTaxableOptions = this.chkDisableNonTaxableOptions.selected
		preferencesSystem.disableTextStyles = this.chkDisableTextStyles.selected
		preferencesSystem.eliminateWarningMessages = this.chkEliminateSomeWarningMessages.selected
		preferencesSystem.enableAutoLogOut = this.chkEnableAutomaticLogOut.selected
		preferencesSystem.automaticQuit = this.chkEnableAutomaticQuit.selected
		preferencesSystem.lineItemTaxes = this.chkEnableLineItemTaxes.selected
		preferencesSystem.enablePricingSystem = this.chkEnablePricingSystem.selected
		preferencesSystem.futureDatesExcludeClosed = this.chkFutureDateExcludeClosed.selected
		preferencesSystem.onlyPostMarkedReadyInvoices = this.chkOnlyPostInvoicesMarkedReady.selected
		preferencesSystem.secondsOfInactivity = this.chkSecondsOfInactivity.selected
		preferencesSystem.showInvoicesWithToday = this.chkShowInvoices.selected
		preferencesSystem.roundTaxUp = this.chkTaxRoundUp.selected
		preferencesSystem.triggerAfterPosting = this.chkTriggerAfterPosting.selected
		preferencesSystem.useAlternateCurrency = this.chkUseAlternateCurrency.selected
		preferencesSystem.austrailianInvoiceRounding = this.chkUseAustralianInvoiceRounding.selected

//comboboxes
		if (cboFiscalYearStartMonth != null && cboFiscalYearStartMonth.selectedItem != null)
	 		preferencesSystem.fiscalYearStartMonth = cboFiscalYearStartMonth.selectedItem.name;

//Radio buttons
		if (this.opgFirstDayOfWorkWeek.selectedValue != null)
			preferencesSystem.workFirstDayOfWeek = this.opgFirstDayOfWorkWeek.selectedValue.toString();

//DOW Buttons toggles
		preferencesSystem.workSunday = this.btnWorkDaySunday.selected;
		preferencesSystem.workMonday = this.btnWorkDayMonday.selected;
		preferencesSystem.workTuesday = this.btnWorkDayTuesday.selected;
		preferencesSystem.workWednesday = this.btnWorkDayWednesday.selected;
		preferencesSystem.workThursday = this.btnWorkDayThursday.selected;
		preferencesSystem.workFriday = this.btnWorkDayFriday.selected;
		preferencesSystem.workSaturday = this.btnWorkDaySaturday.selected;

		//textboxes
		preferencesSystem.autoLogOutSeconds = parseInt(this.txtInactivitySeconds.text);
//		preferencesSystem.quitTime = this.txtTimeOfDayQuit.text;
		preferencesSystem.quitTime = padString(this.txtTimeOfDayQuit.hour.toString(),2,"0")+padString(this.txtTimeOfDayQuit.minute.toString(),2,"0")+this.txtTimeOfDayQuit.am_pm.toString();
		preferencesSystem.shutdownMessage = this.txtShutdownNotificationMessage.text;
		preferencesSystem.companyPhone = this.txtPhone.text;
		preferencesSystem.companyFax =txtFax.text;
		preferencesSystem.companyEmail = this.txtEmail.text; 
		preferencesSystem.companyOther1 = this.txtOther1.text;
		preferencesSystem.companyOther2 = this.txtOther2.text;
		preferencesSystem.companyIdLabel = this.txtCompanyIdLabel.text; 
		preferencesSystem.companyId = this.txtCompanyId.text;
		preferencesSystem.companyStoreNumber = this.txtStoreNumber.text; 
		preferencesSystem.companyStoreLocationRef = this.txtLocationReference.text;
		preferencesSystem.numbersIntegers = this.txtIntegers.text;
		preferencesSystem.numbersPercentages = this.txtPercentages.text;
		preferencesSystem.numbersAmount = this.txtAmount.text;
		preferencesSystem.numbersRate = this.txtRate.text;
		preferencesSystem.numbersFactor = this.txtFactor.text;
		preferencesSystem.numbersInvoice = this.txtInvoice.text;
		preferencesSystem.numbersShortPercent = this.txtShortPercent.text;
		preferencesSystem.numbersRoundto = parseInt(this.txtRoundTo.text);
		preferencesSystem.displayFormat = this.txtFormat.text;
		preferencesSystem.conversionFactor = parseFloat(this.txtConversionFactor.text);
		preferencesSystem.alternateRoundto = parseInt(this.txtRoundToAlternateCurrency.text);
		preferencesSystem.inkWeightSingular = this.txtInkWeightSingular.text;
		preferencesSystem.inkWeightPlural = this.txtInkWeightPlural.text;

		preferencesSystem.authorizeDecrypt = this.txtAuthorizeDecrypTo.text;

		preferencesSystem.defaultCountry = this.cboDefaultCountry.selectedIndex;
		
	}
	private function mapToPreferencesAccountingData():void {
		preferencesAccounting.activateCreditCardApproval = this.chkActivateCCAprovalProcess.selected 
		preferencesAccounting.estimateAllowPrefixMod = this.chkAllowEstimatePrefixModification.selected
		preferencesAccounting.estimateAllowSuffixMod = this.chkAllowEstimateSuffixModification.selected
		preferencesAccounting.invoiceAllowPrefixMod = this.chkAllowInvoicePrefixModification.selected
		preferencesAccounting.invoiceAllowSuffixMod = this.chkAllowInvoiceSuffixModification.selected
		preferencesAccounting.printDocument = this.chkPrintDocument.selected
		preferencesAccounting.removeDraftsFromDeposit = this.chkRemoveDraftFromDeposit.selected
		
		if (cboAccountingPackages != null && cboAccountingPackages.selectedItem != null)
	 		preferencesAccounting.accountingLinkTo = cboAccountingPackages.selectedItem.name;
		
		if (cboJournalDocumentPreference != null && cboJournalDocumentPreference.selectedItem != null)
			preferencesAccounting.journalDocumentPreference = cboJournalDocumentPreference.selectedItem.name;

		//textboxes
		preferencesAccounting.creditLimit = parseFloat(this.txtCreditLimit.text);
		preferencesAccounting.financeChange = parseFloat(this.txtFinanceCharge.text);
		preferencesAccounting.inactivePeriod = parseFloat(this.txtInactivePeriod.text);
		preferencesAccounting.defaultSalesRep = this.txtDefaultSalesRep.text;
		preferencesAccounting.defaultShipping = this.txtDefaultShippingAddress.text;

		preferencesAccounting.pastDue = parseInt(this.txtPastDue.text);
		preferencesAccounting.delinquent = parseInt(this.txtDelinquent.text);
		preferencesAccounting.frozen = parseInt(this.txtFrozen.text);
		preferencesAccounting.pastDueNote = this.txtPastDueArea.text;
		preferencesAccounting.delinquentNote = this.txtDelinquentArea.text;
		preferencesAccounting.frozenNote = this.txtFrozenArea.text;

		preferencesAccounting.shippingCollected = this.txtShippingCollected.text;
		preferencesAccounting.actualBankDeposit = this.txtActualBankDeposit.text;
		preferencesAccounting.undepositedReceipts = this.txtUndepositedReceipts.text;
		preferencesAccounting.discounts = this.txtDiscounts.text;
		preferencesAccounting.salesTax = this.txtSalesTax.text;
		preferencesAccounting.totalARReceipts = this.txtTotalARReceipts.text;
		preferencesAccounting.depositsOnInvoices = this.txtDepositsOnInvoices.text;
		preferencesAccounting.newChargesToAR = this.txtNewChargesToAR.text;
		preferencesAccounting.cashOverShort = this.txtCashOverShort.text;
		preferencesAccounting.paidOut = this.txtPaidOut.text;
		preferencesAccounting.refundChecks = this.txtRefundChecks.text;

		preferencesAccounting.invoicePrefix = this.txtInvoicePrefix.text;
		preferencesAccounting.invoiceDocument = this.txtInvoiceDocument.text;
		preferencesAccounting.invoiceSuffix = this.txtInvoiceSuffix.text;
		preferencesAccounting.estimatePrefix = this.txtEstimatePrefix.text;
		preferencesAccounting.estimateDocument = this.txtEstimateDocument.text;
		preferencesAccounting.estimateSuffix = this.txtEstimateSuffix.text;


		if (CreditCardProcessor.selectedValue == "Use SkipJack Processor"){
			preferencesAccounting.useSkipJackProcessor = true;
			preferencesAccounting.useEfsProcessor = false;
			preferencesAccounting.useObsoleteDropFolder = false;
			
			if (SkipJackType.selectedValue == "Normal"){
				preferencesAccounting.skipJackMode=0; 
			}
			if (SkipJackType.selectedValue == "Advanced"){ 
				preferencesAccounting.skipJackMode=1;
			}
			if (SkipJackType.selectedValue == "Development"){ 
				preferencesAccounting.skipJackMode=2;
			}
			preferencesAccounting.serialNumber = this.txtSkipJackSerial.text;
			preferencesAccounting.portNumber = this.txtSkipJackPort.text;
			preferencesAccounting.developmentNumber = this.txtSkipJackDev.text;
			preferencesAccounting.useAddressValidation = this.chkCreditCardUseAddressValidation.selected; 
			preferencesAccounting.promptUserForValidationInfo = this.chkCreditCardPromptUserForValidationInformation.selected;

			preferencesAccounting.merchantID = "";
			preferencesAccounting.merchantKey = "";

			preferencesAccounting.creditCardDropFolder = "";

		}
		if (CreditCardProcessor.selectedValue == "Use EFS Processor"){
			preferencesAccounting.useSkipJackProcessor = false;
			preferencesAccounting.useEfsProcessor = true;
			preferencesAccounting.useObsoleteDropFolder = false;

			preferencesAccounting.merchantID = this.txtMerchantId.text;
			preferencesAccounting.merchantKey = this.txtMerchantKey.text;
			preferencesAccounting.useAddressValidation = this.chkCreditCardUseAddressValidation.selected; 
			preferencesAccounting.promptUserForValidationInfo = this.chkCreditCardPromptUserForValidationInformation.selected;

			preferencesAccounting.serialNumber = "";
			preferencesAccounting.portNumber = "";
			preferencesAccounting.developmentNumber = "";

			preferencesAccounting.creditCardDropFolder = "";
			
		} 
		if (CreditCardProcessor.selectedValue == "Use Obsolete Drop Folder"){
			preferencesAccounting.useSkipJackProcessor = false;
			preferencesAccounting.useEfsProcessor = false;
			preferencesAccounting.useObsoleteDropFolder = true;

			preferencesAccounting.creditCardDropFolder = this.txtCreditCardDropFolder.text;

			preferencesAccounting.serialNumber = "";
			preferencesAccounting.portNumber = "";
			preferencesAccounting.developmentNumber = "";

			preferencesAccounting.useAddressValidation = false; 
			preferencesAccounting.promptUserForValidationInfo = false;

			preferencesAccounting.merchantID = "";
			preferencesAccounting.merchantKey = "";
			
		} 

	}
	private function mapToPreferencesEstimatingData():void {
		preferencesEstimating.addFixedWasteForEachColor = this.chkAddFixedWasteForEachColor.selected
		preferencesEstimating.addFixedWasteForEachPass = this.chkAddFixedWasteForEachPass.selected
		preferencesEstimating.useStockParentSize = this.chkAlwaysUseStockParentSize.selected
		preferencesEstimating.attachToJobTicket = this.chkAttachToJobTicket.selected
		preferencesEstimating.autoShowCharges = this.chkAutoShowCharges.selected
		preferencesEstimating.showPaperCalculator = this.chkAutoShowPaperCalculator.selected
		preferencesEstimating.backTrimParent = this.chkBackTrimParent.selected
		preferencesEstimating.useBleed = this.chkBleed.selected
		preferencesEstimating.calculateInkbyImpressions = this.chkCalculateInkByImpressions.selected
		preferencesEstimating.calculateReOrderDate = this.chkCalculateReOrderDate.selected
		preferencesEstimating.canChangeAddress = this.chkCanChangeAddress.selected
		preferencesEstimating.closeInvoiceAfterPrintingTicket = this.chkCloseInvoiceAfterPrinting.selected
		preferencesEstimating.closeInvoicesAndEstimateAfterPrinting = this.chkCloseInvoiceAndEstimatesAfterPrinting.selected
		preferencesEstimating.closeAfterCopy = this.chkCloseSourceAfterCopying.selected
		preferencesEstimating.useColorBar = this.chkColorBar.selected
		preferencesEstimating.doNotCostDuringPost = this.chkDoNotCostDuringPost.selected
		preferencesEstimating.stockCostInEstimator = this.chkEnterStockCost.selected 
		preferencesEstimating.useFolioEdge = this.chkFolioEdge.selected
		preferencesEstimating.useGripEdgeGap = this.chkGripEdge.selected
		preferencesEstimating.useGutter = this.chkGutter.selected
		preferencesEstimating.leaveFoldedSizeEmpty = this.chkLeaveFoldedSizeEmpty.selected
		preferencesEstimating.neverUsePresetPressOnStockChanges = this.chkNeverUsePresetPress.selected
		preferencesEstimating.printParentToFinishSection = this.chkPrintParentToFinish.selected
		preferencesEstimating.printParentToRunSection = this.chkPrintParentToRun.selected
		preferencesEstimating.printRunToFinishSection = this.chkPrintRunToFinish.selected
		preferencesEstimating.trimFourSides = this.chkTrimFourSides.selected
		preferencesEstimating.useHistoryTitleforNewTitle = this.chkUseHistoryTitle.selected
		preferencesEstimating.validateSalesRep = this.chkValidateSalesRep.selected
		preferencesEstimating.useWhiteSpace = this.chkWhiteSpace.selected
		preferencesEstimating.workandTumble = this.chkWorkAndTumble.selected

		if (cboDefaultEstimate != null && cboDefaultEstimate.selectedItem != null)
	 		preferencesEstimating.defaultEstimate = cboDefaultEstimate.selectedItem.name;
		if (cboDefaultInvoice != null && cboDefaultInvoice.selectedItem != null)
	 		preferencesEstimating.defaultInvoice = cboDefaultInvoice.selectedItem.name;

//		Following code doesn't compile...
		if (optPaymentDueDays.selectedValue != null)
			preferencesEstimating.dueFrom = parseInt(optPaymentDueDays.selectedValue.toString());

		if (cboRunToFinishGrain != null && cboRunToFinishGrain.selectedItem != null)
	 		preferencesEstimating.runToFinishGrain = cboRunToFinishGrain.selectedItem.name;
		
		if (cboCustomStyle != null && cboCustomStyle.selectedItem != null)
			preferencesEstimating.customJobTicket = cboCustomStyle.selectedItem.name; 

		preferencesEstimating.chargeDescription = opgChargeDescriptionValue;
		
		//textboxes
		preferencesEstimating.numberOfDaysBeforeDue = parseInt(this.txtNumberOfDaysBeforeDue.text);
		preferencesEstimating.gripEdgeGap = parseFloat(this.txtGripEdge.text);
		preferencesEstimating.folioEdge = parseFloat(this.txtFolioEdge.text);
		preferencesEstimating.colorBar = parseFloat(this.txtColorBar.text);
		preferencesEstimating.whiteSpace = parseFloat(this.txtWhiteSpace.text);
		preferencesEstimating.whiteSpaceRight = parseFloat(this.txtWhiteSpaceRight.text);
		preferencesEstimating.gutter = parseFloat(this.txtGutter.text);
		preferencesEstimating.bleed = parseFloat(this.txtBleed.text);
		preferencesEstimating.bleedRight = parseFloat(this.txtBleedRight.text);
		preferencesEstimating.whiteSpaceTop = parseFloat(this.txtWhiteSpaceTop.text);
		preferencesEstimating.whiteSpaceBottom = parseFloat(this.txtWhiteSpaceBottom.text);
		preferencesEstimating.gutterHorizontal = parseFloat(this.txtGutterHorizontal.text);
		preferencesEstimating.bleedTop = parseFloat(this.txtBleedTop.text);
		preferencesEstimating.bleedBottom = parseFloat(this.txtBleedBottom.text);
		preferencesEstimating.defaultPressCuttOff = parseFloat(this.txtDefaultPressCutoff.text);

	}
	private function mapToPreferencesPOSData():void {
		preferencesPOS.enableCashDrawer = this.chkEnableCashDrawer.selected
		preferencesPOS.hideTaxLines = this.chkHideTaxLineItems.selected
		preferencesPOS.keepLocalSettings = this.chkKeepSettingsLocal.selected
		preferencesPOS.lockSettings = this.chkLockSettings.selected
		preferencesPOS.print2forCash = this.chkPrint2forCash.selected
		preferencesPOS.print2forCreditCards = this.chkPrint2forCredit.selected
		preferencesPOS.printInvoices = this.chkPrintInvoices.selected
		preferencesPOS.printReceipts = this.chkPrintReceipts.selected
		preferencesPOS.receiptStartNumber = this.chkSerialNumberReceiptsStart.selected
		preferencesPOS.useMasterDrawer = this.chkUseMasterDrawer.selected

		if (cboReceiptPrinter != null && cboReceiptPrinter.selectedItem != null)
	 		preferencesPOS.receiptPrinterStatus = cboReceiptPrinter.selectedItem.name;

		if (cboBaudRate != null && cboBaudRate.selectedItem != null)
			preferencesPOS.baudRate = cboBaudRate.selectedItem.name;
		if (cboStopBits != null && cboStopBits.selectedItem != null)
			preferencesPOS.stopBits = cboStopBits.selectedItem.name;
		if (cboParity != null && cboParity.selectedItem != null)
			preferencesPOS.parity = cboParity.selectedItem.name;
		if (cboDataSize != null && cboDataSize.selectedItem != null)
			preferencesPOS.dataSize = cboDataSize.selectedItem.name;
		
		//textboxes
		preferencesPOS.receiptHeader = this.txtReceiptHeader.text
		preferencesPOS.receiptFooter = this.txtReceiptFooter.text
		preferencesPOS.startingNumber = parseInt(this.txtSerialNumber.text);

		preferencesPOS.defaultPrinter = this.txtSelectedPrinter.text;
		preferencesPOS.asciiCodeOpenDrawer = parseInt(this.txtAsciiCodeOpenDrawer.text);
		preferencesPOS.blankLinesBeforeReceipt = parseInt(this.txtBlankBeforeReceipt.text);
		preferencesPOS.blankLinesAfterReceipt = parseInt(this.txtBlankAfterReceipt.text);
		preferencesPOS.receiptStartCode = this.txtReceiptStartCode.text;
		preferencesPOS.receiptEndCode = this.txtReceiptEndCode.text;


	}
	private function mapToPreferencesStocksData():void {
		preferencesStocks.markupOnly = this.chkMarkupOnly.selected
		
		//textboxes
		preferencesStocks.stdQty1 = parseInt(this.txtstdqty1.text);
		preferencesStocks.stdQty2 = parseInt(this.txtstdqty2.text);
		preferencesStocks.stdQty3 = parseInt(this.txtstdqty3.text);
		preferencesStocks.stdQty4 = parseInt(this.txtstdqty4.text);
		preferencesStocks.stdQty5 = parseInt(this.txtstdqty5.text);
		preferencesStocks.stdQty6 = parseInt(this.txtstdqty6.text);
		preferencesStocks.stdMarkup1 = parseFloat(this.txtstdmarkup1.text);
		preferencesStocks.stdMarkup2 = parseFloat(this.txtstdmarkup2.text);
		preferencesStocks.stdMarkup3 = parseFloat(this.txtstdmarkup3.text);
		preferencesStocks.stdMarkup4 = parseFloat(this.txtstdmarkup4.text);
		preferencesStocks.stdMarkup5 = parseFloat(this.txtstdmarkup5.text);
		preferencesStocks.stdMarkup6 = parseFloat(this.txtstdmarkup6.text);
	
		preferencesStocks.weight = this.txtStockWeight.text;
		preferencesStocks.points = this.txtstockPoints.text;
		preferencesStocks.microns = this.txtStockMicrons.text;
		preferencesStocks.plies = this.txtStockPlies.text;
		preferencesStocks.millimeters = this.txtStockMillimeters.text;
					
		preferencesStocks.blankQty1 = parseInt(this.txtblankqty1.text);
		preferencesStocks.blankQty2 = parseInt(this.txtblankqty2.text);
		preferencesStocks.blankQty3 = parseInt(this.txtblankqty3.text);
		preferencesStocks.blankQty4 = parseInt(this.txtblankqty4.text);
		preferencesStocks.blankQty5 = parseInt(this.txtblankqty5.text);
		preferencesStocks.blankQty6 = parseInt(this.txtblankqty6.text);
		
		preferencesStocks.blankMarkup1 = parseFloat(this.txtblankmarkup1.text);
		preferencesStocks.blankMarkup2 = parseFloat(this.txtblankmarkup2.text);
		preferencesStocks.blankMarkup3 = parseFloat(this.txtblankmarkup3.text);
		preferencesStocks.blankMarkup4 = parseFloat(this.txtblankmarkup4.text);
		preferencesStocks.blankMarkup5 = parseFloat(this.txtblankmarkup5.text);
		preferencesStocks.blankMarkup6 = parseFloat(this.txtblankmarkup6.text);

		preferencesStocks.customerCost = parseFloat(this.txtcustomercost.text);
		preferencesStocks.customerQuantity = parseInt(this.txtcustomerquantity.text);
		preferencesStocks.customerMarkup = parseFloat(this.txtcustomermarkup.text);

	}
	
	private function messageHandler(message:IMessage):void{
		var messageBody:Object = message.body;// as com.efi.messaging.MessageBody;
		
		var messageType:String = messageBody.messageType;
		if (messageType == "ADDUPDATE" || messageType == "DELETE") {
			var payloadType:String = messageBody.payloadType as String; // What kind of item was added/deleted
			var payload:Number = messageBody.payload as Number; // ID if item added or deleted
			if (payloadType == "PreferencesSystem") {
				dataServiceSystem.getAll("PreferencesSystem");
			}
			if (payloadType == "PreferencesPOS") {
				dataServicePOS.getAll("PreferencesPOS");
			}
			if (payloadType == "PreferencesEstimating") {
				dataServiceEstimator.getAll("PreferencesEstimating");
			}
			if (payloadType == "PreferencesAccounting") {
				dataServiceAccounting.getAll("PreferencesAccounting");
			}
			if (payloadType == "PreferencesCashRegister") {
				dataServiceCashRegister.getAll("PreferencesCashRegister");
			}
			if (payloadType == "PreferencesCashRegister") {
				dataServiceCashRegister.getAll("PreferencesCashRegister");
			}
			if (payloadType == "PreferencesCreditCard") {
				dataServiceCreditCard.getAll("PreferencesCreditCard");
			}
			if (payloadType == "OutsideServices") {
				dataServiceMarkups.getAll("OutsideServices");
			}
			if (payloadType == "Merchandise") {
				dataServiceMarkupsMerchandise.getAll("Merchandise")
			}
			if (payloadType == "PreferencesPendingList") {
				dataServicePendingList.getAll("PreferencesPendingList");
			}
			if (payloadType == "PreferencesPricingMethod") {
				dataServicePricingMethod.getAll("PreferencesPricingMethod");
			}
			if (payloadType == "PreferencesQuantityBreaks") {
				dataServiceQuantityBreaks.getAll("PreferencesQuantityBreaks");
			}
			if (payloadType == "PreferencesSalesCategory") {
				dataServiceSalesCategory.getAll("PreferencesSalesCategory");
			}
			if (payloadType == "PreferencesStockDefinition") {
				dataServiceStockDefinition.getAll("PreferencesStockDefinition");
			}
			if (payloadType == "PreferencesStocks") {
				dataServiceStocks.getAll("PreferencesStocks");
			}
		}
	}
     
	private function handleFault(ev:FaultEvent):void {  
		var message:String;
		              
		message = "Error: "                          
		+ ev.fault.faultCode + " - "                                  
		+ ev.fault.faultDetail + " - "                                  
		+ ev.fault.faultString;
		Alert.show(message, "Error", 0, null, null, null, 4);                                 
	}

	private function doCreditCardProcessorChange() : void {
		if (this.currentState!="" && this.currentState!=null){
			doProcessorSetup(CreditCardProcessor.selectedValue);
		}
	}
	private function doProcessorSetup(item:Object) : void {
		this.currentState="";
		if (item != null){
			if (item == "Use Obsolete Drop Folder"){
				this.currentState="DropFolderSetup";
			}
			if (item == "Use SkipJack Processor"){
				this.currentState="SkipJackSetup";
			}
			if (item == "Use EFS Processor"){
				this.currentState="EfsSetup";
			}
		}
	}
	
	private function setCurrentCountry() : void {
		this.txtSampleAddress.text = CountryArray.getItemAt(cboDefaultCountry.selectedIndex,0).name; 
	}

	private function findItem(name:String, array:ArrayCollection):int {
		for each(var element:Object in array) {
			if (name == element.name) {
				return array.getItemIndex(element);
			}
		}
		return -1;
	}

// Data Load Handlers
	private function handleLoadSystemResult(ev:ResultEvent):void {
		PreferencesSystemArray = ev.result as ArrayCollection;
		if (PreferencesSystemArray.length > 0)
   			preferencesSystem = PreferencesSystemArray.getItemAt(0,0) as PreferencesSystem ;
		if (preferencesSystem == null)
		{
			preferencesSystem = new PreferencesSystem();
		}
		mapFromPreferencesSystemData();
	}
	private function handleLoadPOSResult(ev:ResultEvent):void {
		PreferencesPOSArray = ev.result as ArrayCollection;
		if ( PreferencesPOSArray.length >0 )
			preferencesPOS = PreferencesPOSArray.getItemAt(0,0) as PreferencesPOS;
		if (preferencesPOS == null)
		{
			preferencesPOS = new PreferencesPOS();
		}
		mapFromPreferencesPOSData();
	}
	private function handleLoadEstimatorResult(ev:ResultEvent):void {
		PreferencesEstimatingArray = ev.result as ArrayCollection;
		if( PreferencesEstimatingArray.length >0)
			preferencesEstimating = PreferencesEstimatingArray.getItemAt(0,0) as PreferencesEstimating;
		if (preferencesEstimating == null)
		{
			preferencesEstimating = new PreferencesEstimating();
		}
		mapFromPreferencesEstimatingData();
	}
	private function handleLoadAccountingResult(ev:ResultEvent):void {
		PreferencesAccountingArray = ev.result as ArrayCollection;
		if ( PreferencesAccountingArray.length >0)
			preferencesAccounting = PreferencesAccountingArray.getItemAt(0,0) as PreferencesAccounting;
		if (preferencesAccounting == null)
		{
			preferencesAccounting = new PreferencesAccounting();
		} 
		mapFromPreferencesAccountingData();
	}
	
	private function handleLoadCountryResult(ev:ResultEvent):void {
		CountryArray = ev.result as ArrayCollection;
	}
	private function handleLoadCashRegisterResult(ev:ResultEvent):void {
		PreferencesCashRegisterArray = ev.result as ArrayCollection;
		if ( PreferencesCashRegisterArray.length >0)
			preferencesCashRegister = PreferencesCashRegisterArray.getItemAt(0,0) as PreferencesCashRegister;
		if (preferencesCashRegister == null)
		{
			preferencesCashRegister = new PreferencesCashRegister();
		} 
	}
	private function handleLoadCreditCardResult(ev:ResultEvent):void {
		PreferencesCreditCardArray = ev.result as ArrayCollection;
	}
	private function handleLoadMarkupsResult(ev:ResultEvent):void {
		PreferencesMarkupsArray = ev.result as ArrayCollection;
	}
	private function handleLoadMarkupsMerchandiseResult(ev:ResultEvent):void {
		PreferencesMarkupsMerchandiseArray = ev.result as ArrayCollection;
	}
	private function handleLoadPendingListResult(ev:ResultEvent):void {
		PreferencesPendingListArray = ev.result as ArrayCollection;
	}
	private function handleLoadPricingMethodResult(ev:ResultEvent):void {
		PreferencesPricingMethodArray = ev.result as ArrayCollection;
	}
	private function handleLoadQuantityBreaksResult(ev:ResultEvent):void {
		PreferencesQuantityBreaksArray = ev.result as ArrayCollection;
	}
	private function handleLoadSalesCategoryResult(ev:ResultEvent):void {
		PreferencesSalesCategoryArray = ev.result as ArrayCollection;
	}
	private function handleLoadStockDefinitionResult(ev:ResultEvent):void {
		PreferencesStockDefinitionArray = ev.result as ArrayCollection;
	}
	private function handleLoadStocksResult(ev:ResultEvent):void {
		PreferencesStocksArray = ev.result as ArrayCollection;
		if ( PreferencesStocksArray.length >0)
			preferencesStocks = PreferencesStocksArray.getItemAt(0,0) as PreferencesStocks;
		if (preferencesStocks == null)
		{
			preferencesStocks = new PreferencesStocks();
		}
	}
	private function handleLoadColumnNamesResult(ev:ResultEvent):void {
	     ColumnNamesArray = ev.result as ArrayCollection;
	}
	private function handleLoadSizeTableResult(ev:ResultEvent):void {
	     SizeTableArray = ev.result as ArrayCollection;
	}
	private function handleLoadCategoryResult(ev:ResultEvent):void {
	     CategoryArray = ev.result as ArrayCollection;
	}

// Data Save Handlers
	private function handleSaveSystemResult(ev:ResultEvent):void {
    	dataServiceSystem.getAll("PreferencesSystem");
	}
	private function handleSavePOSResult(ev:ResultEvent):void {
    	dataServicePOS.getAll("PreferencesPOS");
	}
	private function handleSaveEstimatorResult(ev:ResultEvent):void {
    	dataServiceEstimator.getAll("preferencesEstimating");
	}
	private function handleSaveAccountingResult(ev:ResultEvent):void {
    	dataServiceAccounting.getAll("PreferencesAccounting");
	}
	private function handleSaveCountryResult(ev:ResultEvent):void {
    	dataServiceCountry.getAll("Country");
		country = ev.result as Country;
	}
	private function handleSaveCashRegisterResult(ev:ResultEvent):void {
    	dataServiceCashRegister.getAll("PreferencesCashRegister");
	}
	private function handleSaveCreditCardResult(ev:ResultEvent):void {
    	dataServiceCreditCard.getAll("PreferencesCreditCard");
	}
	private function handleSaveMarkupsResult(ev:ResultEvent):void {
    	dataServiceMarkups.getAll("OutsideServices");
	}
	private function handleSaveMarkupsMerchandiseResult(ev:ResultEvent):void {
    	dataServiceMarkupsMerchandise.getAll("Merchandise");
	}
	private function handleSavePendingListResult(ev:ResultEvent):void {
    	dataServicePendingList.getAll("PreferencesPendingList");
	}
	private function handleSavePricingMethodResult(ev:ResultEvent):void {
    	dataServicePricingMethod.getAll("PreferencesPricingMethod");
	}
	private function handleSaveQuantityBreaksResult(ev:ResultEvent):void {
    	dataServiceQuantityBreaks.getAll("PreferencesQuantityBreaks");
	}
	private function handleSaveSalesCategoryResult(ev:ResultEvent):void {
    	dataServiceSalesCategory.getAll("PreferencesSalesCategory");
	}
	private function handleSaveStockDefinitionResult(ev:ResultEvent):void {
    	dataServiceStockDefinition.getAll("PreferencesStockDefinition");
	}
	private function handleSaveStocksResult(ev:ResultEvent):void {
    	dataServiceStocks.getAll("PreferencesStocks");
	}
	private function handleSaveColumnNamesResult(ev:ResultEvent):void {
    	dataServiceColumnNames.getAll("ColumnNames");
	}
	private function handleSaveSizeTableResult(ev:ResultEvent):void {
    	dataServiceSizeTable.getAll("SizeTable");
	}
	private function handleSaveCategoryResult(ev:ResultEvent):void {
    	dataServiceCategory.getAll("SalesCategory");
	}

	private function handleDeleteCashRegisterResult(ev:ResultEvent):void {
    	dataServiceCashRegister.getAll("PreferencesCashRegister");
	}
	private function handleDeleteCreditCardResult(ev:ResultEvent):void {
    	dataServiceCreditCard.getAll("PreferencesCreditCard");
	}
	
	private function handleDeleteMarkupsResult(ev:ResultEvent):void {
    	dataServiceMarkups.getAll("OutsideServices");
	}
	
	private function handleDeleteMarkupsMerchandiseResult(ev:ResultEvent):void {
    	dataServiceMarkupsMerchandise.getAll("Merchandise");
	}
	
	private function handleDeletePricingMethodResult(ev:ResultEvent):void {
    	dataServicePricingMethod.getAll("PreferencesPricingMethod");
	}
	
	private function handleDeleteSalesCategoryResult(ev:ResultEvent):void {
    	dataServiceSalesCategory.getAll("PreferencesSalesCategory");
	}
	
	private var openSequence:Array = [];

	private function openTree():void {
		var nodeList:XMLListCollection = 
			tvPreference.dataProvider as XMLListCollection;
		var node:XMLList = nodeList.source;
		for(var i:int=0; i < 4; i++) {
			var n:XML = node[i];
			if( n.children() != null ) {
				tvPreference.expandItem(n,true,false);
			}
		}
		tvPreference.selectedIndex = 1;
		preferences_stack.selectedIndex = 0; 
	}

	private function treeSelect(event:Event):void {
		this.currentState = "";
		
		var node:XML = XML(event.currentTarget.selectedItem);
		if( node == null ) return;
		
		if( node.@label == "System" ) return;
		if( node.@label == "POS" ) return;
		if( node.@label == "Estimator" ) return;
		if( node.@label == "Accounting" ) return;

		//var message:String;
		//message = node.@label; 
		//Alert.show(message, "Selected Item", 0, null, null, null, 4);                                 
		preferences_stack.selectedIndex = node.@tag; 
	}
	
	private function doSignSymbol(text:String):void{
		currentnumberstext.text = currentnumberstext.text + text; 
	}

	private function setAlternateCurrencyText(textInput:TextInput):void{
		currentnumberstext = textInput;
		var number1:Number = 1234.567890
		var number2:Number = 0.0
		var number3:Number = -1234.567890
		var number4:Number = 0.555555
		var str:String = currentnumberstext.text;
		if (str.substr(str.indexOf(";")).length > 0){
			str = str.substr(0,str.indexOf(";"))
		}
 
		var fmt1:mx.formatters.CurrencyFormatter = new CurrencyFormatter();
		if (str.length > 0){
			if (str.substr(str.indexOf(".")).length > 0){
				fmt1.precision = str.substr(str.indexOf(".")).length 
			}else{
				fmt1.precision = 0;
			}
			if (str.substr(str.indexOf(dollar)).length > 0){
				fmt1.currencySymbol = dollar;
			}  
			if (str.substr(str.indexOf(yen)).length > 0){
				fmt1.currencySymbol = yen;
			}  
			if (str.substr(str.indexOf(euro)).length > 0){
				fmt1.currencySymbol = euro;
			}
			txtSampleArea.text = fmt1.format(number1)+ "\n" + fmt1.format(number2)+ "\n" + fmt1.format(number3)+ "\n" + fmt1.format(number4);
		}else{
			txtSampleArea.text = "";
		}

	}
	private function setDisplayText(textInput:TextInput):void{
		currentnumberstext = textInput;
		var number1:Number = 1234.567890
		var number2:Number = 0.0
		var number3:Number = -1234.567890
		var number4:Number = 0.555555
		var str:String = currentnumberstext.text;
		if (str.substr(str.indexOf(";")).length > 0){
			str = str.substr(0,str.indexOf(";"))
		}
 
		var fmt1:mx.formatters.CurrencyFormatter = new CurrencyFormatter();
		var fmt2:mx.formatters.NumberFormatter = new NumberFormatter();
		if (str.length > 0){
			if (str.substr(str.indexOf(dollar)).length > 0 || str.substr(str.indexOf(yen)).length > 0 || str.substr(str.indexOf(euro)).length > 0) {
				if (str.substr(str.indexOf(".")).length > 0){
					fmt1.precision = str.substr(str.indexOf(".")).length 
				}else{
					fmt1.precision = 0;
				}
				if (str.substr(str.indexOf(dollar)).length > 0){
					fmt1.currencySymbol = dollar;
				}  
				if (str.substr(str.indexOf(yen)).length > 0){
					fmt1.currencySymbol = yen;
				}  
				if (str.substr(str.indexOf(euro)).length > 0){
					fmt1.currencySymbol = euro;
				}
				txtDisplayArea.text = fmt1.format(number1)+ "\n" + fmt1.format(number2)+ "\n" + fmt1.format(number3)+ "\n" + fmt1.format(number4);
			}else {
				if (str.substr(str.indexOf(".")).length > 0){
					fmt2.precision = str.substr(str.indexOf(".")).length 
				}else {
					fmt2.precision = 0;
				}
				txtDisplayArea.text = fmt2.format(number1)+ "\n" + fmt2.format(number2)+ "\n" + fmt2.format(number3)+ "\n" + fmt2.format(number4);
			}		
		}

		txtDisplayDemo.text = textInput.name;
	}

	private function setCurrentRange():void{
		var dt1:Date= new Date();
		dt1.setFullYear(dt1.fullYear,cboFiscalYearStartMonth.selectedIndex,"1");
		var dt2:Date = new Date(dt1.fullYear+1, cboFiscalYearStartMonth.selectedIndex, 0);
		txtCurrentRange.text = dt1.toDateString() + " - " + dt2.toDateString(); 
	}

	
	private function checkEnableAutoLogOut():void{
		chkSecondsOfInactivity.enabled = chkEnableAutomaticLogOut.selected;
		chkTriggerAfterPosting.enabled = chkEnableAutomaticLogOut.selected;
	}
	
	private function checkAlternateCurrency():void{
		txtFormat.enabled = chkUseAlternateCurrency.selected;
		txtConversionFactor.enabled = chkUseAlternateCurrency.selected;
		txtRoundToAlternateCurrency.enabled = chkUseAlternateCurrency.selected;
		chkAlwaysRoundDownAlternateCurrency.enabled = chkUseAlternateCurrency.selected;
	}
	
	private function doSave():void{
		mapToPreferencesAllData();
		updatePreferencesData();		
	}
	
	private function doRevert():void{
		getPreferencesData();
		mapFromPreferencesAllData();
	}
	
	private function doCheckPNIConnection():void{
		
	}
	private function doBrowsePath():void{
		
	}
	
	private function doCreateLocationFile():void{
		
	}
	
	private function doCheckForPalmData():void{
		
	}
	private function doSelectColor(text:TextInput):void{
		
	}
	private function doSelectFont(text:TextInput):void{
		if (text != null)
		{
			//do something
		}else{
			//do something else
		}
		
	}
	private function doPrintBarCodes():void{
		
	}
	private function doSelectFolder():void{
		
	}

	private function doNewCashRegister():void{
		var newItem:PreferencesCashRegister = new PreferencesCashRegister();
		PreferencesCashRegisterArray.addItem(newItem);
	}
	private function doRemoveCashRegister():void{
		if (CashRegisterGrid.selectedIndex > -1){
			var newItem:PreferencesCashRegister = CashRegisterGrid.selectedItem as PreferencesCashRegister;
			PreferencesCashRegisterDeleteArray.addItem(newItem);
			PreferencesCashRegisterArray.removeItemAt(CashRegisterGrid.selectedIndex);
		}
	}

	private function doNewQuantityBreak():void{
		var newItem:PreferencesQuantityBreaks = new PreferencesQuantityBreaks();
		PreferencesQuantityBreaksArray.addItem(newItem);
		
	}

	private function doRemoveQuantityBreak():void{
		if (QuantityBreaksGrid.selectedIndex > -1){
			var newItem:PreferencesQuantityBreaks = QuantityBreaksGrid.selectedItem as PreferencesQuantityBreaks;
			PreferencesQuantityBreaksDeleteArray.addItem(newItem);
			PreferencesQuantityBreaksArray.removeItemAt(QuantityBreaksGrid.selectedIndex);
		}
	}

	private function doNewPriceMethod():void{
		var newItem:PreferencesPricingMethod = new PreferencesPricingMethod();
		PreferencesPricingMethodArray.addItem(newItem);
	}
	private function doRemovePriceMethod():void{
		if (PricingMethodGrid.selectedIndex > -1){
			var newItem:PreferencesPricingMethod = PricingMethodGrid.selectedItem as PreferencesPricingMethod;
			PreferencesPricingMethodDeleteArray.addItem(newItem);
			PreferencesPricingMethodArray.removeItemAt(PricingMethodGrid.selectedIndex);
		}
	}

	private function doNewMarkup(item:String):void{
		if (item=="outside")
		{
			var newItem1:OutsideService = new OutsideService();
			PreferencesMarkupsArray.addItem(newItem1);
		}else {
			var newItem2:Merchandise = new Merchandise();
			PreferencesMarkupsMerchandiseArray.addItem(newItem2);
		}
	}
	private function doRemoveMarkup(item:String, dg:DataGrid):void{
		if (dg.selectedIndex > -1) {
			if (item=="outside")
			{
				var newItem1:OutsideService = dg.selectedItem as OutsideService;
				PreferencesMarkupsDeleteArray.addItem(newItem1);
				PreferencesMarkupsArray.removeItemAt(dg.selectedIndex);
			}else {
				var newItem2:Merchandise = dg.selectedItem as Merchandise;
				PreferencesMarkupsMerchandiseDeleteArray.addItem(newItem2);
				PreferencesMarkupsMerchandiseArray.removeItemAt(dg.selectedIndex);
			}
		}
	}

	private function doNewSalesCategory():void{
		var newItem:PreferencesSalesCategory = new PreferencesSalesCategory();
		PreferencesSalesCategoryArray.addItem(newItem);
	}
	private function doRemoveSalesCategory():void{
		if (SalesCategoryGrid.selectedIndex > -1){
			var newItem:PreferencesSalesCategory = SalesCategoryGrid.selectedItem as PreferencesSalesCategory;
			PreferencesSalesCategoryDeleteArray.addItem(newItem);
			PreferencesSalesCategoryArray.removeItemAt(SalesCategoryGrid.selectedIndex);
		}
	}

	private function doNewCreditCard():void{
		var newItem:PreferencesCreditCard = new PreferencesCreditCard();
		PreferencesCreditCardArray.addItem(newItem);
	}
	private function doRemoveCreditCard():void{
		if (CreditCardGrid.selectedIndex > -1){
			var newItem:PreferencesCreditCard = CreditCardGrid.selectedItem as PreferencesCreditCard;
			PreferencesCreditCardDeleteArray.addItem(newItem);
			PreferencesCreditCardArray.removeItemAt(CreditCardGrid.selectedIndex);
		}
	}

	private function processSalesCategoryGridData(event:DataGridEvent):void {
        if (event.reason == DataGridEventReason.CANCELLED){
            // Do not update cell.
            return;
        }           

		if(event.dataField == "category")
		{
			// Disable copying data back to the control.
			event.preventDefault();

			// Get new category from editor.
			SalesCategoryGrid.editedItemRenderer.data.category = SalesCategoryEditor(DataGrid(event.target).itemEditorInstance).pickCategory.selectedItem;

			// Close the cell editor.
			SalesCategoryGrid.destroyItemEditor();

			// Notify the list control to update its display.
			SalesCategoryGrid.dataProvider.itemUpdated(event.itemRenderer.data);
		}	
	}	

	private function processQuantityBreaksGridData(event:DataGridEvent):void {
        if (event.reason == DataGridEventReason.CANCELLED){
            // Do not update cell.
            return;
        }           
		if(event.dataField == "jobmethod")
		{
			// Disable copying data back to the control.
			event.preventDefault();

			// Get new category from editor.
			QuantityBreaksGrid.editedItemRenderer.data.jobmethod = JobMethodEditor(DataGrid(event.target).itemEditorInstance).pickJobMethod.selectedItem;

			// Close the cell editor.
			QuantityBreaksGrid.destroyItemEditor();

			// Notify the list control to update its display.
			QuantityBreaksGrid.dataProvider.itemUpdated(event.itemRenderer.data);
		}	
		
	}
	private function processPricingMethodGridData(event:DataGridEvent):void {
        if (event.reason == DataGridEventReason.CANCELLED){
            // Do not update cell.
            return;
        }           

		if(event.dataField == "category")
		{
			// Disable copying data back to the control.
			event.preventDefault();

			// Get new category from editor.
			PricingMethodGrid.editedItemRenderer.data.category = SalesCategoryEditor(DataGrid(event.target).itemEditorInstance).pickCategory.selectedItem;

			// Close the cell editor.
			PricingMethodGrid.destroyItemEditor();

			// Notify the list control to update its display.
			PricingMethodGrid.dataProvider.itemUpdated(event.itemRenderer.data);
		}	
		if(event.dataField == "estimator")
		{
			// Disable copying data back to the control.
			event.preventDefault();

			// Get new category from editor.
			PricingMethodGrid.editedItemRenderer.data.estimator = EstimatorTypesEditor(DataGrid(event.target).itemEditorInstance).pickEstimator.selectedItem;

			// Close the cell editor.
			PricingMethodGrid.destroyItemEditor();

			// Notify the list control to update its display.
			PricingMethodGrid.dataProvider.itemUpdated(event.itemRenderer.data);
		}	

	}	
	
	private function processCashRegisterGridData(event:DataGridEvent):void {
        // Check the reason for the event.
        if (event.reason == DataGridEventReason.CANCELLED){
            // Do not update cell.
            return;
        }           

		if(event.dataField == "category")
		{
			// Disable copying data back to the control.
			event.preventDefault();

			// Get new category from editor.
			CashRegisterGrid.editedItemRenderer.data.category = SalesCategoryEditor(DataGrid(event.target).itemEditorInstance).pickCategory.selectedItem;

			// Close the cell editor.
			CashRegisterGrid.destroyItemEditor();

			// Notify the list control to update its display.
			CashRegisterGrid.dataProvider.itemUpdated(event.itemRenderer.data);
		}
		if(event.dataField == "taxCodes")
		{
			// Disable copying data back to the control.
			event.preventDefault();

			// Get new category from editor.
			CashRegisterGrid.editedItemRenderer.data.taxCodes = TaxCodeEditor(DataGrid(event.target).itemEditorInstance).pickTaxCodes.selectedItem;

			// Close the cell editor.
			CashRegisterGrid.destroyItemEditor();

			// Notify the list control to update its display.
			CashRegisterGrid.dataProvider.itemUpdated(event.itemRenderer.data);
		}
		if(event.dataField == "taxTable")
		{
			// Disable copying data back to the control.
			event.preventDefault();

			// Get new category from editor.
			CashRegisterGrid.editedItemRenderer.data.taxTable = TaxTableEditor(DataGrid(event.target).itemEditorInstance).pickTaxTable.selectedItem;

			// Close the cell editor.
			CashRegisterGrid.destroyItemEditor();

			// Notify the list control to update its display.
			CashRegisterGrid.dataProvider.itemUpdated(event.itemRenderer.data);
		}

	}
	   
	private function columnnamePendingList(item:Object, column:DataGridColumn):String{
		var tmpName:PreferencesPendingList = item as PreferencesPendingList;
		
		if (tmpName != null && tmpName.columns != null && tmpName.columns.name != null) {
			var retVal:String = resourceManager.getString(Snowmass.RESOURCE_BUNDLE, tmpName.columns.name);
			
			if (retVal != "") {
				return retVal;
			} else {
				return "None";
			}
		} else {
			return "None";
		}

	}
	private function columnsnameStockDefinition(item:Object, column:DataGridColumn):String{
		var tmpName:PreferencesStockDefinition = item as PreferencesStockDefinition;
		
		if (tmpName != null && tmpName.columns != null && tmpName.columns.name != null) {
			var retVal:String = resourceManager.getString(Snowmass.RESOURCE_BUNDLE, tmpName.columns.name);
			
			if (retVal != "") {
				return retVal;
			} else {
				return "None";
			}
		} else {
			return "None";
		}
		
	}
	private function TreeDisplayLabel(item:XML):String {
		return resourceManager.getString(Snowmass.RESOURCE_BUNDLE, item.@label)
	}        

	private function padString(_str:String, _n:Number, _pStr:String):String {
	    var _rtn:String = _str;
	    if (_pStr == null || _pStr.length < 1)
	    {
	        _pStr = " ";
	    }
	    //
	    if (_str.length < _n)
	    {
	        var _s:String = "";
	        for (var i:Number = 0 ; i < (_n - _str.length) ; i++)
	        {
	            _s += _pStr;
	        }
	        _rtn = _s + _str;
	    }
	    
	    return _rtn;
	}

]]>

</mx:Script>	
	<mx:Tree width="190"  
		id="tvPreference" 
		dataProvider="{treeData.node}"
		change="treeSelect(event);" labelFunction="TreeDisplayLabel" bottom="0" top="0" x="0"></mx:Tree>

	<mx:Button x="228" y="6" width="38" height="38" click="doSave();" enabled="{enableSave}" id="btnSave">
		<mx:icon>@Embed(source='../../../../assets/file.png')</mx:icon>
	</mx:Button>
	<mx:Button x="282" y="6" width="38" height="38" click="doRevert();" enabled="{enableSave}" id="btnRevert">
		<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
	</mx:Button>

	<mx:VBox id="vbox2" left="190" top="72" height="100%" width="100%" creationPolicy="all">
		<mx:ViewStack id="preferences_stack" width="100%" height="100%">
			<mx:Canvas width="100%" height="100%" id="behavior_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Behavior')}" textAlign="center" left="0" right="0"/>
				<mx:HRule y="17" left="0" right="0"/>
				<mx:CheckBox x="50" y="30"  id="chkEliminateSomeWarningMessages" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Eliminatesomewarning')}" width="360"/>
				<mx:CheckBox x="50" y="60"  id="chkOnlyPostInvoicesMarkedReady" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Onlypostinvoicesmark')}" width="360"/>
				<mx:CheckBox x="50" y="90"  id="chkEnablePricingSystem" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.EnablePricingsystemI')}" width="360"/>
				<mx:CheckBox x="50" y="120" id="chkActivateUserEventLogging" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Activateusereventlog')}" width="360"/>
				<mx:CheckBox x="50" y="150" id="chkEnableAutomaticLogOut" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'usecCmd.Enableautomaticlogou')}" change="checkEnableAutoLogOut();" width="360"/>
				<mx:CheckBox x="80" y="180" id="chkSecondsOfInactivity" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Secondsofinactivityt')}" enabled="false" width="189"/>
				<mx:CheckBox x="80" y="210" id="chkTriggerAfterPosting" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.TriggerafterPosting')}" enabled="false" width="189"/>
				<mx:CheckBox x="50" y="240" id="chkShowInvoices" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Showinvoiceswithfirm')}" width="360"/>
				<mx:CheckBox x="50" y="270" id="chkEnableLineItemTaxes" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Enablelineitemtaxes')}" width="360"/>
				<mx:CheckBox x="50" y="300" id="chkEnableAutomaticQuit" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Enableautomaticquit')}" width="360"/>
				<mx:TextInput x="277" y="180" width="61" id="txtInactivitySeconds" text="{preferencesSystem.autoLogOutSeconds}"/>
				<mx:Label x="50" y="330" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Timeofdaytoquit')}" textAlign="right"/>
<!--			<mx:TextInput x="168" y="328" width="59" id="txtTimeOfDayQuit" text="{preferencesSystem.quitTime}"/>-->
				<cmp:TimeEntry x ="168" y="328" width="118" id="txtTimeOfDayQuit"/>
				<mx:Label x="80" y="367" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Shutdownnotification')}" textAlign="right"/>
				<mx:TextArea x="80" y="393" width="400" height="72" id="txtShutdownNotificationMessage" 
					text="{preferencesSystem.shutdownMessage}"/>
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="company_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Company')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				<ns1:AddressEditor x="50" y="30" id="address_editor" height="155" width="400"/>

				<mx:Label x="10" y="197" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Phone')}" textAlign="right" width="113"/>
				<mx:TextInput x="127" y="195" width="148" id="txtPhone" text="{preferencesSystem.companyPhone}"/>
				<mx:Label x="283" y="197" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.FAX')}" textAlign="right" width="95"/>
				<mx:TextInput x="377" y="195" width="148" id="txtFax" text="{preferencesSystem.companyFax}"/>
				<mx:Label x="10" y="227" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.EMail')}" textAlign="right" width="113"/>
				<mx:TextInput x="125" y="225" width="400" id="txtEmail" text="{preferencesSystem.companyEmail}"/>
				<mx:Label x="10" y="257" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Other')}" textAlign="right" width="113"/>
				<mx:TextInput x="125" y="255" width="400" id="txtOther1" text="{preferencesSystem.companyOther1}"/>
				<mx:Label x="10" y="287" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Other')}" textAlign="right" width="113"/>
				<mx:TextInput x="125" y="285" width="400" id="txtOther2" text="{preferencesSystem.companyOther2}"/>
				<mx:Label x="10" y="317" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.CompanyIDLabel')}" textAlign="right" width="113"/>
				<mx:TextInput x="125" y="315" width="100" id="txtCompanyIdLabel" text="{preferencesSystem.companyIdLabel}"/>
				<mx:Label x="242" y="317" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.CompanyID')}" textAlign="right" width="86"/>
				<mx:TextInput x="326" y="315" width="199" id="txtCompanyId" text="{preferencesSystem.companyId}"/>
				
				<mx:Label x="91" y="367" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.StoreNumber')}" textAlign="right" width="184"/>
				<mx:TextInput x="276" y="365" width="249" id="txtStoreNumber" text="{preferencesSystem.companyStoreNumber}"/>
				<mx:Label x="91" y="392" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.WorkstationStoreloca')}" textAlign="right" width="184"/>
				<mx:TextInput x="276" y="390" width="249" id="txtLocationReference" text="{preferencesSystem.companyStoreLocationRef}"/>
				<mx:TextArea x="125" y="420" width="400" height="63">
					<mx:text>{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.TheCompanyIDisprinte')}</mx:text>
				</mx:TextArea>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="calendar_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.BusinessCalendar')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Label x="50" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Fiscalyearstartsfirs')}" textAlign="right" width="162"/>
				<mx:ComboBox x="220" y="90" id="cboFiscalYearStartMonth" width="260" dataProvider="{MonthsArray}" labelField="name" change="setCurrentRange();"></mx:ComboBox>
				<mx:Label x="54" y="146" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.CurrentRange')}" textAlign="right" width="158"/>
				<mx:TextArea x="220" y="145" id="txtCurrentRange" height="19" width="260" enabled="false"/>
				
				<mx:Label x="50" y="185" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Workdays')}" textAlign="left" width="162"/>
				<mx:RadioButtonGroup id="opgFirstDayOfWorkWeek"/>
				<mx:RadioButton x="53" y="250" label="" groupName="opgFirstDayOfWorkWeek" value="1"/>
				<mx:RadioButton x="93" y="250" label="" groupName="opgFirstDayOfWorkWeek" value="2"/>
				<mx:RadioButton x="133" y="250" label="" groupName="opgFirstDayOfWorkWeek" value="3"/>
				<mx:RadioButton x="173" y="250" label="" groupName="opgFirstDayOfWorkWeek" value="4"/>
				<mx:RadioButton x="213" y="250" label="" groupName="opgFirstDayOfWorkWeek" value="5"/>
				<mx:RadioButton x="253" y="250" label="" groupName="opgFirstDayOfWorkWeek" value="6"/>
				<mx:RadioButton x="293" y="250" label="" groupName="opgFirstDayOfWorkWeek" value="7"/>

				<mx:Button id="btnWorkDaySunday" x="40" y="211" label="S" width="40" toggle="true"/>
				<mx:Button id="btnWorkDayMonday" x="80" y="211" label="M" width="40" toggle="true"/>
				<mx:Button id="btnWorkDayTuesday" x="120" y="211" label="T" width="40" toggle="true"/>
				<mx:Button id="btnWorkDayWednesday" x="160" y="211" label="W" width="40" toggle="true"/>
				<mx:Button id="btnWorkDayThursday" x="200" y="211" label="T" width="40" toggle="true"/>
				<mx:Button id="btnWorkDayFriday" x="240" y="211" label="F" width="40" toggle="true"/>
				<mx:Button id="btnWorkDaySaturday" x="280" y="211" label="S" width="40" toggle="true"/>
				<mx:Label x="325" y="250" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.FirstDayofWorkWeek')}" textAlign="left"/>
				<mx:CheckBox x="40" y="327" id="chkFutureDateExcludeClosed" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Futuredatesexcludeda')}"/>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="numbers_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Numbers')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Label x="13" y="32" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Integers')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="62" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Percentages')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Amount')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="122" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.TaxRate')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="152" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Rate')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="182" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Factor')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="214" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Invoice')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="242" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.ShortPercent')}" textAlign="right" width="146"/>
				<mx:Label x="13" y="272" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Roundto')}" textAlign="right" width="146"/>

				<mx:TextInput x="167" y="28" width="347" name="Integers" id="txtIntegers" focusIn="setDisplayText(txtIntegers);" text="{preferencesSystem.numbersIntegers}"/>
				<mx:TextInput x="167" y="58" width="347" name="Percentages" id="txtPercentages" focusIn="setDisplayText(txtPercentages);" text="{preferencesSystem.numbersPercentages}"/>
				<mx:TextInput x="167" y="88" width="347" name="Amount" id="txtAmount" focusIn="setDisplayText(txtAmount);" text="{preferencesSystem.numbersAmount}"/>
				<mx:TextInput x="167" y="118" width="347" name="Tax Rate" id="txtTaxRate" focusIn="setDisplayText(txtTaxRate);" text="{preferencesSystem.numbersTaxRate}"/>
				<mx:TextInput x="167" y="148" width="347" name="Rate" id="txtRate" focusIn="setDisplayText(txtRate);" text="{preferencesSystem.numbersRate}"/>
				<mx:TextInput x="167" y="178" width="347" name="Factor" id="txtFactor" focusIn="setDisplayText(txtFactor);" text="{preferencesSystem.numbersFactor}"/>
				<mx:TextInput x="167" y="210" width="347" name="Invoice" id="txtInvoice" focusIn="setDisplayText(txtInvoice);" text="{preferencesSystem.numbersInvoice}"/>
				<mx:TextInput x="167" y="238" width="347" name="Short Percent" id="txtShortPercent" focusIn="setDisplayText(txtShortPercent);" text="{preferencesSystem.numbersShortPercent}"/>
				<mx:TextInput x="167" y="268" width="75" name="Rounded Integers" id="txtRoundTo" focusIn="setDisplayText(txtRoundTo);" text="{preferencesSystem.numbersRoundto}"/>

				<mx:CheckBox x="256" y="268"  id="chkAlwaysRoundDown" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Alwaysrounddown')}" width="218"/>
				<mx:CheckBox x="256" y="298"  id="chkTaxRoundUp" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Roundtaxup')}" width="218"/>

				<mx:Button x="50" y="328" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Dollar')}"  width="75" click="doSignSymbol(dollar)"/>
				<mx:Button x="130" y="328" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Pound')}"  width="75" click="doSignSymbol('#')"/>
				<mx:Button x="210" y="328" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Yen')}"  width="75" click="doSignSymbol(yen)"/>
				<mx:Button x="290" y="328" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Euro')}"  width="75" click="doSignSymbol(euro)"/>
				<mx:Button x="370" y="328" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Space')}"  width="75" click="doSignSymbol(' ')"/>
				<mx:TextArea x="23" y="391" height="131" width="451" id="txtDisplayArea" enabled="false"/>
				<mx:Text x="50" y="374" text="xx" id="txtDisplayDemo"/>
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="alternatecurrency_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.AlternateCurrency')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:CheckBox x="50" y="30"  id="chkUseAlternateCurrency" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Usealternatecurrency')}" change="checkAlternateCurrency();" width="299"/>

				<mx:Label x="10" y="62" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Format')}" textAlign="right"  width="124"/>
				<mx:TextInput x="136" y="60" width="338" id="txtFormat" focusIn="setAlternateCurrencyText(txtFormat);" enabled="false" text="{preferencesSystem.displayFormat}"/>
				<mx:Label x="10" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.ConversionFactor')}" textAlign="right" width="124"/>
				<mx:TextInput x="136" y="90" width="75" id="txtConversionFactor" enabled="false" text="{preferencesSystem.conversionFactor}"/>
				<mx:Label x="10" y="122" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Roundto')}" textAlign="right" width="124"/>
				<mx:TextInput x="136" y="120" width="75" id="txtRoundToAlternateCurrency" enabled="false" text="{preferencesSystem.alternateRoundto}"/>

				<mx:CheckBox x="221" y="120"  id="chkAlwaysRoundDownAlternateCurrency" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Alwaysrounddown')}" enabled="false"/>
				
				<mx:TextArea x="23" y="203" height="40%" width="451" id="txtSampleArea" enabled="false"/>
				<mx:Label x="50" y="186" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.SampleCurrency')}" id="txtSampleDemo" textAlign="right"/>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="international_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.International')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				<mx:CheckBox x="50" y="30"  id="chkDisableTextStyles" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Disabletextstyles')}" width="451"/>
				<mx:CheckBox x="50" y="60"  id="chkUseAustralianInvoiceRounding" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.UseAustralianinvoice')}" width="451"/>
				<mx:CheckBox x="50" y="90"  id="chkDisableNonTaxableOptions" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Disablenontaxableopt')}" width="451"/>

				<mx:Label x="10" y="122" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.InkWeightsingular')}" textAlign="right" width="138"/>
				<mx:TextInput x="154" y="120" id="txtInkWeightSingular" text="{preferencesSystem.inkWeightSingular}"/>
				<mx:Label x="10" y="152" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.InkWeightplural')}" textAlign="right" width="143"/>
				<mx:TextInput x="154" y="150" id="txtInkWeightPlural" text="{preferencesSystem.inkWeightPlural}"/>

				<mx:Label x="10" y="214" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Authorizethedecrypto')}" textAlign="right" width="265"/>
				<mx:TextInput x="274" y="212" id="txtAuthorizeDecrypTo" text="{preferencesSystem.authorizeDecrypt}"/>


			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="addressformatting_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.AddressFormatting')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				
				<mx:Label x="36" y="32" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Defaultcountry')}" textAlign="right"/>
				<mx:ComboBox x="148" y="30" width="181" id="cboDefaultCountry" dataProvider="{CountryArray}" labelField="name" change="setCurrentCountry();"/>
				<mx:TextArea x="23" y="203" height="25%" width="451" id="txtSampleAddressArea" enabled="false"/>
				<mx:Text x="50" y="186" text="Sample Address" id="txtSampleAddress"/>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="receipt_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Receipt')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Label x="10" y="31" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Header')}" textAlign="right" width="99"/>
				<mx:Label x="10" y="181" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Footer')}" textAlign="right" width="99"/>
				<mx:TextArea y="30" id="txtReceiptHeader" height="130" text="{preferencesPOS.receiptHeader}" textAlign="center" right="19" left="107"/>
				<mx:TextArea y="180" id="txtReceiptFooter" height="100" text="{preferencesPOS.receiptFooter}" textAlign="center" right="19" left="107"/>

				<mx:TextInput x="322" y="300" id="txtSerialNumber" width="70" text="{preferencesPOS.startingNumber}"/>
				<mx:CheckBox x="50" y="300"  id="chkSerialNumberReceiptsStart" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Serialnumbersonrecei')}" width="273"/>
				<mx:CheckBox x="50" y="330"  id="chkHideTaxLineItems" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Hidetaxinlineitems')}" width="273"/>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="cashdrawer_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.CashDrawer')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Label x="29" y="32" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.ReceiptPrinter')}" textAlign="right"/>
				<mx:ComboBox x="143" y="30" id="cboReceiptPrinter"  dataProvider="{ReceiptPrinterArray}" labelField="name" width="120"/>
				<mx:Label x="21" y="62" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rptwriterRptPackageCmd.Printer')}" textAlign="right"/>
				<mx:TextInput x="143" y="60" id="txtSelectedPrinter" width="200" text="{preferencesPOS.defaultPrinter}"/>

				<mx:CheckBox x="50" y="90" id="chkEnableCashDrawer" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.EnableCashDrawer')}" width="232"/>
				<mx:CheckBox x="50" y="115" id="chkPrintReceipts" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.PrintReceipts')}" width="232"/>
				<mx:CheckBox x="70" y="140" id="chkPrint2forCredit" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.Print2forCreditCards')}" width="212"/>
				<mx:CheckBox x="70" y="165" id="chkPrint2forCash" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.Print2forCash')}" width="212"/>
				<mx:CheckBox x="50" y="190" id="chkPrintInvoices" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.PrintInvoices')}" width="232"/>
				<mx:CheckBox x="50" y="215" id="chkLockSettings" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.LockSettings')}" width="232"/>

				<mx:CheckBox x="290" y="90" id="chkUseMasterDrawer" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.UseMastersDrawer')}" width="188"/>
				<mx:CheckBox x="290" y="115" id="chkKeepSettingsLocal" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.Keepsettingslocal')}" width="188"/>

				<mx:Label x="56" y="273" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.ASCIICodetoopenDrawe')}" textAlign="right" width="158"/>
				<mx:Label x="56" y="298" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.BlanklinesbeforeRece')}" textAlign="right" width="158"/>
				<mx:Label x="66" y="323" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.BlanklinesafterRecei')}" textAlign="right" width="148"/>
				<mx:Label x="101" y="348" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.ReceiptStartCode')}" textAlign="right"/>
				<mx:Label x="95" y="373" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.ReceiptEndCode')}" textAlign="right"/>

				<mx:TextInput x="216" y="271" id="txtAsciiCodeOpenDrawer" width="47" text="{preferencesPOS.asciiCodeOpenDrawer}"/>
				<mx:TextInput x="216" y="296" id="txtBlankBeforeReceipt" width="47" text="{preferencesPOS.blankLinesBeforeReceipt}"/>
				<mx:TextInput x="216" y="321" id="txtBlankAfterReceipt" width="47" text="{preferencesPOS.blankLinesAfterReceipt}"/>
				<mx:TextInput x="216" y="346" id="txtReceiptStartCode" width="77" text="{preferencesPOS.receiptStartCode}"/>
				<mx:TextInput x="216" y="371" id="txtReceiptEndCode" width="77" text="{preferencesPOS.receiptEndCode}"/>

				<mx:Label x="21" y="420" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.BaudRate')}" textAlign="right" width="99"/>
				<mx:Label x="207" y="420" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.StopBits')}" textAlign="right" width="75"/>
				<mx:Label x="21" y="445" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.Parity')}" textAlign="right" width="99"/>
				<mx:Label x="207" y="445" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'drawerCmd.DataSize')}" textAlign="right" width="75"/>

				<mx:ComboBox x="119" y="418" id="cboBaudRate"  dataProvider="{BaudRateArray}" labelField="name" width="90" enabled="false"/>
				<mx:ComboBox x="281" y="418" id="cboStopBits"  dataProvider="{StopBitsArray}" labelField="name" width="90" enabled="false"/>
				<mx:ComboBox x="119" y="443" id="cboParity"  dataProvider="{ParityArray}" labelField="name" width="90" enabled="false"/>
				<mx:ComboBox x="281" y="443" id="cboDataSize"  dataProvider="{DataSizeArray}" labelField="name" width="90" enabled="false"/>

				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="cashregister_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.CashRegister')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:DataGrid id="CashRegisterGrid" 
					dataProvider="{PreferencesCashRegisterArray}" 
					editable="true" 
					itemEditEnd="processCashRegisterGridData(event);" bottom="80" top="27" right="52" left="28">
					<mx:columns>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posSetupCmd.Tax')}" dataField="tax" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.tax=!data.tax"  selected="{data.tax}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="100" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posSetupCmd.Title')}" dataField="title"/>
						<mx:DataGridColumn width="140" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posSetupCmd.SalesCategory')}" dataField="category"
							itemEditor="com.efi.printsmith.itemRenderers.SalesCategoryEditor" editable="true">
                			<mx:itemRenderer>
                    			<mx:Component>
	                        		<mx:Text selectable="false" text="{data.category.name}"/>
                    			</mx:Component>
                			</mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="50" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posSetupCmd.Rate')}" dataField="rate" editable="true"/>
						<mx:DataGridColumn width="140" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'taxCmd.TaxTable')}" dataField="taxTable"
							itemEditor="com.efi.printsmith.itemRenderers.TaxTableEditor" editable="true">
                			<mx:itemRenderer>
                    			<mx:Component>
	                        		<mx:Text selectable="false" text="{data.taxTable.name}"/>
                    			</mx:Component>
                			</mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="140" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'customInvCmd.TaxCode')}" dataField="taxCodes"
							itemEditor="com.efi.printsmith.itemRenderers.TaxCodeEditor" editable="true">
                			<mx:itemRenderer>
                    			<mx:Component>
	                        		<mx:Text selectable="false" text="{data.taxCodes.name}"/>
                    			</mx:Component>
                			</mx:itemRenderer>
						</mx:DataGridColumn>
					</mx:columns>
				</mx:DataGrid>

				<mx:Button x="50" width="38" height="38" click="doNewCashRegister();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button x="100" width="38" height="38" click="doRemoveCashRegister();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>

			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="pendinglist_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.PendingList')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:CheckBox x="50" y="265" id="chkShowDocumentType" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.ShowDocumentTypeInNu')}"/>
				<mx:CheckBox x="50" y="290" id="chkAlwaysIncludePastDue" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.AlwaysIncludePastDue')}"/>
				<mx:CheckBox x="50" y="315" id="chkColorPastDueEntries" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.ColorPastDueEntries')}"/>

				<mx:Button x="50" y="345" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.PastDueColor')}" click="doSelectColor(txtPastDueColor);" width="167"/>
				<mx:Button x="50" y="375" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.ReadyforPickupColor')}" click="doSelectColor(txtReadyforPickupColor);" width="167"/>
				<mx:Button x="50" y="405" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.InvoiceColor')}" click="doSelectColor(txtInvoiceColor);" width="167"/>
				<mx:Button x="50" y="435" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.EstimateColor')}" click="doSelectColor(txtEstimateColor);" width="167"/>

				<mx:Button x="50" y="465" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.ListFont')}" click="doSelectFont(txtListFont);" width="167"/>
				<mx:Button x="50" y="495" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.HeaderFont')}" click="doSelectFont(txtHeaderFont);" width="167"/>

				<mx:TextInput x="225" y="345" id="txtPastDueColor" width="80"/>
				<mx:TextInput x="225" y="375" id="txtReadyforPickupColor" width="80"/>
				<mx:TextInput x="225" y="405" id="txtInvoiceColor" width="80"/>
				<mx:TextInput x="225" y="435" id="txtEstimateColor" width="80"/>
				<mx:TextInput x="225" y="465" id="txtListFont" width="150"/>
				<mx:TextInput x="225" y="495" id="txtHeaderFont" width="150"/>

				<mx:DataGrid y="27" height="230" id="PendingListGrid" 
					dataProvider="{PreferencesPendingListArray}" 
					editable="true" allowMultipleSelection="true" 
        	        dragEnabled="true" 
    	            dropEnabled="true" 
	                dragMoveEnabled="true" right="96" left="50">
					<mx:columns>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.Visible')}" dataField="visible" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.visible=!data.visible"  selected="{data.visible}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="200" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'posPendCmd.ColumnTitle')}" labelFunction="columnnamePendingList" editable="false"/>
					</mx:columns>
				</mx:DataGrid>

			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="estimatorbehavior_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.EstimatorBehavior')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:CheckBox x="50" y="30" id="chkCloseSourceAfterCopying" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Closesourcedocumenta')}" width="453"/>
				<mx:CheckBox x="50" y="55" id="chkEnterStockCost" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.EnterStockCostinEsti')}" width="453"/>
				<mx:CheckBox x="50" y="80" id="chkCanChangeAddress" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.CanchangeaddressonAL')}" width="453"/>
				<mx:CheckBox x="50" y="105" id="chkAutoShowPaperCalculator" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.AutoshowPaperCalcula')}" width="453"/>
				<mx:CheckBox x="50" y="130" id="chkAlwaysUseStockParentSize" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.AlwaysuseStocksParen')}" width="453"/>
				<mx:CheckBox x="50" y="155" id="chkCalculateReOrderDate" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.CalculateReorderdate')}" width="453"/>
				<mx:CheckBox x="50" y="180" id="chkValidateSalesRep" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Validatesalesrep')}" width="453"/>
				<mx:CheckBox x="50" y="205" id="chkLeaveFoldedSizeEmpty" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.LeaveFoldedsizeempty')}" width="453"/>
				<mx:CheckBox x="50" y="230" id="chkDoNotCostDuringPost" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.DonotperformCostingd')}" width="453"/>
				<mx:CheckBox x="50" y="255" id="chkAutoShowCharges" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.AutoshowChargesonnew')}" width="453"/>
				<mx:CheckBox x="50" y="305" id="chkNeverUsePresetPress" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Neverusepresetpresso')}" width="453"/>
				<mx:CheckBox x="50" y="330" id="chkAddFixedWasteForEachPass" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Addfixedwasteforeach')}" width="453"/>
				<mx:CheckBox x="50" y="355" id="chkAddFixedWasteForEachColor" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Addfixedwasteforeach')}" width="453"/>
				<mx:CheckBox x="50" y="380" id="chkCalculateInkByImpressions" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.CalculateINKbyImpres')}" width="453"/>
				<mx:CheckBox x="50" y="405" id="chkUseHistoryTitle" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.UsetheHistorytitlefo')}" width="453"/>

				<mx:Label x="71" y="442" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Normalduedatedays')}" textAlign="right"/>
				<mx:TextInput x="196" y="440" id="txtNormalDueDateDays" width="70" text="{preferencesEstimating.normalDueDateDays}"/>
				
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="estimatorprinting_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.EstimatorPrinting')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				
				<mx:CheckBox x="50" y="30" id="chkCloseInvoiceAfterPrinting" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.CloseInvoiceafterpri')}" width="400"/>
				<mx:CheckBox x="50" y="55" id="chkCloseInvoiceAndEstimatesAfterPrinting" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.CloseInvoicesandEsti')}" width="400"/>

				<mx:Label x="10" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.DefaultInvoice')}" textAlign="right" width="149"/>
				<mx:Label x="10" y="117" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.DefaultEstimate')}" textAlign="right" width="150"/>

				<mx:ComboBox x="160" y="90" id="cboDefaultInvoice"  dataProvider="{DefaultInvoiceArray}" labelField="name" width="250"/>
				<mx:ComboBox x="160" y="115" id="cboDefaultEstimate"  dataProvider="{DefaultEstimateArray}" labelField="name" width="250"/>


				<mx:Panel x="10" y="159" width="520" height="174" layout="absolute" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.PaymentDueDate')}">
					<mx:Label x="20" y="7" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Numberofdaysbeforedu')}" textAlign="right" width="165"/>
					<mx:TextInput x="188" y="5" id="txtNumberOfDaysBeforeDue" width="50" text="{preferencesEstimating.numberOfDaysBeforeDue}"/>

					<mx:RadioButtonGroup id="optPaymentDueDays"/>
					<mx:RadioButton x="50" y="25" id="opbFromNotifiedDate" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Fromnotifieddate')}" groupName="optPaymentDueDays" value="1" width="282"/>
					<mx:RadioButton x="50" y="45" id="opbFromCompletedDate" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Fromcompleteddate')}" groupName="optPaymentDueDays" value="2" width="282"/>
					<mx:RadioButton x="50" y="65" id="opbFromPickupDate" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Frompickupdate')}" groupName="optPaymentDueDays" value="3" width="282"/>
					<mx:RadioButton x="50" y="85" id="opbFromOrderedDate" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Fromordereddate')}" groupName="optPaymentDueDays" value="4" width="282"/>
					<mx:RadioButton x="50" y="105" id="opbFromPrintedDate" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Fromprinteddate')}" groupName="optPaymentDueDays" value="5" width="282"/>
				</mx:Panel>

				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="papercalculator_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.PaperCalculator')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:CheckBox x="30" y="52" id="chkGripEdge"/>
				<mx:CheckBox x="30" y="102" id="chkFolioEdge"/>
				<mx:CheckBox x="30" y="152" id="chkColorBar"/>
				<mx:CheckBox x="30" y="202" id="chkWhiteSpace"/>
				<mx:CheckBox x="30" y="302" id="chkGutter"/>
				<mx:CheckBox x="30" y="352" id="chkBleed"/>
				
				<mx:Label x="50" y="30" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.GripEdgeGap')}" textAlign="right"/>
				<mx:Label x="50" y="80" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.FolioEdge')}" textAlign="right"/>
				<mx:Label x="50" y="130" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.ColorBar')}" textAlign="right"/>
				<mx:Label x="50" y="180" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.WhiteSpace')}" textAlign="right"/>
				<mx:Label x="50" y="230" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Right')}" textAlign="right"/>
				<mx:Label x="50" y="280" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Gutter')}" textAlign="right"/>
				<mx:Label x="50" y="330" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Bleed')}" textAlign="right"/>
				<mx:Label x="50" y="380" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Right')}" textAlign="right"/>

				<mx:TextInput x="50" y="50" id="txtGripEdge" width="93" text="{preferencesEstimating.gripEdgeGap}"/>
				<mx:TextInput x="50" y="100" id="txtFolioEdge" width="93" text="{preferencesEstimating.folioEdge}"/>
				<mx:TextInput x="50" y="150" id="txtColorBar" width="93" text="{preferencesEstimating.colorBar}"/>
				<mx:TextInput x="50" y="200" id="txtWhiteSpace" width="93" text="{preferencesEstimating.whiteSpace}"/>
				<mx:TextInput x="50" y="250" id="txtWhiteSpaceRight" width="93" text="{preferencesEstimating.whiteSpaceRight}"/>
				<mx:TextInput x="50" y="300" id="txtGutter" width="93" text="{preferencesEstimating.gutter}"/>
				<mx:TextInput x="50" y="350" id="txtBleed" width="93" text="{preferencesEstimating.bleed}"/>
				<mx:TextInput x="50" y="400" id="txtBleedRight" width="93" text="{preferencesEstimating.bleedRight}"/>

				<mx:Label x="151" y="180" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Top')}" textAlign="right"/>
				<mx:Label x="151" y="230" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Bottom')}" textAlign="right"/>
				<mx:Label x="151" y="280" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Horizontal')}" textAlign="right"/>
				<mx:Label x="151" y="330" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Top')}" textAlign="right"/>
				<mx:Label x="151" y="380" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.Bottom')}" textAlign="right"/>

				<mx:TextInput x="151" y="200" id="txtWhiteSpaceTop" width="93" text="{preferencesEstimating.whiteSpaceTop}"/>
				<mx:TextInput x="151" y="250" id="txtWhiteSpaceBottom" width="93" text="{preferencesEstimating.whiteSpaceBottom}"/>
				<mx:TextInput x="151" y="300" id="txtGutterHorizontal" width="93" text="{preferencesEstimating.gutterHorizontal}"/>
				<mx:TextInput x="151" y="350" id="txtBleedTop" width="93" text="{preferencesEstimating.bleedTop}"/>
				<mx:TextInput x="151" y="400" id="txtBleedBottom" width="93" text="{preferencesEstimating.bleedBottom}"/>

				<mx:Label x="27" y="462" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.DefaultPressCutoff')}" textAlign="right"/>
				<mx:TextInput x="151" y="460" id="txtDefaultPressCutoff" width="93" text="{preferencesEstimating.defaultPressCuttOff}"/>


				<mx:CheckBox x="260" y="52" id="chkBackTrimParent" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.BackTrimParent')}"/>
				<mx:CheckBox x="260" y="77" id="chkTrimFourSides" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.TrimFourSides')}"/>
				<mx:CheckBox x="260" y="102" id="chkWorkAndTumble" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.WorkandTumble')}"/>

				<mx:Label x="260" y="152" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.RuntoFinishGrain')}" textAlign="right"/>
				<mx:ComboBox x="377" y="150" id="cboRunToFinishGrain"  dataProvider="{RunToFinishGrainArray}" labelField="name" width="80"/>

				<mx:Panel x="260" y="200" width="270" height="135" layout="absolute" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.PrintOptions')}">
					<mx:CheckBox x="10" y="5" id="chkPrintParentToFinish" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.PrintParenttoFinishS')}"/>
					<mx:CheckBox x="10" y="25" id="chkPrintParentToRun" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.PrintParenttoRunSect')}"/>
					<mx:CheckBox x="10" y="45" id="chkPrintRunToFinish" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.PrintRuntoFinishSect')}"/>
					<mx:CheckBox x="10" y="65" id="chkAttachToJobTicket" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'extPaperCalcCmd.AttachtoJobTicket')}"/>
				</mx:Panel>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="jobticket_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.JobTicket')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Label x="50" y="27" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.TicketFormat')}" textAlign="left" width="231"/>
				<mx:RadioButtonGroup id="opgTicketFormat"/>
				<mx:RadioButton x="50" y="50" id="opgOldStyle" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.OldStylepre50')}" groupName="opgTicketFormat"/>
				<mx:RadioButton x="50" y="70" id="opgStandardStyle" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.StandardStyle')}" groupName="opgTicketFormat"/>
				<mx:RadioButton x="50" y="90" id="opgCustomStyle" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.CustomStyle')}" groupName="opgTicketFormat"/>
				<mx:ComboBox x="192" y="90" id="cboCustomStyle" dataProvider="{JobTicketStylesArray}" labelField="name" width="338"/>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="quantitybreaks_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.QuantityBreaks')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				
				<mx:DataGrid id="QuantityBreaksGrid" 
					dataProvider="{PreferencesQuantityBreaksArray}" 
					editable="true" 
					itemEditEnd="processQuantityBreaksGridData(event);" top="27" bottom="80" left="50" right="268">
					<mx:columns>
						<mx:DataGridColumn width="100" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Quantity')}" dataField="quantity"/>
						<mx:DataGridColumn width="50" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'employeeClockInOutCmd.Break')}" dataField="qtyBreak" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.qtybreak=!data.qtybreak"  selected="{data.qtybreak}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="140" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'jobCmd.JobMethod')}" dataField="jobMethod"
							itemEditor="com.efi.printsmith.itemRenderers.JobMethodEditor" editable="true">
                			<mx:itemRenderer>
                    			<mx:Component>
	                        		<mx:Text selectable="false" text="{data.jobmethod.name}"/>
                    			</mx:Component>
                			</mx:itemRenderer>
						</mx:DataGridColumn>
					</mx:columns>
				</mx:DataGrid>
				<mx:Button x="50" width="38" height="38" click="doNewQuantityBreak();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button x="100" width="38" height="38" click="doRemoveQuantityBreak();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="markups_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.Markups')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				
				<mx:Text x="50" y="30" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Markupissteppedandba')}" height="38" width="488"/>

				<mx:Label x="50" y="80" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.OutsideServices')}" textAlign="right"/>
				<mx:DataGrid x="50" id="OutsideServicesGrid" 
					dataProvider="{PreferencesMarkupsArray}" 
					editable="true" top="100" bottom="80">
					<mx:columns>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.TotalCost')}" dataField="totalCost"/>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Markup')}" dataField="markup"/>
					</mx:columns>
				</mx:DataGrid>

				<mx:Button x="50" width="38" height="38" click="doNewMarkup(&quot;outside&quot;);" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button x="100" width="38" height="38" click="doRemoveMarkup(&quot;outside&quot;,OutsideServicesGrid);" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>

				<mx:Label x="300" y="80" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Merchandise')}" textAlign="right"/>
				<mx:DataGrid x="300" id="MerchandiseGrid" 
					dataProvider="{PreferencesMarkupsMerchandiseArray}" 
					editable="true" top="100" bottom="80">
					<mx:columns>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.TotalCost')}" dataField="totalCost"/>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Markup')}" dataField="markup"/>
					</mx:columns>
				</mx:DataGrid>
				<mx:Button x="300" width="38" height="38" click="doNewMarkup(&quot;merchandise&quot;);" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button x="350" width="38" height="38" click="doRemoveMarkup(&quot;merchandise&quot;,MerchandiseGrid);" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="stocksizes_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.StocksandSizes')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				
				<mx:Panel y="27" layout="absolute" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.StandardStockandSpec')}" height="295" left="50" width="500">
					<mx:Label x="9" y="5" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Quantity')}" textAlign="right"/>
					<mx:Label x="15" y="27" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Markup')}" textAlign="right"/>

					<mx:TextInput x="66" y="3" id="txtstdqty1" width="50" text="{preferencesStocks.stdQty1}"/>
					<mx:TextInput x="116" y="3" id="txtstdqty2" width="50" text="{preferencesStocks.stdQty2}"/>
					<mx:TextInput x="166" y="3" id="txtstdqty3" width="50" text="{preferencesStocks.stdQty3}"/>
					<mx:TextInput x="216" y="3" id="txtstdqty4" width="50" text="{preferencesStocks.stdQty4}"/>
					<mx:TextInput x="266" y="3" id="txtstdqty5" width="50" text="{preferencesStocks.stdQty5}"/>
					<mx:TextInput x="316" y="3" id="txtstdqty6" width="50" text="{preferencesStocks.stdQty6}"/>
	
					<mx:TextInput x="66" y="26" id="txtstdmarkup1" width="50" text="{preferencesStocks.stdMarkup1}"/>
					<mx:TextInput x="116" y="26" id="txtstdmarkup2" width="50" text="{preferencesStocks.stdMarkup2}"/>
					<mx:TextInput x="166" y="26" id="txtstdmarkup3" width="50" text="{preferencesStocks.stdMarkup3}"/>
					<mx:TextInput x="216" y="26" id="txtstdmarkup4" width="50" text="{preferencesStocks.stdMarkup4}"/>
					<mx:TextInput x="266" y="26" id="txtstdmarkup5" width="50" text="{preferencesStocks.stdMarkup5}"/>
					<mx:TextInput x="316" y="26" id="txtstdmarkup6" width="50" text="{preferencesStocks.stdMarkup6}"/>

					<mx:Label x="15" y="55" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Stockweightnameandfi')}" textAlign="right"/>
					<mx:Label x="15" y="95" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Stockpointsnameandfi')}" textAlign="right"/>
					<mx:Label x="15" y="135" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Stockmicronsnameandf')}" textAlign="right"/>
					<mx:Label x="15" y="175" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Stockpliesnameandfinh')}" textAlign="right"/>
					<mx:Label x="15" y="215" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Stockmillimetersname')}" textAlign="right"/>

					<mx:TextInput x="15" y="70" id="txtStockWeight" text="{preferencesStocks.weight}" width="172"/>
					<mx:TextInput x="15" y="110" id="txtstockPoints" text="{preferencesStocks.points}" width="172"/>
					<mx:TextInput x="15" y="150" id="txtStockMicrons" text="{preferencesStocks.microns}" width="172"/>
					<mx:TextInput x="15" y="190" id="txtStockPlies" text="{preferencesStocks.plies}" width="172"/>
					<mx:TextInput x="15" y="230" id="txtStockMillimeters" text="" width="172"/>
				</mx:Panel>
				<mx:Panel x="50" y="326" layout="absolute" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.BlankStockPricing')}" width="500" height="92">				
					<mx:Label x="9" y="5" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Quantity')}" textAlign="right"/>
					<mx:Label x="15" y="27" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Markup')}" textAlign="right"/>

					<mx:TextInput x="66" y="3" id="txtblankqty1" width="50" text="{preferencesStocks.blankQty1}"/>
					<mx:TextInput x="116" y="3" id="txtblankqty2" width="50" text="{preferencesStocks.blankQty2}"/>
					<mx:TextInput x="166" y="3" id="txtblankqty3" width="50" text="{preferencesStocks.blankQty3}"/>
					<mx:TextInput x="216" y="3" id="txtblankqty4" width="50" text="{preferencesStocks.blankQty4}"/>
					<mx:TextInput x="266" y="3" id="txtblankqty5" width="50" text="{preferencesStocks.blankQty5}"/>
					<mx:TextInput x="316" y="3" id="txtblankqty6" width="50" text="{preferencesStocks.blankQty6}"/>
	
					<mx:TextInput x="66" y="26" id="txtblankmarkup1" width="50" text="{preferencesStocks.blankMarkup1}"/>
					<mx:TextInput x="116" y="26" id="txtblankmarkup2" width="50" text="{preferencesStocks.blankMarkup2}"/>
					<mx:TextInput x="166" y="26" id="txtblankmarkup3" width="50" text="{preferencesStocks.blankMarkup3}"/>
					<mx:TextInput x="216" y="26" id="txtblankmarkup4" width="50" text="{preferencesStocks.blankMarkup4}"/>
					<mx:TextInput x="266" y="26" id="txtblankmarkup5" width="50" text="{preferencesStocks.blankMarkup5}"/>
					<mx:TextInput x="316" y="26" id="txtblankmarkup6" width="50" text="{preferencesStocks.blankMarkup6}"/>

				</mx:Panel>
				<mx:Panel x="50" y="422" layout="absolute" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.CustomerStock')}" width="500" height="134">
					<mx:Label x="37" y="5" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.StockCost')}" textAlign="right"/>
					<mx:Label x="49" y="27" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Quantity')}" textAlign="right"/>
					<mx:Label x="55" y="49" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Markup')}" textAlign="right"/>

					<mx:TextInput x="109" y="3" id="txtcustomercost" width="50" text="{preferencesStocks.customerCost}"/>
					<mx:TextInput x="109" y="26" id="txtcustomerquantity" width="50" text="{preferencesStocks.customerQuantity}"/>
					<mx:TextInput x="109" y="49" id="txtcustomermarkup" width="50" text="{preferencesStocks.customerMarkup}"/>

					<mx:CheckBox x="10" y="71" id="chkMarkupOnly" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.MarkupOnlynostockcos')}"/>
								
				</mx:Panel>

				<mx:Label x="50" y="564" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.SizeTabletoUse')}" textAlign="right"/>
				<mx:ComboBox x="160" y="562" id="cboSizeTableToUse"/>

			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="stockdefinitions_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.StockDefinitions')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:DataGrid id="StockDefinitionGrid"
					dataProvider="{PreferencesStockDefinitionArray}" 
					editable="true" bottom="80" top="27" allowMultipleSelection="true" 
	                dragEnabled="true" 
    	            dropEnabled="true" 
        	        dragMoveEnabled="true" left="50" right="96">
					<mx:columns>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'stockPickerCmd.Visible')}" dataField="visible" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.visible=!data.visible"  selected="{data.visible}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="200" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'stockPickerCmd.ColumnTitle')}" labelFunction="columnsnameStockDefinition" editable="false"/>
					</mx:columns>
				</mx:DataGrid>

			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="pricingmethod_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.PricingMethod')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:DataGrid id="PricingMethodGrid" 
					dataProvider="{PreferencesPricingMethodArray}" 
					editable="true" 
					itemEditEnd="processPricingMethodGridData(event);" top="27" bottom="80" left="50" right="38">
					<mx:columns>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.Use')}" dataField="used" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.used=!data.used"  selected="{data.used}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="100" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.Title')}" dataField="title"/>
						<mx:DataGridColumn width="100" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.Abbreviation')}" dataField="abbreviation"/>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.B')}" textAlign="center" dataField="brokered" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.brokered=!data.brokered"  selected="{data.brokered}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.T')}" textAlign="center" dataField="taxable" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.taxable=!data.taxable"  selected="{data.taxable}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.F')}" textAlign="center" dataField="finished" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.finished=!data.finished"  selected="{data.finished}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.N')}" textAlign="center" dataField="showNotes" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.showNotes=!data.showNotes"  selected="{data.showNotes}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="140" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.SalesCategory')}" dataField="category"
							itemEditor="com.efi.printsmith.itemRenderers.SalesCategoryEditor" editable="true">
                			<mx:itemRenderer>
                    			<mx:Component>
	                        		<mx:Text selectable="false" text="{data.category.name}"/>
                    			</mx:Component>
                			</mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn width="140" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.Estimator')}" dataField="estimator"
							itemEditor="com.efi.printsmith.itemRenderers.EstimatorTypesEditor" editable="true">
                			<mx:itemRenderer>
                    			<mx:Component>
	                        		<mx:Text selectable="false" text="{data.estimator.name}"/>
                    			</mx:Component>
                			</mx:itemRenderer>
						</mx:DataGridColumn>
					</mx:columns>
				</mx:DataGrid>
				<mx:Button x="50" width="38" height="38" click="doNewPriceMethod();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button x="100" width="38" height="38" click="doRemovePriceMethod();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>

			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="creditdefaults_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.CreditDefaults')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				
				<mx:Label x="10" y="32" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.CreditLimit')}" textAlign="right" width="136"/>
				<mx:Label x="10" y="62" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.FinanceCharge')}" textAlign="right" width="136"/>
				<mx:Label x="10" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.InactivePeriod')}" textAlign="right" width="136"/>
				<mx:CheckBox x="50" y="120" id="chkRemoveDraftFromDeposit" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Removedraftsfromdepo')}" width="307"/>
				<mx:Label x="10" y="152" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Defaultsalesrepforne')}" textAlign="right" width="240"/>
				<mx:Label x="10" y="182" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Defaultshippingforne')}" textAlign="right" width="240"/>

				<mx:TextInput x="151" y="30" id="txtCreditLimit" width="379" text="{preferencesAccounting.creditLimit}"/>
				<mx:TextInput x="151" y="60" id="txtFinanceCharge" width="379" text="{preferencesAccounting.financeChange}"/>
				<mx:TextInput x="151" y="90" id="txtInactivePeriod" width="379" text="{preferencesAccounting.inactivePeriod}"/>
				<mx:TextInput x="255" y="150" id="txtDefaultSalesRep" width="275" text="{preferencesAccounting.defaultSalesRep}"/>
				<mx:TextInput x="255" y="180" id="txtDefaultShippingAddress" width="275" text="{preferencesAccounting.defaultShipping}"/>
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="agingperiods_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.AgingPeriods')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Label x="7" y="32" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.PastDue')}" textAlign="right" width="81"/>
				<mx:Label x="7" y="132" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Delinquent')}" textAlign="right" width="81"/>
				<mx:Label x="7" y="232" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Frozen')}" textAlign="right" width="81"/>
				<mx:TextInput x="90" y="30" id="txtPastDue" width="60" text="{preferencesAccounting.pastDue}"/>
				<mx:TextInput x="90" y="130" id="txtDelinquent" width="60" text="{preferencesAccounting.delinquent}"/>
				<mx:TextInput x="90" y="230" id="txtFrozen" width="60" text="{preferencesAccounting.frozen}"/>

				<mx:TextArea y="60" id="txtPastDueArea" height="60" text="{preferencesAccounting.pastDueNote}" left="90" right="87"/>
				<mx:TextArea y="160" id="txtDelinquentArea" height="60" text="{preferencesAccounting.delinquentNote}" left="90" right="87"/>
				<mx:TextArea y="260" id="txtFrozenArea" height="60" text="{preferencesAccounting.frozenNote}" left="90" right="87"/>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="salescategories_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.SalesCategories')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>
				<mx:DataGrid id="SalesCategoryGrid"
					dataProvider="{PreferencesSalesCategoryArray}"
					editable="true"
					itemEditEnd="processSalesCategoryGridData(event);" top="27" bottom="80" left="50" right="277">
					<mx:columns>
						<mx:DataGridColumn width="140" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Name')}" dataField="category"
							itemEditor="com.efi.printsmith.itemRenderers.SalesCategoryEditor" editable="true">
                			<mx:itemRenderer>
                    			<mx:Component>
	                        		<mx:Text selectable="false" text="{data.category.name}"/>
                    			</mx:Component>
                			</mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.GLAccount')}" dataField="accountNumber" width="100"/>
					</mx:columns>
				</mx:DataGrid>
				
				<mx:Button x="50" width="38" height="38" click="doNewSalesCategory();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button x="100" width="38" height="38" click="doRemoveSalesCategory();" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>

			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="glprofiles_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.GLProfiles')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Label x="10" y="32" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Linkto')}" textAlign="right" width="101"/>
				<mx:ComboBox x="110" y="30" id="cboAccountingPackages"  dataProvider="{AccountingPackagesArray}" labelField="name" width="200"/>

				<mx:Label x="10" y="62" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.ShippingCollected')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.ActualBankDeposit')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="122" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.UndepositedReceipts')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="152" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Discounts')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="182" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.SalesTax')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="212" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.TotalARReceipts')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="242" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.DepositsonInvoices')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="272" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.NewChargestoAR')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="302" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'salesCmd.CashOverShort')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="332" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'salesCmd.PaidOut')}" textAlign="right" width="152"/>
				<mx:Label x="10" y="362" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'salesCmd.RefundChecks')}" textAlign="right" width="152"/>

				<mx:TextInput x="166" y="60"  id="txtShippingCollected" width="80" text="{preferencesAccounting.shippingCollected}"/>
				<mx:TextInput x="166" y="90"  id="txtActualBankDeposit" width="80" text="{preferencesAccounting.actualBankDeposit}"/>
				<mx:TextInput x="166" y="120" id="txtUndepositedReceipts" width="80" text="{preferencesAccounting.undepositedReceipts}"/>
				<mx:TextInput x="166" y="150" id="txtDiscounts" width="80" text="{preferencesAccounting.discounts}"/>
				<mx:TextInput x="166" y="180" id="txtSalesTax" width="80" text="{preferencesAccounting.salesTax}"/>
				<mx:TextInput x="166" y="210" id="txtTotalARReceipts" width="80" text="{preferencesAccounting.totalARReceipts}"/>
				<mx:TextInput x="166" y="240" id="txtDepositsOnInvoices" width="80" text="{preferencesAccounting.depositsOnInvoices}"/>
				<mx:TextInput x="166" y="270" id="txtNewChargesToAR" width="80" text="{preferencesAccounting.newChargesToAR}"/>
				<mx:TextInput x="166" y="300" id="txtCashOverShort" width="80" text="{preferencesAccounting.cashOverShort}"/>
				<mx:TextInput x="166" y="330" id="txtPaidOut" width="80" text="{preferencesAccounting.paidOut}"/>
				<mx:TextInput x="166" y="360" id="txtRefundChecks" width="80" text="{preferencesAccounting.refundChecks}"/>

				<mx:Label x="250" y="62" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.income')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.asset')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="122" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.asset')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="152" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.expense')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="182" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.liability')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="212" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.asset')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="242" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.liability')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="272" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.asset')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="302" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.expense')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="332" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.expense')}" textAlign="left" width="123"/>
				<mx:Label x="250" y="362" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'generalLedgerProfilesCmd.asset')}" textAlign="left" width="123"/>

				<mx:Label x="10" y="388" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.EnterGeneralLedgerco')}" textAlign="left" width="524"/>
				
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="creditcards_canvas" hideEffect="effect" showEffect="effect" creationPolicy="all">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.CreditCardInfo')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:CheckBox x="50" y="30" id="chkActivateCCAprovalProcess" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Activatecreditcardap')}" width="388"/>
				
				<mx:DataGrid x="50" width="300" id="CreditCardGrid"
					dataProvider="{PreferencesCreditCardArray}"
					editable="true" top="296" bottom="80">
					<mx:columns>
						<mx:DataGridColumn width="40" headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Use')}" dataField="used" editorDataField="selected"
								itemEditor="mx.controls.CheckBox">
						   <mx:itemRenderer>
						      <mx:Component>
						         <mx:CheckBox click="data.used=!data.used"  selected="{data.used}"/>
						      </mx:Component>
						   </mx:itemRenderer>
						</mx:DataGridColumn>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.CardTitle')}" dataField="cardType"/>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Abbrev')}" dataField="abbreviation" width="60"/>
						<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Code')}" dataField="code" width="50"/>
					</mx:columns>
				</mx:DataGrid>
				
				<mx:Button x="50" width="38" height="38" click="doNewCreditCard();" id="button2" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button x="100" width="38" height="38" click="doRemoveCreditCard();" id="button1" bottom="25">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
				<mx:RadioButtonGroup enabled="{chkActivateCCAprovalProcess.selected}" id="CreditCardProcessor" change="doCreditCardProcessorChange();"/>
				<mx:RadioButton x="70" y="60" label="Use Obsolete Drop Folder" groupName="CreditCardProcessor" id="rdoDropFolder"/>
				<mx:RadioButton x="70" y="86" label="Use SkipJack Processor" groupName="CreditCardProcessor" id="rdoSkipJack"/>
				<mx:RadioButton x="70" y="112" label="Use EFS Processor" groupName="CreditCardProcessor" id="rdoEfs"/>
				<mx:Button x="86" y="155" enabled="{chkActivateCCAprovalProcess.selected}" label="Processor Setup" click="doProcessorSetup(CreditCardProcessor.selectedValue);" id="btnProcessorSetup"/>

			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="ordernumberformat_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.OrderNumberFormat')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:Panel x="50" y="27" layout="absolute" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'newInvCmd.Invoice')}" width="500" height="226">
					<mx:Label x="10" y="13" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Prefix')}" textAlign="right"/>
					<mx:Label x="130" y="13" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Document')}" textAlign="right"/>
					<mx:Label x="250" y="13" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Suffix')}" textAlign="right"/>
					<mx:TextInput x="10" y="30" id="txtInvoicePrefix" width="115" text="{preferencesAccounting.invoicePrefix}"/>
					<mx:TextInput x="130" y="30" id="txtInvoiceDocument" width="115" text="{preferencesAccounting.invoiceDocument}"/>
					<mx:TextInput x="250" y="30" id="txtInvoiceSuffix" width="115" text="{preferencesAccounting.invoiceSuffix}"/>
					<mx:CheckBox x="10" y="100" id="chkAllowInvoicePrefixModification" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.AllowPrefixmodificat')}" width="430"/>
					<mx:CheckBox x="10" y="130" id="chkAllowInvoiceSuffixModification" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.AllowSuffixmodificat')}" width="430"/>
				</mx:Panel>

				<mx:Panel x="50" y="261" layout="absolute" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'newInvCmd.Estimate')}" width="500" height="226">
					<mx:Label x="10" y="13" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Prefix')}" textAlign="right"/>
					<mx:Label x="130" y="13" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Document')}" textAlign="right"/>
					<mx:Label x="250" y="13" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.Suffix')}" textAlign="right"/>
					<mx:TextInput x="10" y="30" id="txtEstimatePrefix" width="115" text="{preferencesAccounting.estimatePrefix}"/>
					<mx:TextInput x="130" y="30" id="txtEstimateDocument" width="115" text="{preferencesAccounting.estimateDocument}"/>
					<mx:TextInput x="250" y="30" id="txtEstimateSuffix" width="115" text="{preferencesAccounting.estimateSuffix}"/>
					<mx:CheckBox x="10" y="100" id="chkAllowEstimatePrefixModification" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.AllowPrefixmodificat')}" width="430"/>
					<mx:CheckBox x="10" y="130" id="chkAllowEstimateSuffixModification" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pricePrefCmd.AllowSuffixmodificat')}" width="430"/>
				</mx:Panel>
			</mx:Canvas>
			<mx:Canvas width="100%" height="100%" id="journalentries_canvas" hideEffect="effect" showEffect="effect">
				<mx:Label x="0" y="0" width="100%" height="20" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'genericPrefCmd.JournalEntries')}" textAlign="center"/>
				<mx:HRule x="0" y="17" width="100%"/>

				<mx:CheckBox x="50" y="30" id="chkPrintDocument" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'memoCmd.PrintDocument')}" width="424"/>
				
				<mx:Label x="55" y="92" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.JournalDocumentPrefe')}" textAlign="right" width="166"/>
				<mx:ComboBox x="224" y="90" id="cboJournalDocumentPreference"  dataProvider="{JournalDocumentPreferenceArray}" labelField="name" width="250"/>

			</mx:Canvas>
		</mx:ViewStack>					
	</mx:VBox>
	<mx:Label x="214.5" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Save')}" width="65" textAlign="center"/>
	<mx:Label x="266.5" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Revert')}" width="69" textAlign="center"/>
</mx:Panel>
