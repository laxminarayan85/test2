<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" creationComplete="init()" xmlns:components="com.efi.printsmith.components.*" xmlns:vo="com.efi.printsmith.vo.*"
width="828" height="755" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.CopierDefinitions')}"
 label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.CopierDefinitions')}" name="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pmethSetCmd.CopierDefinitions')}" fontSize="9">
	<mx:states>
		<mx:State name="Large Format">
			<mx:SetProperty target="{colorcheck}" name="selected" value="false"/>
			<mx:SetProperty target="{colorcheck}" name="enabled" value="false"/>
			<mx:SetProperty target="{blackwhitecheck}" name="enabled" value="false"/>
			<mx:SetProperty target="{blackwhitecheck}" name="selected" value="false"/>
			<mx:SetProperty target="{label1}" name="text" value="Length/Minute:"/>
			<mx:RemoveChild target="{label2}"/>
			<mx:RemoveChild target="{MaxSize}"/>
			<mx:RemoveChild target="{minSize}"/>
			<mx:RemoveChild target="{label3}"/>
			<mx:SetProperty target="{label4}" name="text" value="Machine Cost Per Sq. Unit:"/>
			<mx:SetProperty target="{label4}" name="x" value="456"/>
			<mx:SetProperty target="{label4}" name="y" value="341"/>
		</mx:State>
	</mx:states>
 
<mx:RemoteObject id="dataService" destination="dataService">
	<mx:method name="getAll" fault="handleFault(event)" result="handleLoadResult(event)"/>
	<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveResult(event)"/>
	<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteResult(event)"/>
</mx:RemoteObject>

<mx:RemoteObject id="dataServiceSystemPreferences" destination="dataService">
	<mx:method name="getAll" fault="handleFault(event)" result="handleLoadSystemPreferencesResult(event)"/>
</mx:RemoteObject>
	<mx:RemoteObject id="chargeDataService"
					 destination="dataService">
		<mx:method name="getAll"
				   fault="handleFault(event)"
				   result="handleLoadChargeResult(event)"/>
	</mx:RemoteObject>
	
	<mx:Producer id="producer" destination="copydefinitions"/>
	<mx:Consumer id="consumer" destination="copydefinitions" message="messageHandler(event.message)"/>
	<mx:Consumer id="notification_consumer" destination="notifications" message="messageHandler(event.message)"/>
<mx:Script>                                   
<![CDATA[
	import com.efi.printsmith.data.Charge;
	import com.efi.printsmith.pages.DefaultCopierPicker;
	
	import com.efi.printsmith.data.PreferencesSystem;
	
	import com.efi.printsmith.data.PriceListBase;
	import com.efi.printsmith.data.PriceList;
	import com.efi.printsmith.data.WasteChart;
	import com.efi.printsmith.data.CopierDefinition;
	import com.efi.printsmith.data.enums.CopierPricingMethod;
	import com.efi.printsmith.data.enums.Price2Side;
	import com.efi.printsmith.data.enums.StockPriceIs;


	import com.efi.printsmith.events.ChargeDefinitionSelectEvent;

	import mx.controls.Alert;                                         
	import mx.managers.PopUpManager;                                         
	import mx.containers.TitleWindow;                                         
	import mx.collections.ArrayCollection;                                         
	import mx.rpc.events.ResultEvent;                                         
	import mx.rpc.events.FaultEvent;                                         
	import mx.messaging.messages.AsyncMessage;
	import mx.messaging.messages.IMessage;
	import mx.rpc.IResponder;
	import com.efi.printsmith.events.ModelAddUpdateEvent;
	import com.efi.printsmith.events.ModelGetAllEvent;
	import com.efi.printsmith.events.ModelDeleteItemEvent;
	import com.efi.printsmith.events.PriceListPickerSelectEvent;

	[Bindable]                   
    private var enableSave:Boolean = true;
    [Bindable]
    private var copy:Boolean = false;
    [Bindable]
    private var stock:Boolean = false; 
    [Bindable]
	private var waste:Boolean = false;
	
    [Bindable]                                         
    private var priceList:PriceList;  
    [Bindable]
	private var salesCategories:ArrayCollection = new ArrayCollection();                     
	[Bindable]                                         
    private var copierDefinition:CopierDefinition;
	[Bindable]                                         
    private var systemPreferences:PreferencesSystem;
	[Bindable]                                
	private var copierDefinitionArray:ArrayCollection = new ArrayCollection();
	[Bindable]
	private var charges:ArrayCollection=new ArrayCollection();

	[Bindable]                                
	private var systemPreferencesArray:ArrayCollection = new ArrayCollection();

	public function init():void {
		consumer.subscribe();
		notification_consumer.subscribe();   
		fireGetAllEvent("SalesCategory", new mx.rpc.Responder(handleLoadSalesCategoryResult, handleFault));  
		dataService.getAll("CopierDefinition");
		chargeDataService.getAll("Charge");
		dataServiceSystemPreferences.getAll("PreferencesSystem");
		
	    copierDefinition = new CopierDefinition();
	    copierDefinition.largeFormat = false; 
	}      
	private function fireGetAllEvent(modelType:String, callbacks:IResponder):void {
		var getAllEvent:ModelGetAllEvent = new ModelGetAllEvent(modelType, callbacks);
		getAllEvent.dispatch();			
	}                                                   						
	private function messageHandler(message:IMessage):void
	{
	}
                                  
	public function setPriceList(price:PriceListBase): void {
//	 	if (copy){
//	 		copierDefinition.copierPriceList = price as PriceList;
//	 		copy = false;
//	 	}
//	 	if (stock){
//	 		copierDefinition.stockPriceList = price as PriceList;
//	 		stock= false;
//	 	}
//	 	if (waste){
//	 		copierDefinition.wasteChart = price as WasteChart;
//	 		waste= false;
//	 	}
	}   

	private function doAddCopier():void {
		dataService.addUpdate(copierDefinition);
	}     

	private function doAddCharge():void{
		var chargePicker:ChargeDefinitionPicker=ChargeDefinitionPicker(PopUpManager.createPopUp(this, ChargeDefinitionPicker, true));
		chargePicker.charges = this.charges;
		chargePicker.setStyle("borderAlpha", 0.9);
		chargePicker.addEventListener(ChargeDefinitionSelectEvent.CHARGEDEFINITIONCOMPLETE, handleChargeDefinitionComplete);
		chargePicker.addEventListener(ChargeDefinitionSelectEvent.CHARGEDEFINITIONCANCEL, handleChargeDefinitionCancel);

	}

	private function handleChargeDefinitionComplete(evt:ChargeDefinitionSelectEvent):void
	{
		this.copierDefinition.charges=evt.chargeArray;
	}
	private function handleChargeDefinitionCancel(evt:ChargeDefinitionSelectEvent):void
	{
		
	}
	private function doDeleteCopier():void {         
		dataService.deleteItem("CopierDefinition", copierDefinition.id);     
	}

	private function doCopierGridClick():void {
		copierDefinition = dataGrid.selectedItem as CopierDefinition;
		pricing_method_combo.selectedIndex = findItemArray(copierDefinition.method, CopierPricingMethod.toArray());
		stock_Price_is_combo.selectedIndex = findItemArray(copierDefinition.stockPriceIs, StockPriceIs.toArray());
		price_2_side.selectedIndex = findItemArray(copierDefinition.priceTwoSide, Price2Side.toArray());
		charge_sales_category_combo.selectedIndex = findItem(copierDefinition.salesCat, salesCategories);
		updateControlState()
	}
	private function findItemArray(name:String, array:Array):int {
		for each(var element:Object in array) {
			if (name == element) {
				return array.indexOf(element,0)
			}
		}
		return -1;
	}
	private function findItem(name:String, array:ArrayCollection):int {
		for each(var element:Object in array) {
			if (name == element.name) {
				return array.getItemIndex(element);
			}
		}
		return -1;
	}
	private function mapAccountData():void {
		 //copierDefinition.copyDefID = CopierDefID;
		 copierDefinition.name = Name.text;
		 copierDefinition.machineName = MachineName.text;
		 copierDefinition.outputDescrip = OutPutDescription.text;
		 copierDefinition.productionLocation = ProductionLocation.text;
		 copierDefinition.costCenter = CostCenter.text;
		 copierDefinition.oemDeviceID = OEMDeviceID.text;
		 copierDefinition.copyID = parseInt(copyID.text); 
		 copierDefinition.costingCopy = CostingCopier.selected;
		 copierDefinition.clickCost = parseInt(clickCost.text);
		 copierDefinition.integratedDevice = IntegratedDevice.selected;
		 copierDefinition.maxSize = MaxSize.text;
		 copierDefinition.minSize= minSize.text;
		 copierDefinition.maxWidth = maxWidthsize.text;
		 copierDefinition.minWidth = minWidthsize.text;
		 copierDefinition.monthlyLabor= parseInt(monthlyLabor.text);
		 copierDefinition.copyMarkup= parseInt(copyMarkup.text);
		 copierDefinition.tonerCopy = parseInt(tonerCopy.text);
		 copierDefinition.laborCopy = parseInt(laborCopy.text);
		 copierDefinition.daysOpen = parseInt(openDays.text);
		 copierDefinition.developerCopy = parseInt(developerCopy.text);
		 copierDefinition.hourCostRate = parseInt(hourlyCostingRate.text);
		 copierDefinition.hoursOpen = parseInt(openhours.text);
		 copierDefinition.machineCostPerCopy = parseInt(machineCostperCopy.text);
		 if (pricing_method_combo.selectedItem != null)
		 	copierDefinition.method = pricing_method_combo.selectedItem.toString();
		 if (stock_Price_is_combo.selectedItem != null)
		 	copierDefinition.stockPriceIs = stock_Price_is_combo.selectedItem.toString();
		 if (price_2_side.selectedItem != null)
		 	copierDefinition.priceTwoSide = price_2_side.selectedItem.toString();	
		 		
		 copierDefinition.salesCat = charge_sales_category_combo.text;
		 copierDefinition.percentUsage = parseInt(percentageUse.text);
		 copierDefinition.monthlyMaintenance = parseInt(monthlyMaintenance.text);
		 copierDefinition.copyMarkup = parseInt(copyMarkup.text);
		 copierDefinition.monthlyBurdenRate = parseInt(monthlyBurdenRate.text);
		 copierDefinition.copyMinutes = parseInt(copyMinutes.text);
		 copierDefinition.flateRate = parseInt(RateCopy.text);
		 copierDefinition.copyMarkup2= parseInt(copyMarkup2.text);
		 
		 copierDefinition.blackwhite = blackwhitecheck.selected;
		 copierDefinition.color = colorcheck.selected;
		 copierDefinition.largeFormat = largeformatCheck.selected;
		 doCheckDefaultLargeFormat();

	}
	
	private function doSave():void {
	 
		mapAccountData()
		dataService.addUpdate(copierDefinition);
	}       

	private function doNew():void {
	    copierDefinition = new CopierDefinition();
	 	
	}       

	private function doDelete():void {
		dataService.deleteItem("CopierDefinition",copierDefinition.id);
	}
	
	private function handleSaveResult(ev:ResultEvent):void {
		dataService.getAll("CopierDefinition");
	}

	private function handleLoadChargeResult(ev:ResultEvent):void
	{
		charges=ev.result as ArrayCollection;
	}
	private function handleLoadSalesCategoryResult(ev:ResultEvent):void {
		salesCategories = ev.result as ArrayCollection;
	}
	
	private function doCheckDefaultBW():void {
    	
	}
	private function doCheckDefaultColor():void {
    	
	}
	private function doCheckDefaultLargeFormat():void {
    	if (largeformatCheck.selected == true){
    		this.currentState = "Large Format";
    	}else{
    		this.currentState = "";
    	}
	}

	private function handleLoadResult(ev:ResultEvent):void {
	     copierDefinitionArray = ev.result as ArrayCollection;
	}
	private function handleLoadSystemPreferencesResult(ev:ResultEvent):void {
		systemPreferencesArray = ev.result as ArrayCollection;
		if (systemPreferencesArray.length > 0)
		{
			systemPreferences = systemPreferencesArray.getItemAt(0) as PreferencesSystem;
			this.btnExport.enabled = systemPreferences.enablePricingSystem;
		}else{
			this.btnExport.enabled = false;

		}
	}	                                 
	private function handleDeleteResult(ev:ResultEvent):void {
		dataService.getAll("CopierDefinition");
	}
	      
	private function handleFault(ev:FaultEvent):void {  
		var message:String;
		              
		message = "Error: "                          
		+ ev.fault.faultCode + " - "                                  
		+ ev.fault.faultDetail + " - "                                  
		+ ev.fault.faultString;
		Alert.show(message, "Error", 0, null, null, null, 4);                                 
	}
       
	private function doCopyPriceList():void {
		var titleWindow:PriceListPicker = PriceListPicker(PopUpManager.createPopUp(this, PriceListPicker, true));
	    titleWindow.setStyle("borderAlpha", 0.9);
	    titleWindow.parentContainer = this;
	    titleWindow.itemType = "PriceList";
	    copy =  true;
	   	}
	private function doStockPriceList():void {
		var titleWindow:PriceListPicker = PriceListPicker(PopUpManager.createPopUp(this, PriceListPicker, true));
	    titleWindow.setStyle("borderAlpha", 0.9);
	    titleWindow.parentContainer = this;
	    titleWindow.itemType = "PriceList";
	    stock = true;
	}

	private function doWasteChart():void {
		var titleWindow:PriceListPicker = PriceListPicker(PopUpManager.createPopUp(this, PriceListPicker, true));
	    titleWindow.setStyle("borderAlpha", 0.9);
	    titleWindow.parentContainer = this;
	    titleWindow.itemType = "WasteChart";
	    titleWindow.addEventListener(PriceListPickerSelectEvent.CANCELSELECTPRICELIST, handleWastePickerCancel);
	    titleWindow.addEventListener(PriceListPickerSelectEvent.SELECTPRICELIST, handleWastePickerSelect);
	    titleWindow.addEventListener(PriceListPickerSelectEvent.SELECTNEWPRICELIST, handleWastePickerNew);
	    waste = true;
	    
	}
      
	                                  	
	private function handleWastePickerCancel(evt:PriceListPickerSelectEvent):void {
		
	}
	
	private function handleWastePickerSelect(evt:PriceListPickerSelectEvent):void {
		copierDefinition.wasteChart = evt.priceList as WasteChart;
		wasteName.text = copierDefinition.wasteChart.name;
	}
	
	private function handleWastePickerNew(evt:PriceListPickerSelectEvent):void {
		
	}

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	private function doDefaultCopiers():void {
		var defaultCopierWindow:DefaultCopierPicker = DefaultCopierPicker(PopUpManager.createPopUp(this, DefaultCopierPicker, true));
		defaultCopierWindow.setStyle("borderAlpha", 0.9);
	}
	private function changePricingMethod(event:Event):void {
		updateControlState();
	}
	private function updateControlState():void {
		
		switch (pricing_method_combo.selectedItem) {
			case CopierPricingMethod.COSTPLUS:
				Matrix_button.visible = false;
				matrixcopycost.visible= false;
				matrixdiscount.visible= false;
				matrixstep.visible= false;
				squarerunsize.visible= false;
				squarefinishsize.visible= false;
				interpolatematrix.visible= false;
				copyMarkup2.visible = false;
				copymarkuplabel.visible = false;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
			
			case CopierPricingMethod.FLATRATE:
				Matrix_button.visible = false;
				matrixcopycost.visible= false;
				matrixdiscount.visible= false;
				matrixstep.visible= false;
				squarerunsize.visible= false;
				squarefinishsize.visible= false;
				interpolatematrix.visible= false;
				ratecopylabel.visible = true;
				ratecopylabel.enabled = true;
				RateCopy.visible =true;
				RateCopy.enabled = true;
				
				break;
			case CopierPricingMethod.COPIESANDORIGINALS:
				Matrix_button.visible = true;
				matrixcopycost.visible= true;
				matrixdiscount.visible= true;
				matrixstep.visible= true;
				squarerunsize.visible= true;
				squarefinishsize.visible= true;
				interpolatematrix.visible= true;
				squarerunsize.enabled = false;
				squarerunsize.selected = false;
				squarefinishsize.enabled= false;
				copyMarkup2.visible = true;
				copymarkuplabel.visible = true;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
			case CopierPricingMethod.COPIESPERORIGINALS:
				Matrix_button.visible = true;
				matrixcopycost.visible= true;
				matrixdiscount.visible= true;
				matrixstep.visible= true;
				squarerunsize.visible= true;
				squarefinishsize.visible= true;
				interpolatematrix.visible= true;
				squarerunsize.enabled = false;
				squarerunsize.selected = false;
				squarefinishsize.enabled= false;
				copyMarkup2.visible = true;
				copymarkuplabel.visible = true;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
			case CopierPricingMethod.TOTALOFALLCOPIES:
				Matrix_button.visible = true;
				matrixcopycost.visible= true;
				matrixdiscount.visible= true;
				matrixstep.visible= true;
				squarerunsize.visible= true;
				squarefinishsize.visible= true;
				interpolatematrix.visible= true;
				squarerunsize.enabled = false;
				squarerunsize.selected = false;
				squarefinishsize.enabled= false;
				copyMarkup2.visible = true;
				copymarkuplabel.visible = true;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
			case CopierPricingMethod.SQUAREAREAOFORIGINALS:
				Matrix_button.visible = true;
				matrixcopycost.visible= true;
				matrixdiscount.visible= true;
				matrixstep.visible= true;
				squarerunsize.visible= true;
				squarefinishsize.visible= true;
				interpolatematrix.visible= true;
				squarerunsize.enabled = true;
				squarefinishsize.enabled= true;
				squarerunsize.selected = true;
				copyMarkup2.visible = true;
				copymarkuplabel.visible = true;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
			case CopierPricingMethod.TOTALSQUAREAREA:
				Matrix_button.visible = true;
				matrixcopycost.visible= true;
				matrixdiscount.visible= true;
				matrixstep.visible= true;
				squarerunsize.visible= true;
				squarefinishsize.visible= true;
				interpolatematrix.visible= true;
				squarerunsize.enabled = true;
				squarefinishsize.enabled= true;
				squarerunsize.selected = true;
				copyMarkup2.visible = true;
				copymarkuplabel.visible = true;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
			case CopierPricingMethod.SQUAREAREAANDCOPIES:
				Matrix_button.visible = true;
				matrixcopycost.visible= true;
				matrixdiscount.visible= true;
				matrixstep.visible= true;
				squarerunsize.visible= true;
				squarefinishsize.visible= true;
				interpolatematrix.visible= true;
				squarerunsize.enabled = true;
				squarefinishsize.enabled= true;
				squarerunsize.selected = true;
				copyMarkup2.visible = true;
				copymarkuplabel.visible = true;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
			case CopierPricingMethod.SQUAREAREAPERCOPY:			
				Matrix_button.visible = true;
				matrixcopycost.visible= true;
				matrixdiscount.visible= true;
				matrixstep.visible= true;
				squarerunsize.visible= true;
				squarefinishsize.visible= true;
				interpolatematrix.visible= true;
				squarerunsize.enabled = true;
				squarerunsize.selected = true;
				squarefinishsize.enabled= true;
				copyMarkup2.visible = true;
				copymarkuplabel.visible = true;
				ratecopylabel.visible = false;
				RateCopy.visible =false;
				break;
				
				
			}
	
	}

]]>
                             
</mx:Script>	
	<mx:RadioButtonGroup id="PaperStyle"/>
	<mx:Canvas x="0" y="0" width="781" height="100%" horizontalScrollPolicy="off">
		<mx:Label x="73" y="126" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.Name')}" width="45" textAlign="right"/>
		<mx:Label x="35" y="148" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MachineName')}" textAlign="right"/>
	 	<mx:DataGrid y="0" id="dataGrid" verticalScrollPolicy="on"  horizontalScrollPolicy="on" dataProvider="{copierDefinitionArray}" height="119" itemClick="doCopierGridClick()" showHeaders="true" headerSeparatorSkin="mx.skins.ProgrammaticSkin" verticalGridLines="false" left="0" right="13">
			<mx:columns>
				<mx:DataGridColumn width="25" sortable="false" textAlign="center" headerText=" " dataField="blackwhite" itemRenderer="com.efi.printsmith.itemRenderers.CopierIconRenderer"/>
				<mx:DataGridColumn width="25" sortable="false" textAlign="center" headerText=" " dataField="color" itemRenderer="com.efi.printsmith.itemRenderers.CopierIconRenderer"/>
				<mx:DataGridColumn width="25" sortable="false" textAlign="center" headerText=" " dataField="largeFormat" itemRenderer="com.efi.printsmith.itemRenderers.CopierIconRenderer"/>
				<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'labelCmd.Name')}" dataField="name" width="300"/>
				<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'workflowCmd.Machine')}" dataField="machineName" width="250"/>
				<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'wipRepCmd.DeviceID')}" dataField="oemDeviceID" width="75"/>
			</mx:columns>
		</mx:DataGrid>
		<mx:Label x="13" y="170" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.OutputDescription')}" textAlign="right"/>
		<mx:Label x="9" y="192" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.ProductionLocation')}" textAlign="right"/>
		<mx:Label x="48" y="214" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'scheduleShowCostCenterCmd.CostCenter')}" textAlign="right"/>
		<mx:Label x="30" y="236" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.OEMDeviceID')}" textAlign="right"/>
		<mx:TextInput x="126" y="124" width="200" id="Name" text="{copierDefinition.name}" height="20"/>
		<mx:TextInput x="126" y="146" width="200" id="MachineName" text="{copierDefinition.machineName}" height="20"/>
		<mx:TextInput x="126" y="168" width="200" id="OutPutDescription" text="{copierDefinition.outputDescrip}" height="20"/>
		<mx:TextInput x="126" y="190" id="ProductionLocation" width="200" text="{copierDefinition.productionLocation}"  height="20"/>
		<mx:TextInput x="126" y="212" id="CostCenter" width="200" text="{copierDefinition.costCenter}" height="20"/>
		<mx:TextInput x="126" y="234" id="OEMDeviceID" width="200" text="{copierDefinition.oemDeviceID}" height="20"/>
		<mx:Label x="346" y="126" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.OEMDeviceID')}"/>
		<mx:TextInput x="443" y="124" width="83" id="copyID" text="{copierDefinition.copyID}" editable="true" height="20"/>
		<mx:CheckBox x="346" y="151" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.CostingCopier')}" id="CostingCopier" selected="{copierDefinition.costingCopy}"/>
		<mx:CheckBox x="346" y="174" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.IntegratedDevice')}" id="IntegratedDevice" selected="{copierDefinition.integratedDevice}"/>
		<mx:HRule y="282" height="13" left="5" right="5"/>
		<mx:Label x="54" y="389" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MaximumSize')}" id="label2"/>
		<mx:Label x="38" y="411" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MinimumSize')}" id="label3"/>
		<mx:TextInput x="126" y="387" id="MaxSize" text="{copierDefinition.maxSize}" height="20" width="71"/>
		<mx:TextInput x="126" y="409" id="minSize" text="{copierDefinition.minSize}" height="20" width="71"/>
		<mx:HRule y="480" height="6" left="5" right="5"/>
		<mx:HRule y="644" height="12" left="5" right="5"/>
		<mx:Button x="5" y="660" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.StockPriceList')}" click="doStockPriceList();" width="107"/>
		<mx:Button x="120" y="660" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.CopierDigitalPriceLi')}" click="doCopyPriceList();" width="107"/>
		<mx:Button x="235" y="660" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Default')}" click="doDefaultCopiers();" width="107"/>
		<mx:Button x="632" y="660" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Save')}" click="doSave();" width="67"/>
		<mx:Button x="557" y="660" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.New')}" click="doNew();" width="67"/>
		<mx:Button x="482" y="660" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Delete')}" click="doDelete();" width="67"/>
		<mx:Button x="407" y="660" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Export')}" width="67" id="btnExport"/>
		<mx:Button x="533" y="204.5" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'wasteCmd.WasteChart')}" click="doWasteChart();"/>
		<mx:Button x="534" y="124" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.AddCharges')}" click="doAddCharge();"/>
		<mx:Label x="44" y="263" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.PrinterType')}"/>
		<mx:CheckBox x="126" y="261" label="B&amp;W" id="blackwhitecheck" selected="{copierDefinition.blackwhite}" labelPlacement="right"/>
		<mx:CheckBox x="182" y="261" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'targePriceCmd.Color')}" id="colorcheck" selected="{copierDefinition.color}" labelPlacement="right"/>
		<mx:CheckBox x="242" y="261" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'stockDefCmd.LargeFormat')}" id="largeformatCheck" selected="{copierDefinition.largeFormat}" change="doCheckDefaultLargeFormat();" labelPlacement="right"/>
		<mx:Label x="407" y="236" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'scheduleCmd.Method')}" textAlign="right"/>
		<mx:Label x="407" y="263" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.SalesCat')}" textAlign="right"/>
		<mx:ComboBox x="533" y="234.5" height="21" id="pricing_method_combo" dataProvider="{CopierPricingMethod.toArray()}" change="changePricingMethod(event);" width="144" textAlign="right"></mx:ComboBox>
		<mx:ComboBox x="533" y="261.5" height="21" id="charge_sales_category_combo" dataProvider= "{salesCategories}" labelField="name"  width="144" textAlign="right"></mx:ComboBox>
		<mx:Label x="34" y="433" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MaximumWidth')}"/>
		<mx:Label x="37" y="455" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MinimumWidth')}"/>
		<mx:TextInput x="126" y="431" id="maxWidthsize" text="{copierDefinition.maxWidth}" height="20" width="71"/>
		<mx:TextInput x="126" y="453" id="minWidthsize" text="{copierDefinition.minWidth}" height="20" width="71"/>
		<mx:Label x="36" y="301" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.CopiesMinute')}" id="label1"/>
		<mx:Label x="10" y="323" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MonthlyBurdenRate')}"/>
		<mx:Label x="38" y="345" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MonthlyLabor')}"/>
		<mx:Label x="56" y="367" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.ClickCost')}" height="16"/>
		<mx:TextInput x="126" y="299" id="copyMinutes" text="{copierDefinition.copyMinutes}" height="20" width="71"/>
		<mx:TextInput x="126" y="321" id="monthlyBurdenRate" text="{copierDefinition.monthlyBurdenRate}" height="20" width="71"/>
		<mx:TextInput x="126" y="343" id="monthlyLabor" text="{copierDefinition.monthlyLabor}" height="20" width="71"/>
		<mx:TextInput x="126" y="365" id="clickCost" text="{copierDefinition.clickCost}" height="20" width="71"/>
		<mx:Label x="501" y="299" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.OpenHoursDay')}"/>
		<mx:TextInput x="605" y="297" id="openhours" text="{copierDefinition.hoursOpen}" width="94" height="20"/>
		<mx:Label x="481" y="321" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MonthlyMaintenance')}"/>
		<mx:TextInput x="605" y="319" id="monthlyMaintenance" text="{copierDefinition.monthlyMaintenance}" width="94" height="20"/>
		<mx:Label x="470" y="343" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MachineCostPerCopy')}" id="label4"/>
		<mx:Text x="605" y="341" id="machineCostperCopy" text = "{copierDefinition.machineCostPerCopy}" width="94" height="20"/>
		<mx:Label x="229" y="299" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.OpenDaysYear')}"/>
		<mx:TextInput x="332" y="297" width="71" id="openDays" text= "{copierDefinition.daysOpen}" height="20"/>
		<mx:Label x="228" y="321" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MonthlyPayment')}"/>
		<mx:TextInput x="332" y="319" width="71" id="monthlyPayment" text ="{copierDefinition.monthlyPayment}" height="20"/>
		<mx:Label x="241" y="343" text= "{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.TimeInUse')}"/>
		<mx:TextInput x="332" y="341" width="71" id="percentageUse" text = "{copierDefinition.percentUsage}" height="20"/>
		<mx:Label x="214" y="365" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.HourlyCostingRate')}"/>
		<mx:TextInput x="332" y="363" width="71" id="hourlyCostingRate" text="{copierDefinition.hourCostRate}" height="20"/>
		<mx:Label x="257" y="387" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.LaborCopy')}"/>
		<mx:Label x="256" y="409" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.TonerCopy')}"/>
		<mx:Label x="234" y="431" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.DeveloperCopy')}"/>
		<mx:Label x="249" y="453" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.CopyMarkup')}"/>
		<mx:TextInput x="332" y="385" width="71" id="laborCopy" text ="{copierDefinition.laborCopy}" height="20"/>
		<mx:TextInput x="332" y="407" width="71" id="tonerCopy" text ="{copierDefinition.tonerCopy}" height="20"/>
		<mx:TextInput x="332" y="429" width="71" id="developerCopy"  text="{copierDefinition.developerCopy}" height="20"/>
		<mx:TextInput x="332" y="451" width="71" id="copyMarkup" text = "{copierDefinition.copyMarkup}" height="20"/>
		<mx:Label x="43" y="574" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.CopyMarkup')}" id="copymarkuplabel"/>
		<mx:Label x="43" y="574" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.RateCopy')}" id="ratecopylabel" visible="false" enabled="false"/>
		<mx:TextInput x="126" y="572" width="71" id="copyMarkup2" height="20" text="{copierDefinition.copyMarkup2}"/>
		<mx:TextInput x="126" y="572" width="71" id="RateCopy" height="20" visible="false" enabled="false" text="{copierDefinition.flateRate}"/>
		<mx:Label x="40" y="596" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.StockMarkup')}"/>
		<mx:Label x="42" y="618" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.Side2Factor')}"/>
		<mx:TextInput x="126" y="594" width="71" id="stockMarkup" height="20"/>
		<mx:TextInput x="126" y="616" width="71" id="side2Factor" height="20"/>
		<mx:Label x="241" y="575" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.StockPriceis')}" height="14"/>
		<mx:CheckBox x="238" y="594" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.UseCopierDigitalStoc')}" id="copierDigitalStockmarkup"/>
		<mx:Label x="234" y="617" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.Price2SidedBy')}"/>
		<mx:ComboBox x="349" y="573" height="22" id="stock_Price_is_combo" dataProvider="{StockPriceIs.toArray()}" width="150"></mx:ComboBox>
		<mx:ComboBox x="349" y="615" height="22" id="price_2_side" dataProvider="{Price2Side.toArray()}"  width="150"></mx:ComboBox>
		<mx:Button x="5" y="493" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.EditMatrix')}" id="Matrix_button"/>
		<mx:CheckBox x="134" y="493" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MatrixIsCopyCost')}" id="matrixcopycost"/>
		<mx:CheckBox x="134" y="512" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MatrixIsDiscountTabl')}" id="matrixdiscount"/>
		<mx:CheckBox x="134" y="532" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.MatrixIsStepTable')}" id="matrixstep"/>
		<mx:CheckBox x="344" y="493" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.SquareAreaFromRunSiz')}" id="squarerunsize"/>
		<mx:CheckBox x="344" y="512" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.SquareAreaFromFinish')}" id="squarefinishsize"/>
		<mx:CheckBox x="344" y="532" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.InterpolateMatrixVal')}" id="interpolatematrix"/>
		<mx:HRule y="557" height="7" left="5" right="5"/>
		<mx:Text x="674" y="206.5" text="{copierDefinition.wasteChart.name}" width="97" id="wasteName"/>
		<mx:List x="534" y="150" height="46.5" width="231" id="chargelist" dataProvider="{copierDefinition.charges}" labelField="name"></mx:List>
	</mx:Canvas>
<!--		<mx:Text x="695" y="249" width="137" id="wasteChartList" text="{copierDefinition.wasteChart.name}"/>
-->																						<!--		<mx:Text x="131" y="805" width="144" id="stockPriceList" text="{copierDefinition.stockPriceList.name}"/>
		<mx:Text x="459" y="805" id="copierPriceList" text="{copierDefinition.copierPriceList.name}"/>
-->		
</mx:Panel>
