<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" creationComplete="init()" xmlns:components="com.efi.printsmith.components.*" xmlns:vo="com.efi.printsmith.vo.*"
width="988" height="798" title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.PressDefinitions')}"
 label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.PressDefinitions')}" name="Press Definitions" fontSize="9">
	<!--<mx:states>
		<mx:State name="RollFedState">
			<mx:SetProperty target="{label1}" name="text" value="Max Roll Width:"/>
			<mx:SetProperty target="{label2}" name="text" value="Min Roll Width:"/>
			<mx:RemoveChild target="{label3}"/>
			<mx:RemoveChild target="{SetupAddRun}"/>
			<mx:RemoveChild target="{WorkTurn}"/>
			<mx:RemoveChild target="{label4}"/>
			<mx:SetProperty target="{Perfector}" name="enabled" value="false"/>
			<mx:AddChild relativeTo="{label5}" position="before">
				<mx:TextInput x="131" y="382" width="79" id="CutoffLength" text="{pressDefinition.cutoffLength}" height="20"/>
			</mx:AddChild>
			<mx:AddChild relativeTo="{label5}" position="before">
				<mx:Label x="44" y="384" text="CutOff Length:"/>
			</mx:AddChild>
		</mx:State>
	</mx:states>-->
<mx:RemoteObject id="dataService" destination="dataService">
	<!--<mx:method name="getAll" fault="handleFault(event)" result="handleLoadResult(event)"/>-->
	<mx:method name="getPressPicker" fault="handleFault(event)" result="handleLoadResult(event)"/>
	<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveResult(event)"/>
	<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteResult(event)"/>
	<mx:method name="getById" fault="handleFault(event)" result="handleGetResult(event)"/>
</mx:RemoteObject>
<mx:RemoteObject id="dataServiceSystemPreferences" destination="dataService">
	<mx:method name="getAll" fault="handleFault(event)" result="handleLoadSystemPreferencesResult(event)"/>
</mx:RemoteObject>

	<mx:Producer id="producer" destination="pressdefinitions"/>
	<mx:Consumer id="consumer" destination="pressdefinitions" message="messageHandler(event.message)"/>
	<mx:Consumer id="notification_consumer" destination="notifications" message="messageHandler(event.message)"/>
<mx:Script>                                   
<![CDATA[
	import com.efi.printsmith.data.SalesCategory;
	import com.efi.printsmith.data.PreferencesSystem;
	import com.efi.printsmith.data.SpeedTable;
	import com.efi.printsmith.data.PressDefinition;
	import com.efi.printsmith.data.PriceListBase;
	import com.efi.printsmith.data.PriceList;
	import com.efi.printsmith.data.WasteChart;
	import com.efi.printsmith.pages.DefaultPressPicker;
	import com.efi.printsmith.events.PriceListPickerSelectEvent;
	import com.efi.printsmith.events.ChargeDefinitionSelectEvent;
	import mx.controls.Alert;                                         
	import mx.managers.PopUpManager;                                         
	import mx.containers.TitleWindow;                                         
	import mx.collections.ArrayCollection;                                         
	import mx.rpc.events.ResultEvent;                                         
	import mx.rpc.events.FaultEvent;                                         
	import mx.messaging.messages.AsyncMessage;
	import mx.messaging.messages.IMessage;
	import mx.rpc.IResponder;
	import com.efi.printsmith.events.ModelAddUpdateEvent;
	import com.efi.printsmith.events.ModelGetAllEvent;
	import com.efi.printsmith.events.ModelDeleteItemEvent;
                   
	[Bindable]
    private var enableSave:Boolean = true;
	[Bindable]
		private var charges:ArrayCollection=new ArrayCollection();

    private var press:Boolean = false;
    private var stock:Boolean = false; 
	private var waste:Boolean = false;
	private var speed:Boolean = false;
	[Bindable]
	private var salesCategories:ArrayCollection = new ArrayCollection();  
	[Bindable]                                         
     private var pressDefinition:PressDefinition;
	[Bindable]                                         
    private var systemPreferences:PreferencesSystem;
    
	[Bindable]                                         
     private var priceList:PriceList;  
    [Bindable]                               
    private var wasteChart:WasteChart;  
                                                                               	
	[Bindable]                                
	private var pressDefinitionArray:ArrayCollection = new ArrayCollection();

	[Bindable]                                
	private var systemPreferencesArray:ArrayCollection = new ArrayCollection();
                                                                         
	public function init():void {
		consumer.subscribe();
		notification_consumer.subscribe();     
		loadPressDefinitions();
		dataServiceSystemPreferences.getAll("PreferencesSystem");
		fireGetAllEvent("SalesCategory", new mx.rpc.Responder(handleLoadSalesCategoryResult, handleFault));  
	    pressDefinition = new PressDefinition();
		doPressType();
		updateControlState();
	}      
	private function fireGetAllEvent(modelType:String, callbacks:IResponder):void {
		var getAllEvent:ModelGetAllEvent = new ModelGetAllEvent(modelType, callbacks);
		getAllEvent.dispatch();			
	}                                                                  	
	public function loadPressDefinitions():void {   
		dataService.getPressPicker("PressDefinition");
	}
					
	private function messageHandler(message:IMessage):void
	{
		var messageBody:Object = message.body;// as com.efi.messaging.MessageBody;
		
		var messageType:String = messageBody.messageType;
		if (messageType == "ADDUPDATE" || messageType == "DELETE") {
			var payloadType:String = messageBody.payloadType as String; // What kind of item was added/deleted
			var payload:Number = messageBody.payload as Number; // ID if item added or deleted
			if (payloadType == "PressDefinition") {
				loadPressDefinitions()
			}
		}
	}
                                  
		          
	private function doDelete():void {
	    dataService.deleteItem("PressDefinition",pressDefinition.id);
	 	
	}  
	private function doGet():void{
	 	var titleWindow:ContactPicker = ContactPicker(PopUpManager.createPopUp(this, ContactPicker, true));
		titleWindow.setStyle("borderAlpha", 0.9);
		titleWindow.formIsEmpty = true;
	}    
	
	private function doPressPriceList():void {
	  /*   var priceListPickerWindow:PriceListPicker = PriceListPicker(PopUpManager.createPopUp(this, PriceListPicker, true));
	    priceListPickerWindow.setStyle("borderAlpha", 0.9);
	    priceListPickerWindow.itemType = "PriceList";
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.CANCELSELECTPRICELIST, handlePriceListPickerCancel);
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.SELECTPRICELIST, handleSelectPressPriceList); */
	}
	
	private function doSpeedTable():void {
	    var priceListPickerWindow:PriceListPicker = PriceListPicker(PopUpManager.createPopUp(this, PriceListPicker, true));
	    priceListPickerWindow.setStyle("borderAlpha", 0.9);
		priceListPickerWindow.itemType = "SpeedTable";
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.CANCELSELECTPRICELIST, handlePriceListPickerCancel);
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.SELECTPRICELIST, handleSelectSpeedTable);
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.CLEARPRICELIST, handleClearSpeedTable);
	}
	
	private function doStockPriceList():void {
	   /*  var priceListPickerWindow:PriceListPicker = PriceListPicker(PopUpManager.createPopUp(this, PriceListPicker, true));
	    priceListPickerWindow.setStyle("borderAlpha", 0.9);
		priceListPickerWindow.itemType = "PriceList";
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.CANCELSELECTPRICELIST, handlePriceListPickerCancel);
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.SELECTPRICELIST, handleSelectStockPriceList); */
	}

	private function doWasteChart():void {
	    var priceListPickerWindow:PriceListPicker = PriceListPicker(PopUpManager.createPopUp(this, PriceListPicker, true));
	    priceListPickerWindow.setStyle("borderAlpha", 0.9);
		priceListPickerWindow.itemType = "WasteChart";
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.CANCELSELECTPRICELIST, handlePriceListPickerCancel);
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.SELECTPRICELIST, handleSelectWasteChart);
	    priceListPickerWindow.addEventListener(PriceListPickerSelectEvent.CLEARPRICELIST, handleClearWasteChart);
	}
	
	public function setPressDef(pressdef:PressDefinition):void
	{
		this.pressDefinition = pressdef;
		
	}		                                       
	
	private function doPressType(): void {              
	   if (pressDefinition.sheetFed ) {
	   		pressDefinition.sheetFed = false;
			pressDefinition.rollFed = true;
			//this.currentState = "";
	   }
	   else {
	   		pressDefinition.sheetFed = true;
	        pressDefinition.rollFed = false;
			/* this.currentState = "RollFedState"; */
	   }
	   updateControlState();
	}
	private function findItem(name:String, array:ArrayCollection):int {
		for each(var element:Object in array) {
			if (name == element.name) {
				return array.getItemIndex(element);
			}
		}
		return -1;
	}
	private function doDuplicate():void { 
		var tempPress:PressDefinition = new PressDefinition();
		tempPress = pressDefinition;
		tempPress.id = 0; 
		tempPress.prevId = null;
		dataService.addUpdate(tempPress);   		   
	}
	private function doRevert():void{
		dataService.getById("PressDefinition", pressDefinition.id );  
	}
	private function doPressGridClick():void {
	 	var  tempPress : PressDefinition;	
		tempPress=dataGrid.selectedItem as PressDefinition;
		dataService.getById("PressDefinition", tempPress.id );   
		/* pressDefinition = dataGrid.selectedItem as PressDefinition;
		if (pressDefinition.salesCat != null)
			charge_sales_category_combo.selectedIndex = findItem(pressDefinition.salesCat.name, salesCategories);
		this.charges = pressDefinition.charges;
		updateControlState(); */
		doPressType();
	}
	private function mapAccountData():void {
		 //pressDefinition.pressDefID = PressDefID;
		 pressDefinition.name = Name.text;
		 pressDefinition.machineName = MachineName.text;
		 pressDefinition.outputDescrip = OutPutDescription.text;
		 pressDefinition.productionLocation = ProductionLocation.text;
		 pressDefinition.costCenter = CostCenter.text;
		 pressDefinition.oemDeviceID = OEMDeviceID.text;
		 pressDefinition.machineID = parseInt(MachineId.text) 
		 pressDefinition.costingPress = CostingPress.selected;
		 pressDefinition.integratedDevice = IntegratedDevice.selected;
		 pressDefinition.maxPaperSize = MaxPaperSize.text;
		 pressDefinition.minPaperSize = MinPaperSize.text;
		 pressDefinition.maxRollWidth = MaxRollWidth.text;
		 pressDefinition.minRollWidth = MinRollWidth.text;
		 pressDefinition.cutoffLength = parseInt(cutoff.text);
		 pressDefinition.laborRate = parseInt(LaborRate.text);
		 pressDefinition.laborMarkup = parseInt(laborMarkup.text);
		 pressDefinition.fixedWaste = parseInt(FixedWaste.text);
		 pressDefinition.minLabor = parseInt(MinLabor.text);
		 pressDefinition.setupMin = parseInt(SetupMin.text);
		 pressDefinition.setupAddSig= parseInt(SetupAddSig.text);
		 pressDefinition.workTurnSetup= parseInt(WorkTurn.text);
		 pressDefinition.setupAddHead = parseInt(setupAddHead.text);
		 pressDefinition.washupFee = parseInt(WashupFee.text);
		 pressDefinition.addSigAddHead= parseInt(AddSigAddHead.text);
		 pressDefinition.washupMin = parseInt(WashupMin.text);
		 pressDefinition.washupPerFountain = parseInt(WashupTimeFountain.text);
		 pressDefinition.gripEdge = parseInt(GripEdge.text);
		 pressDefinition.perfector = Perfector.selected;
		 pressDefinition.avgImpressPerHour = parseInt(AvgImpressPerhour.text);
		 pressDefinition.setupAddRun = parseInt(SetupAddRun.text);
		 pressDefinition.numberHeads= parseInt(NumberHeads.text);
		 pressDefinition.salesCat = charge_sales_category_combo.selectedItem as SalesCategory;
		 if (sheetFedRadio.selected == true)
		 {
			 pressDefinition.sheetFed = sheetFedRadio.selected;
		 }else
		 {
			 pressDefinition.rollFed = rollFedRadio.selected;
		 }
	}
	private function doSave():void {
	 
		mapAccountData()
		dataService.addUpdate(pressDefinition);
	}       
	private function doNext():void {
	 
	  
		doSave();  
		dataGrid.selectedIndex = dataGrid.selectedIndex+1;
		dataGrid.setFocus();
		doPressGridClick();
		
		                                        		
	}       
	private function doPrev():void {
	  
	 	doSave();  
		dataGrid.selectedIndex = dataGrid.selectedIndex-1;
		dataGrid.setFocus();
		doPressGridClick();                          		
	}       
	private function doNew():void {
	    pressDefinition = new PressDefinition();
	 	
	}       
	private function handleSaveResult(ev:ResultEvent):void {
    	loadPressDefinitions();
	}
	private function handleLoadSalesCategoryResult(ev:ResultEvent):void {
		salesCategories = ev.result as ArrayCollection;
	}
	private function handleLoadResult(ev:ResultEvent):void {
	     pressDefinitionArray = ev.result as ArrayCollection;
	}
	private function handleGetResult(ev:ResultEvent):void {
		pressDefinition = ev.result as PressDefinition;
		
		if (pressDefinition.salesCat != null)
			charge_sales_category_combo.selectedIndex = findItem(pressDefinition.salesCat.name, salesCategories);
		this.charges = pressDefinition.charges;
		updateControlState();
	     
	}
	private function handleLoadSystemPreferencesResult(ev:ResultEvent):void {
		systemPreferencesArray = ev.result as ArrayCollection;
		if (systemPreferencesArray.length > 0)
		{
			systemPreferences = systemPreferencesArray.getItemAt(0) as PreferencesSystem;
			this.btnExport.enabled = systemPreferences.enablePricingSystem;
		}else{
			this.btnExport.enabled = false;

		}
	}	                                 
	                                 
	private function handleDeleteResult(ev:ResultEvent):void {
		loadPressDefinitions();
		doNew();
	}
	public function setPriceList(price:PriceListBase): void {
	 	if (press){
	 		pressDefinition.pressPriceList = price as PriceList;
	 		press = false;
	 	}
	 	if (stock){
	 		pressDefinition.stockPriceList = price as PriceList;
	 		stock= false;
	 	}
	 	if (waste){
	 		pressDefinition.wasteChart = price as WasteChart;
	 		waste= false;
	 	}
	 	if (speed){
	 		pressDefinition.speedTable = price as SpeedTable;
	 		speed=false; 
	 	}
	}
	
	private function doDefaultPresses():void {
		var defaultPressWindow:DefaultPressPicker = DefaultPressPicker(PopUpManager.createPopUp(this, DefaultPressPicker, true));
		defaultPressWindow.setStyle("borderAlpha", 0.9);
	}

	private function handleFault(ev:FaultEvent):void {  
		var message:String;
		              
		message = "Error: "                          
		+ ev.fault.faultCode + " - "                                  
		+ ev.fault.faultDetail + " - "                                  
		+ ev.fault.faultString;
		Alert.show(message, "Error", 0, null, null, null, 4);                                 
	}
        
	private function handleClearWasteChart(evt:PriceListPickerSelectEvent):void {
		pressDefinition.wasteChart = null;
		waste = false;
	}
    private function handleSelectWasteChart(evt:PriceListPickerSelectEvent):void {
		if (evt.priceList != null) {
			pressDefinition.wasteChart = evt.priceList as WasteChart;
		} else {
			this.wasteChart = null;
			Alert.show("Price List Picker returned a null price list", "Error");
		}  
    }
    
    private function handleSelectPressPriceList(evt:PriceListPickerSelectEvent):void {
		if (evt.priceList != null) {
			pressDefinition.pressPriceList = evt.priceList as PriceList;
		} else {
			pressDefinition.pressPriceList = null;
			Alert.show("Price List Picker returned a null price list", "Error");
		}  
    }
    
    private function handleClearSpeedTable(evt:PriceListPickerSelectEvent):void {
		pressDefinition.speedTable = null;
		speed = false;
    }
    private function handleSelectSpeedTable(evt:PriceListPickerSelectEvent):void {
		if (evt.priceList != null) {
			pressDefinition.speedTable = evt.priceList as SpeedTable;
		} else {
			pressDefinition.speedTable = null;
			Alert.show("Price List Picker returned a null price list", "Error");
		}  
    }
    
    private function handleSelectStockPriceList(evt:PriceListPickerSelectEvent):void {
		if (evt.priceList != null) {
			pressDefinition.stockPriceList = evt.priceList as PriceList;
		} else {
			this.wasteChart = null;
			Alert.show("Price List Picker returned a null price list", "Error");
		}  
    }
    private function doAddCharge():void{
		var chargePicker:ChargeDefinitionPicker=ChargeDefinitionPicker(PopUpManager.createPopUp(this, ChargeDefinitionPicker, true));
		chargePicker.charges = this.charges;
		chargePicker.setStyle("borderAlpha", 0.9);
		chargePicker.addEventListener(ChargeDefinitionSelectEvent.CHARGEDEFINITIONCOMPLETE, handleChargeDefinitionComplete);
		chargePicker.addEventListener(ChargeDefinitionSelectEvent.CHARGEDEFINITIONCANCEL, handleChargeDefinitionCancel);

	}
	private function handleChargeDefinitionComplete(evt:ChargeDefinitionSelectEvent):void
	{
		this.pressDefinition.charges=evt.chargeArray;
	}
	private function handleChargeDefinitionCancel(evt:ChargeDefinitionSelectEvent):void
	{
		
	}		
    private function handlePriceListPickerCancel(evt:PriceListPickerSelectEvent):void {
    	
    }
    
    private function updateControlState():void {
		
		switch (sheetFedRadio.selected) {
			case true:
				MaxPaperSize.visible =  true;
				label1.visible = true;
				label2.visible = true;
				widthlabel1.visible = false;
				widthlabel2.visible = false;
				label3.visible = true;
				label4.visible = true;
				SetupAddRun.visible = true;
				WorkTurn.visible = true;
				Perfector.enabled = true;
				MinRollWidth.visible =false;
				MaxRollWidth.visible = false;
				cutoff.visible= false;
				cutoffLabel.visible = false;
				break;
			
			case false:
				MaxPaperSize.visible = false;
				label1.visible = false;
				label2.visible = false;	
				label3.visible = false;	
				label4.visible = false;
				SetupAddRun.visible = false;	
				WorkTurn.visible = false;
				Perfector.enabled = false
				widthlabel1.visible = true;
				widthlabel2.visible = true;
				MinRollWidth.visible =true;
				MaxRollWidth.visible = true;
				cutoff.visible= true;
				cutoffLabel.visible = true;
				break;
			 
				
			}
	
	}
]]>
                             
</mx:Script>	
	<mx:Label x="10" y="127" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.Name')}" width="113" textAlign="right"/>
	<mx:Label x="10" y="149" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MachineName')}" textAlign="right" width="113"/>
	<mx:DataGrid y="0" id="dataGrid" dataProvider="{pressDefinitionArray}" verticalScrollPolicy="on"  horizontalScrollPolicy="on" height="116" showHeaders="true" headerSeparatorSkin="mx.skins.ProgrammaticSkin" itemClick="doPressGridClick()" verticalGridLines="false" left="0" right="10">
		<mx:columns>
			<mx:DataGridColumn width="25" sortable="false" textAlign="center" headerText=" " dataField="sheetFed" itemRenderer="com.efi.printsmith.itemRenderers.PressIconRenderer"/>
			<mx:DataGridColumn width="25" sortable="false" textAlign="center" headerText=" " dataField="rollFed" itemRenderer="com.efi.printsmith.itemRenderers.PressIconRenderer"/>
			<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.Name')}" dataField="name" width="300"/>
			<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MachineName')}" dataField="machineName" width="300"/>
			<mx:DataGridColumn headerText="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MachineID')}" dataField="machineID" width="100"/>
		</mx:columns>
	</mx:DataGrid>

	<mx:Label x="10" y="171" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.OutputDescription')}" textAlign="right" width="113"/>
	<mx:Label x="10" y="193" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.ProductionLocation')}" textAlign="right" width="113"/>
	<mx:Label x="10" y="215" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'scheduleJobEditCmd.CostCenter')}" textAlign="right" width="113"/>
	<mx:Label x="10" y="237" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.OEMDeviceID')}" textAlign="right" width="113"/>	
	<mx:TextInput x="131" y="124" width="263" id="Name" text="{pressDefinition.name}" height="20"/>
	<mx:TextInput x="131" y="146" width="263" id="MachineName" text="{pressDefinition.machineName}" height="20"/>
	<mx:TextInput x="131" y="168" width="263" id="OutPutDescription" text="{pressDefinition.outputDescrip}" height="20"/>
	<mx:TextInput x="131" y="190" id="ProductionLocation" width="263" text="{pressDefinition.productionLocation}"  height="20"/>
	<mx:TextInput x="131" y="212" id="CostCenter" width="263" text="{pressDefinition.costCenter}" height="20"/>
	<mx:TextInput x="131" y="234" id="OEMDeviceID" width="263" text="{pressDefinition.oemDeviceID}" height="20"/>
	<mx:Label x="402" y="126" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MachineID')}" width="67" textAlign="right"/>
	<mx:TextInput x="477" y="124" width="146" id="MachineId" text="{pressDefinition.machineID}" editable="true"/>
	<mx:CheckBox x="424" y="234" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.CostingPress')}" id="CostingPress" selected="{pressDefinition.costingPress}"/>
	<mx:CheckBox x="556" y="234" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.IntegratedDevice')}" id="IntegratedDevice" selected="{pressDefinition.integratedDevice}"/>
	<mx:HRule x="10" y="255" width="732" height="16" left="5" right="5"/>
	<mx:Label x="13" y="274" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MaxPaperSize')}" textAlign="right" id="label1" width="110"/>
	<mx:Label x="13" y="274" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MaxRollWidth')}" textAlign="right" id="widthlabel1" width="110"/>
	<mx:Label x="13" y="296" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MinPaperSize')}" textAlign="right" id="label2" width="110"/>
	<mx:Label x="13" y="296" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MinRollWidth')}" textAlign="right" id="widthlabel2" width="110"/>
	<mx:Label x="13" y="318" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.LaborRate')}" textAlign="right" width="110"/>
	<mx:Label x="13" y="340" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.MinimumLabor')}" textAlign="right" width="110"/>
	<mx:Label x="13" y="362" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.Setupminutes')}" textAlign="right" width="110"/>
	<mx:Label x="13" y="384" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.SetupAddlRun')}" textAlign="right" id="label3" width="110"/>
	<mx:Label x="69" y="406" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.SetupAddlSignatures')}" textAlign="right" width="110"/>
	<mx:Label x="69" y="428" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.WorkAndTurn2ndSideSe')}" textAlign="right" id="label4" width="110"/>
	<mx:TextInput x="131" y="272" id="MaxPaperSize" text="{pressDefinition.maxPaperSize}" height="20" width="171"/>
	<mx:TextInput x="131" y="272" id="MaxRollWidth" text="{pressDefinition.maxRollWidth}" height="20" width="171"/>
	<mx:TextInput x="131" y="294" id="MinPaperSize" text="{pressDefinition.minPaperSize}" height="20"/>
	<mx:TextInput x="131" y="294" id="MinRollWidth" text="{pressDefinition.minRollWidth}" height="20"/>
	<mx:TextInput x="131" y="316" width="76" id="LaborRate" text="{pressDefinition.laborRate}" height="20"/>
	<mx:TextInput x="131" y="338" width="92" id="MinLabor" text="{pressDefinition.minLabor}" height="20"/>
	<mx:TextInput x="131" y="360" width="92" id="SetupMin" text="{pressDefinition.setupMin}" height="20"/>
	<mx:TextInput x="131" y="382" width="92" id="SetupAddRun" text="{pressDefinition.setupAddRun}" height="20"/>
	<mx:TextInput x="187" y="404" id="SetupAddSig" text="{pressDefinition.setupAddSig}" height="20" width="82"/>
	<mx:TextInput x="187" y="426" id="WorkTurn" text="{pressDefinition.workTurnSetup}" height="20" width="82"/>
	<mx:Label x="231" y="340" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.minutes')}" width="114"/>
	<mx:Label x="231" y="362" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.Heads')}" width="51"/>
	<mx:TextInput x="290" y="360" width="37" id="NumberHeads" text="{pressDefinition.numberHeads}" height="20"/>
	<mx:TextInput x="493" y="272" width="106" id="AvgImpressPerhour" text="{pressDefinition.avgImpressPerHour}" height="20"/>
	<mx:TextInput x="492" y="316" width="106" id="laborMarkup" text="{pressDefinition.laborMarkup}" height="20"/>
	<mx:TextInput x="492" y="338" width="79" id="FixedWaste" text="{pressDefinition.fixedWaste}" height="20"/>
	<mx:TextInput x="492" y="360" width="79" id="setupAddHead" text="{pressDefinition.setupAddHead}" height="20"/>
	<mx:TextInput x="492" y="382" width="106" id="WashupFee" text="{pressDefinition.washupFee}" height="20"/>
	<mx:TextInput x="492" y="404" width="106" id="AddSigAddHead" text="{pressDefinition.addSigAddHead}" height="20"/>
	<mx:Label x="609" y="428" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.perwash')}"/>
	<mx:TextInput x="492" y="448" width="106" id="WashupTimeFountain" text="{pressDefinition.washupPerFountain}" height="20"/>
	<mx:TextInput x="492" y="426" width="106" id="WashupMin" text="{pressDefinition.washupMin}" height="20"/>
	<mx:Label x="335" y="274" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.AvgImpressionsHour')}" textAlign="right" width="149"/>
	<mx:Label x="335" y="318" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.LaborMarkup')}" textAlign="right" width="149"/>
	<mx:Label x="353" y="340"  text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.FixedWaste')}" textAlign="right" width="131"/>
	<mx:Label x="353" y="362" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.SetupAddlHead')}" textAlign="right" id="label5" width="131"/>
	<mx:Label x="335" y="384" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.WashupFee')}" textAlign="right" width="149"/>
	<mx:Label x="335" y="406" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.AddlSignaturesAddlHe')}" textAlign="right" width="149"/>
	<mx:Label x="335" y="428" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.WashupMinutes')}" textAlign="right" width="149"/>
	<mx:Label x="335" y="450" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.WashupTimePerFountai')}" textAlign="right" width="149"/>
	<mx:HRule x="10" y="476" width="732" height="6" left="5" right="5"/>
	<mx:HRule x="10" y="603" width="732" height="6" left="5" right="5"/>
	<mx:Button x="11" y="490" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.SpeedTable')}" width="97" click="doSpeedTable();"/>
	<mx:Button x="375" y="617" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.StockPriceList')}" click="doStockPriceList();"/>
	<mx:Button x="375" y="647" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.PressPriceList')}" click="doPressPriceList();"/>
	<mx:Button x="11" y="518" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.WasteChart')}" click="doWasteChart();" width="97"/>
	<mx:Button x="10" y="546" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.AddCharges')}" width="98" click="doAddCharge();"/>
	<mx:CheckBox x="380" y="491" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.Perfector')}" id="Perfector" selected="{pressDefinition.perfector}"/>
	<mx:Label x="525" y="493" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.GripperEdge')}"/>
	<mx:TextInput x="637" y="491" id="GripEdge" text="{pressDefinition.gripEdge}" height="20" width="104"/>
	<mx:Text x="132" y="520" id="selectedWasteChart" text ="{pressDefinition.wasteChart.name}" width="195"/>
	<mx:Text x="132" y="493" id="selectedSpeedTable" text ="{pressDefinition.speedTable.name}" width="195"/>
	<mx:Text x="501" y="619" id="selectedStockPriceList" text = "{pressDefinition.stockPriceList.name}" width="166"/>
	<mx:Text x="502" y="649" id="selectedPressPriceList" text="{pressDefinition.pressPriceList.name}" width="165"/>
	<mx:Button x="380" y="545" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'otherPrefCmd.Default')}" click="doDefaultPresses()" width="107"/>
	<mx:Button x="56" y="617" height="38" click="doSave()" width="38">
		<mx:icon>@Embed(source='../../../../assets/file.png')</mx:icon>
	</mx:Button>
	<mx:Button x="10" y="617"  height="38" click="doNew()" width="38">
		<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
	</mx:Button>
	<mx:Button x="194" y="617" height="38" click="doDelete()" width="38">
		<mx:icon>@Embed(source='../../../../assets/delete.png')</mx:icon>
	</mx:Button>
	<mx:RadioButtonGroup id="pressTypeRadioGroup"/>
	<mx:RadioButton x="415" y="152" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.SheetFed0')}" groupName="pressTypeRadioGroup" id="sheetFedRadio" selected="{pressDefinition.sheetFed}" change="doPressType()" />
	<mx:RadioButton x="415" y="182" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.RollFed0')}" groupName="pressTypeRadioGroup" id="rollFedRadio" selected="{pressDefinition.rollFed}" change="doPressType()"/>
	<mx:Button x="264" y="617" width="38" id="btnExport" height="38">
		<mx:icon>@Embed(source='../../../../assets/export.png')</mx:icon>
	</mx:Button>
	<mx:Label x="335" y="296" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'pressDefCmd.CutoffLength')}" width="149" id="cutoffLabel" textAlign="right"/>
	<mx:TextInput x="492" y="294" width="106" id="cutoff" text="{pressDefinition.cutoffLength}"/>
	<mx:Label x="380" y="520" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'copierDefCmd.SalesCat')}" textAlign="right"/>
	<mx:ComboBox x="496" y="518.5" height="21" id="charge_sales_category_combo" dataProvider= "{salesCategories}" labelField="name"  width="112" textAlign="right"/>
	<mx:List x="132" y="546" height="49" width="137" id="chargelist" dataProvider="{pressDefinition.charges}" labelField="name"></mx:List>
	<mx:Button x="102" y="617" label="Button" width="38" height="38" click="doDuplicate();">
		<mx:icon>@Embed(source='../../../../assets/duplicate.png')</mx:icon>
	</mx:Button>
	<mx:Button x="148" y="617" height="38" width="38" click="doRevert();">
		<mx:icon>@Embed(source='../../../../assets/revert.png')</mx:icon>
	</mx:Button>
	<mx:Label x="10" y="661" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.New')}" width="38"/>
	<mx:Label x="56" y="661" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Save')}" width="38"/>
	<mx:Label x="102" y="661" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Duplicate')}" width="38"/>
	<mx:Label x="148" y="661" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Revert')}" width="38"/>
	<mx:Label x="194" y="661" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Delete')}" width="38"/>
	<mx:Label x="264" y="661" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Export')}" width="38"/>
</mx:Panel>
