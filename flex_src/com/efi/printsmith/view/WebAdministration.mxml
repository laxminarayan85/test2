<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:view="com.efi.printsmith.view.*" 
	xmlns:vo="com.efi.printsmith.data.*" 
	xmlns:fc="http://www.adobe.com/2006/fc" 
	xmlns:hc="com.hillelcoren.components.*"
	width="100%" height="620" 
	title="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rStandardMenuText.WebAdministration')}"
	creationComplete="init()" 
	label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rStandardMenuText.WebAdministration')}" 
	name="Web Administrator" 
	xmlns:ns1="com.efi.printsmith.components.*">

<mx:RemoteObject id="dataService" destination="dataService">
	<mx:method name="getAll" fault="handleFault(event)" result="handleLoadResult(event)"/>
	<mx:method name="addUpdate" fault="handleFault(event)" result="handleSaveResult(event)"/>
	<mx:method name="deleteItem" fault="handleFault(event)" result="handleDeleteResult(event)"/>
</mx:RemoteObject>
 
<mx:Producer id="producer" destination="webadmin"/>
<mx:Consumer id="consumer" destination="webadmin"  message="messageHandler(event.message)"/>
<mx:Consumer id="notification_consumer" destination="notifications" message="messageHandler(event.message)"/>


<mx:Script> 
                                  
<![CDATA[
	import mx.collections.ArrayCollection;

	import mx.rpc.Responder;
	import mx.controls.Alert;                                         
	import mx.managers.PopUpManager;                                         
	import mx.containers.TitleWindow;                                         
	import mx.collections.ArrayCollection;                                         
	import mx.rpc.events.ResultEvent;                                         
	import mx.rpc.events.FaultEvent;                                         
	import mx.messaging.messages.AsyncMessage;
	import mx.messaging.messages.IMessage;
    import mx.core.Application;
   	import com.efi.printsmith.events.commandEvents.WebAdmin.*;

    [Bindable]
    private var enableSave:Boolean = true;
    
   
	public function init():void {
		consumer.subscribe();
		notification_consumer.subscribe();     
		
		var eventSite:WebAdminSitePanelEvent = new WebAdminSitePanelEvent(canvasSite, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventAddress.dispatch();

		var eventCatalogs:WebAdminCatalogsPanelEvent = new WebAdminCatalogsPanelEvent(canvasCatalogs, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventCatalogs.dispatch();

		var eventCatagories:WebAdminCatagoriesPanelEvent = new WebAdminCatagoriesPanelEvent(canvasCatagories, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventCatagories.dispatch();

		var eventProducts:WebAdminProductsPanelEvent = new WebAdminProductsPanelEvent(canvasProducts, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventProducts.dispatch();

		var eventQuestions:WebAdminQuestionsPanelEvent = new WebAdminQuestionsPanelEvent(canvasQuestions, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventQuestions.dispatch();

		var eventGraphics:WebAdminGraphicsPanelEvent = new WebAdminGraphicsPanelEvent(canvasGraphics, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventGraphics.dispatch();

		var eventAdmin:WebAdminAdminPanelEvent = new WebAdminAdminPanelEvent(canvasAdmin, new mx.rpc.Responder(handleUIPanelEvent, handleUIPanelFault));
		eventAdmin.dispatch();
		    
	}      

	public function handleUIPanelEvent(evt:ResultEvent):void {
		evt.result.panel.enabled = evt.result.enabled;
	}		
	private function handleUIPanelFault(ev:FaultEvent):void {  
	}
	      
	private function messageHandler(message:IMessage):void
	{
	}
                                  
	
	private function doNew():void {
	 	
	}  
	private function doDelete():void {
	 	
	}  

	
	private function doSave():void {
		                                    		
	}   

	
	private function handleSaveResult(ev:ResultEvent):void {
//		this.contact = ev.result as Contact;
	}

	
	private function handleLoadResult(ev:ResultEvent):void {
//		contacts = ev.result as ArrayCollection;
	}
	
	private function handleFault(ev:FaultEvent):void {  
		var message:String;
		              
		message = "Error: "                          
		+ ev.fault.faultCode + " - "                                  
		+ ev.fault.faultDetail + " - "                                  
		+ ev.fault.faultString;
		Alert.show(message, "Error");                                 
	}
	    
	
]]>	

                             
</mx:Script>

<mx:VBox width="100%" height="100%">
	<mx:Canvas width="100%" height="100%">
		<mx:TabNavigator x="0" y="0" width="100%" height="100%" creationPolicy="all">
			<mx:Canvas id="canvasSite" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kWebAdminCmd.Site')}" width="100%" height="100%">
			</mx:Canvas>
			<mx:Canvas id="canvasCatalogs" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kWebAdminCmd.Catalogs')}" width="100%" height="100%">
				<mx:Button x="286" y="10" width="38" height="38" click="doNew();">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button id="button_delete" x="506" y="10" width="38" height="38" click="doDelete();">
					<mx:icon>@Embed(source='../../../../assets/delete.png')</mx:icon>
				</mx:Button>
				<mx:Label x="496" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Delete')}" width="58" textAlign="center"/>
				<mx:Button x="342" y="10" width="38" height="38" id="btnTransmit" enabled="false" click="doTransmit();">
					<mx:icon>@Embed(source='../../../../assets/transmit.png')</mx:icon>
				</mx:Button>
				<mx:Label x="332" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Transmit')}" width="58" textAlign="center"/>
				<mx:Button x="399" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
				<mx:Label x="389" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Revert')}" width="58" textAlign="center"/>
				<mx:Button x="450" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/duplicate.png')</mx:icon>
				</mx:Button>
				<mx:Label x="440" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Duplicate')}" width="58" textAlign="center"/>
				<mx:Label x="286" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.New')}" width="38" textAlign="center"/>
			</mx:Canvas>
			<mx:Canvas id="canvasCatagories" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kWebAdminCmd.Categories')}" width="100%" height="100%">
				<mx:Button x="286" y="10" width="38" height="38" click="doNew();">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button id="button_delete0" x="506" y="10" width="38" height="38" click="doDelete();">
					<mx:icon>@Embed(source='../../../../assets/delete.png')</mx:icon>
				</mx:Button>
				<mx:Label x="496" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Delete')}" width="58" textAlign="center"/>
				<mx:Button x="342" y="10" width="38" height="38" id="btnTransmit0" enabled="false" click="doTransmit();">
					<mx:icon>@Embed(source='../../../../assets/transmit.png')</mx:icon>
				</mx:Button>
				<mx:Label x="332" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Transmit')}" width="58" textAlign="center"/>
				<mx:Button x="399" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
				<mx:Label x="389" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Revert')}" width="58" textAlign="center"/>
				<mx:Button x="450" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/duplicate.png')</mx:icon>
				</mx:Button>
				<mx:Label x="440" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Duplicate')}" width="58" textAlign="center"/>
				<mx:Label x="286" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.New')}" width="38" textAlign="center"/>
			</mx:Canvas>
			<mx:Canvas id="canvasProducts" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kWebAdminCmd.Products')}" width="100%" height="100%">
				<mx:Button x="286" y="10" width="38" height="38" click="doNew();">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button id="button_delete1" x="506" y="10" width="38" height="38" click="doDelete();">
					<mx:icon>@Embed(source='../../../../assets/delete.png')</mx:icon>
				</mx:Button>
				<mx:Label x="496" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Delete')}" width="58" textAlign="center"/>
				<mx:Button x="342" y="10" width="38" height="38" id="btnTransmit1" enabled="false" click="doTransmit();">
					<mx:icon>@Embed(source='../../../../assets/transmit.png')</mx:icon>
				</mx:Button>
				<mx:Label x="332" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Transmit')}" width="58" textAlign="center"/>
				<mx:Button x="399" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
				<mx:Label x="389" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Revert')}" width="58" textAlign="center"/>
				<mx:Button x="450" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/duplicate.png')</mx:icon>
				</mx:Button>
				<mx:Label x="440" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Duplicate')}" width="58" textAlign="center"/>
				<mx:Label x="286" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.New')}" width="38" textAlign="center"/>
			</mx:Canvas>
			<mx:Canvas id="canvasQuestions" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kWebAdminCmd.Questions')}" width="100%" height="100%">
				<mx:Button x="286" y="10" width="38" height="38" click="doNew();">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button id="button_delete2" x="506" y="10" width="38" height="38" click="doDelete();">
					<mx:icon>@Embed(source='../../../../assets/delete.png')</mx:icon>
				</mx:Button>
				<mx:Label x="496" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Delete')}" width="58" textAlign="center"/>
				<mx:Button x="342" y="10" width="38" height="38" id="btnTransmit2" enabled="false" click="doTransmit();">
					<mx:icon>@Embed(source='../../../../assets/transmit.png')</mx:icon>
				</mx:Button>
				<mx:Label x="332" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Transmit')}" width="58" textAlign="center"/>
				<mx:Button x="399" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
				<mx:Label x="389" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Revert')}" width="58" textAlign="center"/>
				<mx:Button x="450" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/duplicate.png')</mx:icon>
				</mx:Button>
				<mx:Label x="440" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Duplicate')}" width="58" textAlign="center"/>
				<mx:Label x="286" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.New')}" width="38" textAlign="center"/>
			</mx:Canvas>
			<mx:Canvas id="canvasGraphics" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kWebAdminCmd.Graphics')}" width="100%" height="100%">
				<mx:Button x="286" y="10" width="38" height="38" click="doNew();">
					<mx:icon>@Embed(source='../../../../assets/new.png')</mx:icon>
				</mx:Button>
				<mx:Button id="button_delete3" x="506" y="10" width="38" height="38" click="doDelete();">
					<mx:icon>@Embed(source='../../../../assets/delete.png')</mx:icon>
				</mx:Button>
				<mx:Label x="496" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Delete')}" width="58" textAlign="center"/>
				<mx:Button x="342" y="10" width="38" height="38" id="btnTransmit3" enabled="false" click="doTransmit();">
					<mx:icon>@Embed(source='../../../../assets/transmit.png')</mx:icon>
				</mx:Button>
				<mx:Label x="332" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Transmit')}" width="58" textAlign="center"/>
				<mx:Button x="399" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/cancel.png')</mx:icon>
				</mx:Button>
				<mx:Label x="389" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Revert')}" width="58" textAlign="center"/>
				<mx:Button x="450" y="10" width="38" height="38" click="doRevert();">
					<mx:icon>@Embed(source='../../../../assets/duplicate.png')</mx:icon>
				</mx:Button>
				<mx:Label x="440" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.Duplicate')}" width="58" textAlign="center"/>
				<mx:Label x="286" y="46" text="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'rButtonLabel.New')}" width="38" textAlign="center"/>
			</mx:Canvas>
			<mx:Canvas id="canvasAdmin" label="{resourceManager.getString(Snowmass.RESOURCE_BUNDLE, 'kWebAdminCmd.Admin')}" width="100%" height="100%">
			</mx:Canvas>
		</mx:TabNavigator>
	</mx:Canvas>
</mx:VBox>
</mx:Panel>